
FROM python:3.12-slim

# Instalar depend�ncias do sistema completas para GUI
RUN apt-get update && apt-get install -y \
    gcc \
    g++ \
    libc6-dev \
    python3-tk \
    tk-dev \
    libtk8.6 \
    libtk8.6-dev \
    libx11-dev \
    libxext-dev \
    libxrender-dev \
    libxinerama-dev \
    libxi-dev \
    libxrandr-dev \
    libxcursor-dev \
    libxcomposite-dev \
    libxdamage-dev \
    libxfixes-dev \
    libxss-dev \
    libxtst-dev \
    libasound2-dev \
    libpango1.0-dev \
    libcairo2-dev \
    libgdk-pixbuf2.0-dev \
    libgtk-3-dev \
    libglib2.0-dev \
    libatk1.0-dev \
    libgirepository1.0-dev \
    && rm -rf /var/lib/apt/lists/*

# Instalar PyInstaller
RUN pip install pyinstaller

# Definir diret�rio de trabalho
WORKDIR /app

# Copiar arquivos do projeto
COPY . .

# Instalar depend�ncias Python completas
RUN pip install -r requirements.txt

# Comando para compilar com todos os recursos
CMD ["pyinstaller", "--clean", "app23a_linux.spec"]

