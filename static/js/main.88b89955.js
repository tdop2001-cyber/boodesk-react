/*! For license information please see main.88b89955.js.LICENSE.txt */
(()=>{"use strict";var e={8:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(284);function n(e){var t=function(e,t){if("object"!=(0,a.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=(0,a.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,a.A)(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var a=r(43),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,s={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,p={};function x(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||g}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||g}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,a){var n,s={},o=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,n)&&!k.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,n,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,w(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),T(o,t,n,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);l+=T(i,t,n,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,n,d=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var a=[],n=0;return T(e,a,"","",function(e){return t.call(r,e,n++)}),a}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=n,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=I,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:n,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},210:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(829)),s=a(r(736));class o{constructor(e){let{headers:t={},schema:r,fetch:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=a}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new n.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let i;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;l.searchParams.append(t,r)})):(i="POST",c=t);const d=new Headers(this.headers);return n&&d.set("Prefer","count=".concat(n)),new s.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}t.default=o},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,o=n>>>1;a<o;){var i=2*(a+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,r))c<n&&0>s(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[i]=r,a=i);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,m=3,g=!1,f=!1,p=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function w(e){if(p=!1,y(e),!f)if(null!==a(c))f=!0,O(j);else{var t=a(d);null!==t&&R(w,t.startTime-e)}}function j(e,r){f=!1,p&&(p=!1,b(S),S=-1),g=!0;var s=m;try{for(y(r),h=a(c);null!==h&&(!(h.expirationTime>r)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,m=h.priorityLevel;var i=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===a(c)&&n(c),y(r)}else n(c);h=a(c)}if(null!==h)var l=!0;else{var u=a(d);null!==u&&R(w,u.startTime-r),l=!1}return l}finally{h=null,m=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,C=null,S=-1,_=5,E=-1;function T(){return!(t.unstable_now()-E<_)}function A(){if(null!==C){var e=t.unstable_now();E=e;var r=!0;try{r=C(!0,e)}finally{r?N():(k=!1,C=null)}}else k=!1}if("function"===typeof v)N=function(){v(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,N=function(){D.postMessage(null)}}else N=function(){x(A,0)};function O(e){C=e,k||(k=!0,N())}function R(e,r){S=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(p?(b(S),S=-1):p=!0,R(w,s-o))):(e.sortIndex=i,r(c,e),f||g||(f=!0,O(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},284:(e,t,r)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}r.d(t,{A:()=>a})},286:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(630)),s=a(r(611));t.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a,n;let o=null,i=null,l=null,c=e.status,d=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(i="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const n=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),s=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/");n&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(o={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,l=null,c=406,d="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(i=[],o=null,c=200,d="OK")}catch(u){404===e.status&&""===t?(c=204,d="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(n=null===o||void 0===o?void 0:o.details)||void 0===n?void 0:n.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&this.shouldThrowOnError)throw new s.default(o)}return{error:o,data:i,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,a;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(a=null===e||void 0===e?void 0:e.code)&&void 0!==a?a:"")},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(286));class s extends n.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:n=a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n?"".concat(n,".order"):"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:a=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n="undefined"===typeof a?"offset":"".concat(a,".offset"),s="undefined"===typeof a?"limit":"".concat(a,".limit");return this.url.searchParams.set(n,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:n=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(i,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,r)=>{var a=r(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{r.r(t),r.d(t,{Headers:()=>o,Request:()=>i,Response:()=>l,default:()=>s,fetch:()=>n});var a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const n=a.fetch,s=a.fetch.bind(a),o=a.Headers,i=a.Request,l=a.Response},730:(e,t,r)=>{var a=r(43),n=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function f(e,t,r,a,n,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,r,a){var n=p.hasOwnProperty(t)?p[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!u.call(g,e)||!u.call(m,e)&&(h.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);p[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);p[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);p[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,L=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=a.stack.split("\n"),o=n.length-1,i=s.length-1;1<=o&&0<=i&&n[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(n[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||n[o]!==s[i]){var l="\n"+n[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case C:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=V(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){$(e,t);var r=H(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),a=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function pe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=fe(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(me).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Ce(e){if(e=vn(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wn(t),je(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ae=!1;function Pe(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==Ne||null!==ke)&&(Te(),_e())}}function De(e,t){var r=e.stateNode;if(null===r)return null;var a=wn(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Oe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Oe=!1}function Ie(e,t,r,a,n,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Me=!1,Le=null,ze=!1,Ue=null,Fe={onError:function(e){Me=!0,Le=e}};function Be(e,t,r,a,n,s,o,i,l){Me=!1,Le=null,Ie.apply(Fe,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(a=n.return)){r=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return He(n),e;if(o===a)return He(n),t;o=o.sibling}throw Error(s(188))}if(r.return!==a.return)r=n,a=o;else{for(var i=!1,l=n.child;l;){if(l===r){i=!0,r=n,a=o;break}if(l===a){i=!0,a=n,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,a=n;break}if(l===a){i=!0,a=o,r=n;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,Je=n.unstable_requestPaint,$e=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~n;0!==i?a=ut(i):0!==(s&=o)&&(a=ut(s))}else 0!==(o=r&~n)?a=ut(o):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-ot(t)),a|=e[r],t&=~n;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-ot(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,Ct,St=!1,_t=[],Et=null,Tt=null,At=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Lt(e){var t=bn(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void Ct(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vn(r))&&jt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ye=a,r.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Ut(e,t,r){zt(e)&&r.delete(t)}function Ft(){St=!1,null!==Et&&zt(Et)&&(Et=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==At&&zt(At)&&(At=null),Pt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var r=1;r<_t.length;r++){var a=_t[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Pt.forEach(t),Dt.forEach(t),r=0;r<Ot.length;r++)(a=Ot[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(r=Ot[0]).blockedOn;)Lt(r),null===r.blockedOn&&Ot.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,a){var n=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,r,a)}finally{vt=n,Wt.transition=s}}function Gt(e,t,r,a){var n=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,r,a)}finally{vt=n,Wt.transition=s}}function Kt(e,t,r,a){if(Ht){var n=Yt(e,t,r,a);if(null===n)Wa(e,t,a,Qt,r),It(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Et=Mt(Et,e,t,r,a,n),!0;case"dragenter":return Tt=Mt(Tt,e,t,r,a,n),!0;case"mouseover":return At=Mt(At,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(It(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==n;){var s=vn(n);if(null!==s&&wt(s),null===(s=Yt(e,t,r,a))&&Wa(e,t,a,Qt,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Wa(e,t,a,null,r)}}var Qt=null;function Yt(e,t,r,a){if(Qt=null,null!==(e=bn(e=we(a))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,a=r.length,n="value"in $t?$t.value:$t.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var o=a-e;for(t=1;t<=o&&r[a-t]===n[s-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,s){for(var o in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=L({},lr,{view:0,detail:0}),ur=nr(dr),hr=L({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),mr=nr(hr),gr=nr(L({},hr,{dataTransfer:0})),fr=nr(L({},dr,{relatedTarget:0})),pr=nr(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=nr(xr),vr=nr(L({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return Nr}var Cr=L({},dr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=nr(Cr),_r=nr(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(L({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Tr=nr(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=nr(Ar),Dr=[9,13,27,32],Or=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Ir=d&&"TextEvent"in window&&!Rr,Mr=d&&(!Or||Rr&&8<Rr&&11>=Rr),Lr=String.fromCharCode(32),zr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,a){Se(a),0<(t=Va(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Vr=null,Gr=null;function Kr(e){La(e,0)}function Qr(e){if(K(yn(e)))return e}function Yr(e,t){if("change"===e)return t}var Jr=!1;if(d){var $r;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}$r=Xr}else $r=!1;Jr=$r&&(!document.documentMode||9<document.documentMode)}function ea(){Vr&&(Vr.detachEvent("onpropertychange",ta),Gr=Vr=null)}function ta(e){if("value"===e.propertyName&&Qr(Gr)){var t=[];Hr(t,Gr,e,we(e)),Pe(Kr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Gr=r,(Vr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Gr)}function na(e,t){if("click"===e)return Qr(t)}function sa(e,t){if("input"===e||"change"===e)return Qr(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ia(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!u.call(t,n)||!oa(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=la(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ha(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=void 0===a.end?s:Math.min(a.end,n),!e.extend&&s>a&&(n=a,a=s,s=n),n=ca(r,s);var o=ca(r,a);n&&o&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ga=d&&"documentMode"in document&&11>=document.documentMode,fa=null,pa=null,xa=null,ba=!1;function va(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ba||null==fa||fa!==Q(a)||("selectionStart"in(a=fa)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&ia(xa,a)||(xa=a,0<(a=Va(pa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=fa)))}function ya(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},ja={},Na={};function ka(e){if(ja[e])return ja[e];if(!wa[e])return e;var t,r=wa[e];for(t in r)if(r.hasOwnProperty(t)&&t in Na)return ja[e]=r[t];return e}d&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Ca=ka("animationend"),Sa=ka("animationiteration"),_a=ka("animationstart"),Ea=ka("transitionend"),Ta=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){Ta.set(e,t),l(t,[e])}for(var Da=0;Da<Aa.length;Da++){var Oa=Aa[Da];Pa(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}Pa(Ca,"onAnimationEnd"),Pa(Sa,"onAnimationIteration"),Pa(_a,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Ma(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,n,o,i,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var d=Le;Me=!1,Le=null,ze||(ze=!0,Ue=d)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var i=a[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&n.isPropagationStopped())break e;Ma(n,i,c),s=l}else for(o=0;o<a.length;o++){if(l=(i=a[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&n.isPropagationStopped())break e;Ma(n,i,c),s=l}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function za(e,t){var r=t[fn];void 0===r&&(r=t[fn]=new Set);var a=e+"__bubble";r.has(a)||(qa(t,e,2,!1),r.add(a))}function Ua(e,t,r){var a=0;t&&(a|=4),qa(r,e,a,t)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Fa]){e[Fa]=!0,o.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fa]||(t[Fa]=!0,Ua("selectionchange",!1,t))}}function qa(e,t,r,a){switch(Jt(t)){case 1:var n=Vt;break;case 4:n=Gt;break;default:n=Kt}r=n.bind(null,t,r,e),n=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Wa(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var i=a.stateNode.containerInfo;if(i===n||8===i.nodeType&&i.parentNode===n)break;if(4===o)for(o=a.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;o=o.return}for(;null!==i;){if(null===(o=bn(i)))return;if(5===(l=o.tag)||6===l){a=s=o;continue e}i=i.parentNode}}a=a.return}Pe(function(){var a=s,n=we(r),o=[];e:{var i=Ta.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Ca:case Sa:case _a:l=pr;break;case Ea:l=Tr;break;case"scroll":l=ur;break;case"wheel":l=Pr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var m,g=a;null!==g;){var f=(m=g).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=De(g,h))&&d.push(Ha(g,f,m)))),u)break;g=g.return}0<d.length&&(i=new l(i,c,null,r,n),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!bn(c)&&!c[gn])&&(l||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?bn(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=mr,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=_r,f="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?i:yn(l),m=null==c?i:yn(c),(i=new d(f,g+"leave",l,r,n)).target=u,i.relatedTarget=m,f=null,bn(n)===a&&((d=new d(h,g+"enter",c,r,n)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,g=0,m=d=l;m;m=Ga(m))g++;for(m=0,f=h;f;f=Ga(f))m++;for(;0<g-m;)d=Ga(d),g--;for(;0<m-g;)h=Ga(h),m--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ga(d),h=Ga(h)}d=null}else d=null;null!==l&&Ka(o,i,l,d,!1),null!==c&&null!==u&&Ka(o,u,c,d,!0)}if("select"===(l=(i=a?yn(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var p=Yr;else if(Wr(i))if(Jr)p=sa;else{p=aa;var x=ra}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(p=na);switch(p&&(p=p(e,a))?Hr(o,p,r,n):(x&&x(e,i,a),"focusout"===e&&(x=i._wrapperState)&&x.controlled&&"number"===i.type&&ee(i,"number",i.value)),x=a?yn(a):window,e){case"focusin":(Wr(x)||"true"===x.contentEditable)&&(fa=x,pa=a,xa=null);break;case"focusout":xa=pa=fa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,va(o,r,n);break;case"selectionchange":if(ga)break;case"keydown":case"keyup":va(o,r,n)}var b;if(Or)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Br?Ur(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Mr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==v?"onCompositionEnd"===v&&Br&&(b=er()):(Xt="value"in($t=n)?$t.value:$t.textContent,Br=!0)),0<(x=Va(a,v)).length&&(v=new vr(v,e,null,r,n),o.push({event:v,listeners:x}),b?v.data=b:null!==(b=Fr(r))&&(v.data=b))),(b=Ir?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(zr=!0,Lr);case"textInput":return(e=t.data)===Lr&&zr?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Or&&Ur(e,t)?(e=er(),Zt=Xt=$t=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Va(a,"onBeforeInput")).length&&(n=new vr("onBeforeInput","beforeinput",null,r,n),o.push({event:n,listeners:a}),n.data=b))}La(o,t)})}function Ha(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Va(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=De(e,r))&&a.unshift(Ha(e,s,n)),null!=(s=De(e,t))&&a.push(Ha(e,s,n))),e=e.return}return a}function Ga(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,r,a,n){for(var s=t._reactName,o=[];null!==r&&r!==a;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===a)break;5===i.tag&&null!==c&&(i=c,n?null!=(l=De(r,s))&&o.unshift(Ha(r,l,i)):n||null!=(l=De(r,s))&&o.push(Ha(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Qa=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace(Qa,"\n").replace(Ya,"")}function $a(e,t,r){if(t=Ja(t),Ja(e)!==t&&r)throw Error(s(425))}function Xa(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,sn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:rn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void qt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);qt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,mn="__reactProps$"+un,gn="__reactContainer$"+un,fn="__reactEvents$"+un,pn="__reactListeners$"+un,xn="__reactHandles$"+un;function bn(e){var t=e[hn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[hn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[hn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function vn(e){return!(e=e[hn]||e[gn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wn(e){return e[mn]||null}var jn=[],Nn=-1;function kn(e){return{current:e}}function Cn(e){0>Nn||(e.current=jn[Nn],jn[Nn]=null,Nn--)}function Sn(e,t){Nn++,jn[Nn]=e.current,e.current=t}var _n={},En=kn(_n),Tn=kn(!1),An=_n;function Pn(e,t){var r=e.type.contextTypes;if(!r)return _n;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in r)s[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function On(){Cn(Tn),Cn(En)}function Rn(e,t,r){if(En.current!==_n)throw Error(s(168));Sn(En,t),Sn(Tn,r)}function In(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var n in a=a.getChildContext())if(!(n in t))throw Error(s(108,W(e)||"Unknown",n));return L({},r,a)}function Mn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,An=En.current,Sn(En,e),Sn(Tn,Tn.current),!0}function Ln(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=In(e,t,An),a.__reactInternalMemoizedMergedChildContext=e,Cn(Tn),Cn(En),Sn(En,e)):Cn(Tn),Sn(Tn,r)}var zn=null,Un=!1,Fn=!1;function Bn(e){null===zn?zn=[e]:zn.push(e)}function qn(){if(!Fn&&null!==zn){Fn=!0;var e=0,t=vt;try{var r=zn;for(vt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}zn=null,Un=!1}catch(n){throw null!==zn&&(zn=zn.slice(e+1)),Ke(Ze,qn),n}finally{vt=t,Fn=!1}}return null}var Wn=[],Hn=0,Vn=null,Gn=0,Kn=[],Qn=0,Yn=null,Jn=1,$n="";function Xn(e,t){Wn[Hn++]=Gn,Wn[Hn++]=Vn,Vn=e,Gn=t}function Zn(e,t,r){Kn[Qn++]=Jn,Kn[Qn++]=$n,Kn[Qn++]=Yn,Yn=e;var a=Jn;e=$n;var n=32-ot(a)-1;a&=~(1<<n),r+=1;var s=32-ot(t)+n;if(30<s){var o=n-n%5;s=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Jn=1<<32-ot(t)+n|r<<n|a,$n=s+e}else Jn=1<<s|r<<n|a,$n=e}function es(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function ts(e){for(;e===Vn;)Vn=Wn[--Hn],Wn[Hn]=null,Gn=Wn[--Hn],Wn[Hn]=null;for(;e===Yn;)Yn=Kn[--Qn],Kn[Qn]=null,$n=Kn[--Qn],Kn[Qn]=null,Jn=Kn[--Qn],Kn[Qn]=null}var rs=null,as=null,ns=!1,ss=null;function os(e,t){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yn?{id:Jn,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=as;if(t){var r=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=cn(r.nextSibling);var a=rs;t&&is(e,t)?os(a,r):(e.flags=-4097&e.flags|2,ns=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!ns)return ds(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=cn(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=rs?cn(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=as;e;)e=cn(e.nextSibling)}function ms(){as=rs=null,ns=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function ps(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var n=a,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=n.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Lc(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===N?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&bs(s)===t.type)?((a=n(t,r.props)).ref=ps(e,t,r),a.return=e,a):((a=Rc(r.type,r.key,r.props,null,e.mode,a)).ref=ps(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zc(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Ic(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=ps(e,null,t),r.return=e,r;case j:return(t=zc(t,e.mode,r)).return=e,t;case D:return h(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;xs(e,t)}return null}function m(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:l(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===n?c(e,t,r,a):null;case j:return r.key===n?d(e,t,r,a):null;case D:return m(e,t,(n=r._init)(r._payload),a)}if(te(r)||I(r))return null!==n?null:u(e,t,r,a,null);xs(e,r)}return null}function g(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case j:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case D:return g(e,t,r,(0,a._init)(a._payload),n)}if(te(a)||I(a))return u(t,e=e.get(r)||null,a,n,null);xs(t,a)}return null}function f(n,s,i,l){for(var c=null,d=null,u=s,f=s=0,p=null;null!==u&&f<i.length;f++){u.index>f?(p=u,u=null):p=u.sibling;var x=m(n,u,i[f],l);if(null===x){null===u&&(u=p);break}e&&u&&null===x.alternate&&t(n,u),s=o(x,s,f),null===d?c=x:d.sibling=x,d=x,u=p}if(f===i.length)return r(n,u),ns&&Xn(n,f),c;if(null===u){for(;f<i.length;f++)null!==(u=h(n,i[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return ns&&Xn(n,f),c}for(u=a(n,u);f<i.length;f++)null!==(p=g(u,n,f,i[f],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?f:p.key),s=o(p,s,f),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(n,e)}),ns&&Xn(n,f),c}function p(n,i,l,c){var d=I(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=i,p=i=0,x=null,b=l.next();null!==f&&!b.done;p++,b=l.next()){f.index>p?(x=f,f=null):x=f.sibling;var v=m(n,f,b.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&t(n,f),i=o(v,i,p),null===u?d=v:u.sibling=v,u=v,f=x}if(b.done)return r(n,f),ns&&Xn(n,p),d;if(null===f){for(;!b.done;p++,b=l.next())null!==(b=h(n,b.value,c))&&(i=o(b,i,p),null===u?d=b:u.sibling=b,u=b);return ns&&Xn(n,p),d}for(f=a(n,f);!b.done;p++,b=l.next())null!==(b=g(f,n,p,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?p:b.key),i=o(b,i,p),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(n,e)}),ns&&Xn(n,p),d}return function e(a,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===N){if(7===d.tag){r(a,d.sibling),(s=n(d,o.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&bs(c)===d.type){r(a,d.sibling),(s=n(d,o.props)).ref=ps(a,d,o),s.return=a,a=s;break e}r(a,d);break}t(a,d),d=d.sibling}o.type===N?((s=Ic(o.props.children,a.mode,l,o.key)).return=a,a=s):((l=Rc(o.type,o.key,o.props,null,a.mode,l)).ref=ps(a,s,o),l.return=a,a=l)}return i(a);case j:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(a,s.sibling),(s=n(s,o.children||[])).return=a,a=s;break e}r(a,s);break}t(a,s),s=s.sibling}(s=zc(o,a.mode,l)).return=a,a=s}return i(a);case D:return e(a,s,(d=o._init)(o._payload),l)}if(te(o))return f(a,s,o,l);if(I(o))return p(a,s,o,l);xs(a,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(a,s.sibling),(s=n(s,o)).return=a,a=s):(r(a,s),(s=Lc(o,a.mode,l)).return=a,a=s),i(a)):r(a,s)}}var ys=vs(!0),ws=vs(!1),js=kn(null),Ns=null,ks=null,Cs=null;function Ss(){Cs=ks=Ns=null}function _s(e){var t=js.current;Cn(js),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ts(e,t){Ns=e,Cs=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Ds(e){null===Ps?Ps=[e]:Ps.push(e)}function Os(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,Ds(t)):(r.next=n.next,n.next=r),t.interleaved=r,Rs(e,a)}function Rs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Is=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&El)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Rs(e,r)}return null===(n=a.interleaved)?(t.next=t,Ds(a)):(t.next=n.next,n.next=t),a.interleaved=t,Rs(e,r)}function Fs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Bs(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?n=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,a){var n=e.updateQueue;Is=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(o=0,d=c=l=null,i=s;;){var h=i.lane,m=i.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,f=i;switch(h=t,m=r,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(m,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(m,u,h):g)||void 0===h)break e;u=L({},u,h);break e;case 2:Is=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,o|=h;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(h=i).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{o|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=u}}function Ws(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var Hs={},Vs=kn(Hs),Gs=kn(Hs),Ks=kn(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Sn(Ks,t),Sn(Gs,e),Sn(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cn(Vs),Sn(Vs,t)}function Js(){Cn(Vs),Cn(Gs),Cn(Ks)}function $s(e){Qs(Ks.current);var t=Qs(Vs.current),r=le(t,e.type);t!==r&&(Sn(Gs,e),Sn(Vs,r))}function Xs(e){Gs.current===e&&(Cn(Vs),Cn(Gs))}var Zs=kn(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ao=y.ReactCurrentDispatcher,no=y.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,mo=0;function go(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!oa(e[r],t[r]))return!1;return!0}function po(e,t,r,a,n,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?Zo:ei,e=r(a,n),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ao.current=ti,e=r(a,n)}while(uo)}if(ao.current=Xo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function xo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function yo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=io,n=a.baseQueue,o=r.pending;if(null!==o){if(null!==n){var i=n.next;n.next=o.next,o.next=i}a.baseQueue=n=o,r.pending=null}if(null!==n){o=n.next,a=a.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,i=a):c=c.next=h,oo.lanes|=u,Ml|=u}d=d.next}while(null!==d&&d!==o);null===c?i=a:c.next=l,oa(a,t.memoizedState)||(vi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){n=e;do{o=n.lane,oo.lanes|=o,Ml|=o,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,o=t.memoizedState;if(null!==n){r.pending=null;var i=n=n.next;do{o=e(o,i.action),i=i.next}while(i!==n);oa(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,a]}function No(){}function ko(e,t){var r=oo,a=vo(),n=t(),o=!oa(a.memoizedState,n);if(o&&(a.memoizedState=n,vi=!0),a=a.queue,Mo(_o.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Po(9,So.bind(null,r,a,n,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&so)||Co(r,t,n)}return n}function Co(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function So(e,t,r,a){t.value=r,t.getSnapshot=a,Eo(t)&&To(e)}function _o(e,t,r){return r(function(){Eo(t)&&To(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!oa(e,r)}catch(a){return!0}}function To(e){var t=Rs(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Do(){return vo().memoizedState}function Oo(e,t,r,a){var n=bo();oo.flags|=e,n.memoizedState=Po(1|t,r,void 0,void 0===a?null:a)}function Ro(e,t,r,a){var n=vo();a=void 0===a?null:a;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==a&&fo(a,o.deps))return void(n.memoizedState=Po(t,r,s,a))}oo.flags|=e,n.memoizedState=Po(1|t,r,s,a)}function Io(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Ro(2048,8,e,t)}function Lo(e,t){return Ro(4,2,e,t)}function zo(e,t){return Ro(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ro(4,4,Uo.bind(null,t,e),r)}function Bo(){}function qo(e,t){var r=vo();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&fo(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Wo(e,t){var r=vo();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&fo(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=r):(oa(r,t)||(r=ft(),oo.lanes|=r,Ml|=r,e.baseState=!0),t)}function Vo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var a=no.transition;no.transition={};try{e(!1),t()}finally{vt=r,no.transition=a}}function Go(){return vo().memoizedState}function Ko(e,t,r){var a=tc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Yo(e))Jo(t,r);else if(null!==(r=Os(e,t,r,a))){rc(r,e,a,ec()),$o(r,t,a)}}function Qo(e,t,r){var a=tc(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Jo(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(n.hasEagerState=!0,n.eagerState=i,oa(i,o)){var l=t.interleaved;return null===l?(n.next=n,Ds(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Os(e,t,n,a))&&(rc(r,e,a,n=ec()),$o(r,t,a))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $o(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Xo={readContext:As,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var r=bo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=bo();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Vo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=oo,n=bo();if(ns){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Tl)throw Error(s(349));0!==(30&so)||Co(a,t,r)}n.memoizedState=r;var o={value:r,getSnapshot:t};return n.queue=o,Io(_o.bind(null,a,o,e),[e]),a.flags|=2048,Po(9,So.bind(null,a,o,r,t),void 0,null),r},useId:function(){var e=bo(),t=Tl.identifierPrefix;if(ns){var r=$n;t=":"+t+"R"+(r=(Jn&~(1<<32-ot(Jn)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:As,useCallback:qo,useContext:As,useEffect:Mo,useImperativeHandle:Fo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:Wo,useReducer:wo,useRef:Do,useState:function(){return wo(yo)},useDebugValue:Bo,useDeferredValue:function(e){return Ho(vo(),io.memoizedState,e)},useTransition:function(){return[wo(yo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},ti={readContext:As,useCallback:qo,useContext:As,useEffect:Mo,useImperativeHandle:Fo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:Wo,useReducer:jo,useRef:Do,useState:function(){return jo(yo)},useDebugValue:Bo,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[jo(yo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ai(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=zs(a,n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,n))&&(rc(t,e,n,a),Fs(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ec(),n=tc(e),s=zs(a,n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,n))&&(rc(t,e,n,a),Fs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),a=tc(e),n=zs(r,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Us(e,n,a))&&(rc(t,e,a,r),Fs(t,e,a))}};function si(e,t,r,a,n,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ia(r,a)||!ia(n,s))}function oi(e,t,r){var a=!1,n=_n,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(n=Dn(t)?An:En.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Pn(e,n):_n),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function li(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=As(s):(s=Dn(t)?An:En.current,n.context=Pn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ni.enqueueReplaceState(n,n.state,null),qs(e,r,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",a=t;do{r+=B(a),a=a.return}while(a);var n=r}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,r){(r=zs(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Hl||(Hl=!0,Vl=a),ui(0,t)},r}function gi(e,t,r){(r=zs(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof a&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new hi;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=Cc.bind(null,e,t,r),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,r,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=zs(-1,1)).tag=2,Us(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var bi=y.ReactCurrentOwner,vi=!1;function yi(e,t,r,a){t.child=null===e?ws(t,null,r,a):ys(t,e.child,r,a)}function wi(e,t,r,a,n){r=r.render;var s=t.ref;return Ts(t,n),a=po(e,t,r,a,s,n),r=xo(),null===e||vi?(ns&&r&&es(t),t.flags|=1,yi(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hi(e,t,n))}function ji(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,a,n))}if(s=e.child,0===(e.lanes&n)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ia)(o,a)&&e.ref===t.ref)return Hi(e,t,n)}return t.flags|=1,(e=Oc(s,a)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(ia(s,a)&&e.ref===t.ref){if(vi=!1,t.pendingProps=a=s,0===(e.lanes&n))return t.lanes=e.lanes,Hi(e,t,n);0!==(131072&e.flags)&&(vi=!0)}}return Si(e,t,r,a,n)}function ki(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Ol,Dl),Dl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:r,Sn(Ol,Dl),Dl|=a}else null!==s?(a=s.baseLanes|r,t.memoizedState=null):a=r,Sn(Ol,Dl),Dl|=a;return yi(e,t,n,r),t.child}function Ci(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,r,a,n){var s=Dn(r)?An:En.current;return s=Pn(t,s),Ts(t,n),r=po(e,t,r,a,s,n),a=xo(),null===e||vi?(ns&&a&&es(t),t.flags|=1,yi(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hi(e,t,n))}function _i(e,t,r,a,n){if(Dn(r)){var s=!0;Mn(t)}else s=!1;if(Ts(t,n),null===t.stateNode)Wi(e,t),oi(t,r,a),li(t,r,a,n),a=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pn(t,c=Dn(r)?An:En.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==a||l!==c)&&ii(t,o,a,c),Is=!1;var h=t.memoizedState;o.state=h,qs(t,a,o,n),l=t.memoizedState,i!==a||h!==l||Tn.current||Is?("function"===typeof d&&(ai(t,r,d,a),l=t.memoizedState),(i=Is||si(t,r,i,a,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),o.props=a,o.state=l,o.context=c,a=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=As(l):l=Pn(t,l=Dn(r)?An:En.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||h!==l)&&ii(t,o,a,l),Is=!1,h=t.memoizedState,o.state=h,qs(t,a,o,n);var g=t.memoizedState;i!==u||h!==g||Tn.current||Is?("function"===typeof m&&(ai(t,r,m,a),g=t.memoizedState),(c=Is||si(t,r,c,a,h,g,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(a,g,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,g,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=l,a=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ei(e,t,r,a,s,n)}function Ei(e,t,r,a,n,s){Ci(e,t);var o=0!==(128&t.flags);if(!a&&!o)return n&&Ln(t,r,!1),Hi(e,t,s);a=t.stateNode,bi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&o?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,i,s)):yi(e,t,i,s),t.memoizedState=a.state,n&&Ln(t,r,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?Rn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rn(0,t.context,!1),Ys(e,t.containerInfo)}function Ai(e,t,r,a,n){return ms(),gs(n),t.flags|=256,yi(e,t,r,a),t.child}var Pi,Di,Oi,Ri,Ii={dehydrated:null,treeContext:null,retryLane:0};function Mi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,r){var a,n=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&o)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Sn(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Mc(l,n,0,null),e=Ic(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mi(r),t.memoizedState=Ii,e):zi(t,l));if(null!==(o=e.memoizedState)&&null!==(a=o.dehydrated))return function(e,t,r,a,n,o,i){if(r)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,a=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=a.fallback,n=t.mode,a=Mc({mode:"visible",children:a.children},n,0,null),(o=Ic(o,n,i,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,0!==(1&t.mode)&&ys(t,e.child,null,i),t.child.memoizedState=Mi(i),t.memoizedState=Ii,o);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var l=a.dgst;return a=l,Ui(e,t,i,a=di(o=Error(s(419)),a,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(a=Tl)){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|i))?0:n)&&n!==o.retryLane&&(o.retryLane=n,Rs(e,n),rc(a,e,n,-1))}return fc(),Ui(e,t,i,a=di(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,as=cn(n.nextSibling),rs=t,ns=!0,ss=null,null!==e&&(Kn[Qn++]=Jn,Kn[Qn++]=$n,Kn[Qn++]=Yn,Jn=e.id,$n=e.overflow,Yn=t),t=zi(t,a.children),t.flags|=4096,t)}(e,t,l,n,a,o,r);if(i){i=n.fallback,l=t.mode,a=(o=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==a?i=Oc(a,i):(i=Ic(i,l,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=null===(l=e.child.memoizedState)?Mi(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ii,n}return e=(i=e.child).sibling,n=Oc(i,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zi(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,r,a){return null!==a&&gs(a),ys(t,e.child,null,r),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,r)}function Bi(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function qi(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(yi(e,t,a.children,r),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,r,t);else if(19===e.tag)Fi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sn(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Bi(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===eo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Bi(t,!0,r,null,s);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vi(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Ki(e,t,r){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Dn(t.type)&&On(),Gi(t),null;case 3:return a=t.stateNode,Js(),Cn(Tn),Cn(En),ro(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Di(e,t),Gi(t),null;case 5:Xs(t);var n=Qs(Ks.current);if(r=t.type,null!==e&&null!=t.stateNode)Oi(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Gi(t),null}if(e=Qs(Vs.current),us(t)){a=t.stateNode,r=t.type;var o=t.memoizedProps;switch(a[hn]=t,a[mn]=o,e=0!==(1&t.mode),r){case"dialog":za("cancel",a),za("close",a);break;case"iframe":case"object":case"embed":za("load",a);break;case"video":case"audio":for(n=0;n<Ra.length;n++)za(Ra[n],a);break;case"source":za("error",a);break;case"img":case"image":case"link":za("error",a),za("load",a);break;case"details":za("toggle",a);break;case"input":J(a,o),za("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},za("invalid",a);break;case"textarea":ne(a,o),za("invalid",a)}for(var l in be(r,o),n=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==o.suppressHydrationWarning&&$a(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$a(a.textContent,c,e),n=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&za("scroll",a)}switch(r){case"input":G(a),Z(a,o,!0);break;case"textarea":G(a),oe(a);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(a.onclick=Xa)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),"select"===r&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[hn]=t,e[mn]=a,Pi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,a),r){case"dialog":za("cancel",e),za("close",e),n=a;break;case"iframe":case"object":case"embed":za("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ra.length;n++)za(Ra[n],e);n=a;break;case"source":za("error",e),n=a;break;case"img":case"image":case"link":za("error",e),za("load",e),n=a;break;case"details":za("toggle",e),n=a;break;case"input":J(e,a),n=Y(e,a),za("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=L({},a,{value:void 0}),za("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),za("invalid",e)}for(o in be(r,n),c=n)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?pe(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&za("scroll",e):null!=d&&v(e,o,d,l))}switch(r){case"input":G(e),Z(e,a,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(o=a.value)?re(e,!!a.multiple,o,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xa)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Ri(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(r=Qs(Ks.current),Qs(Vs.current),us(t)){if(a=t.stateNode,r=t.memoizedProps,a[hn]=t,(o=a.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:$a(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$a(a.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[hn]=t,t.stateNode=a}return Gi(t),null;case 13:if(Cn(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,o=!1;else if(o=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hn]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Js(),Di(e,t),null===e&&Ba(t.stateNode.containerInfo),Gi(t),null;case 10:return _s(t.type._context),Gi(t),null;case 19:if(Cn(Zs),null===(o=t.memoizedState))return Gi(t),null;if(a=0!==(128&t.flags),null===(l=o.rendering))if(a)Vi(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Vi(o,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sn(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,a=!0,Vi(o,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=eo(l))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ns)return Gi(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,a=!0,Vi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,r=Zs.current,Sn(Zs,a?1&r|2:1&r),t):(Gi(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(ts(t),t.tag){case 1:return Dn(t.type)&&On(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Cn(Tn),Cn(En),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Cn(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cn(Zs),null;case 4:return Js(),null;case 10:return _s(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Pi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Di=function(){},Oi=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Qs(Vs.current);var s,o=null;switch(r){case"input":n=Y(e,n),a=Y(e,a),o=[];break;case"select":n=L({},n,{value:void 0}),a=L({},a,{value:void 0}),o=[];break;case"textarea":n=ae(e,n),a=ae(e,a),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Xa)}for(d in be(r,a),r=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&za("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ri=function(e,t,r,a){r!==a&&(t.flags|=4)};var Yi=!1,Ji=!1,$i="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){kc(e,t,a)}else r.current=null}function el(e,t,r){try{r()}catch(a){kc(e,t,a)}}var tl=!1;function rl(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&el(t,r,s)}n=n.next}while(n!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[mn],delete t[fn],delete t[pn],delete t[xn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xa));else if(4!==a&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function hl(e,t,r){for(r=r.child;null!==r;)ml(e,t,r),r=r.sibling}function ml(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(i){}switch(r.tag){case 5:Ji||Zi(r,t);case 6:var a=dl,n=ul;dl=null,hl(e,t,r),ul=n,null!==(dl=a)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),qt(e)):ln(dl,r.stateNode));break;case 4:a=dl,n=ul,dl=r.stateNode.containerInfo,ul=!0,hl(e,t,r),dl=a,ul=n;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var s=n,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),n=n.next}while(n!==a)}hl(e,t,r);break;case 1:if(!Ji&&(Zi(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(i){kc(r,t,i)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Ji=(a=Ji)||null!==r.memoizedState,hl(e,t,r),Ji=a):hl(e,t,r);break;default:hl(e,t,r)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $i),t.forEach(function(t){var a=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function fl(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));ml(o,i,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),xl(e),4&a){try{rl(3,e,e.return),al(3,e)}catch(p){kc(e,e.return,p)}try{rl(5,e,e.return)}catch(p){kc(e,e.return,p)}}break;case 1:fl(t,e),xl(e),512&a&&null!==r&&Zi(r,r.return);break;case 5:if(fl(t,e),xl(e),512&a&&null!==r&&Zi(r,r.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(p){kc(e,e.return,p)}}if(4&a&&null!=(n=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(n,o),ve(l,i);var d=ve(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];"style"===u?pe(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):v(n,u,h,d)}switch(l){case"input":X(n,o);break;case"textarea":se(n,o);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var g=o.value;null!=g?re(n,!!o.multiple,g,!1):m!==!!o.multiple&&(null!=o.defaultValue?re(n,!!o.multiple,o.defaultValue,!0):re(n,!!o.multiple,o.multiple?[]:"",!1))}n[mn]=o}catch(p){kc(e,e.return,p)}}break;case 6:if(fl(t,e),xl(e),4&a){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(p){kc(e,e.return,p)}}break;case 3:if(fl(t,e),xl(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(p){kc(e,e.return,p)}break;case 4:default:fl(t,e),xl(e);break;case 13:fl(t,e),xl(e),8192&(n=e.child).flags&&(o=null!==n.memoizedState,n.stateNode.isHidden=o,!o||null!==n.alternate&&null!==n.alternate.memoizedState||(Bl=$e())),4&a&&gl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ji=(d=Ji)||u,fl(t,e),Ji=d):fl(t,e),xl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(h=Xi=u;null!==Xi;){switch(g=(m=Xi).child,m.tag){case 0:case 11:case 14:case 15:rl(4,m,m.return);break;case 1:Zi(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){a=m,r=m.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(p){kc(a,r,p)}}break;case 5:Zi(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==g?(g.return=m,Xi=g):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,d?"function"===typeof(o=n.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(p){kc(e,e.return,p)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){kc(e,e.return,p)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),xl(e),4&a&&gl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(he(n,""),a.flags&=-33),cl(e,il(e),n);break;case 3:case 4:var o=a.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,r){Xi=e,vl(e,t,r)}function vl(e,t,r){for(var a=0!==(1&e.mode);null!==Xi;){var n=Xi,s=n.child;if(22===n.tag&&a){var o=null!==n.memoizedState||Yi;if(!o){var i=n.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Yi;var c=Ji;if(Yi=o,(Ji=l)&&!c)for(Xi=n;null!==Xi;)l=(o=Xi).child,22===o.tag&&null!==o.memoizedState?jl(n):null!==l?(l.return=o,Xi=l):jl(n);for(;null!==s;)Xi=s,vl(s,t,r),s=s.sibling;Xi=n,Yi=i,Ji=c}yl(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Xi=s):yl(e)}}function yl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ji)if(null===r)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,a);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ws(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}Ji||512&t.flags&&nl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xi=r;break}Xi=t.return}}function wl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xi=r;break}Xi=t.return}}function jl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{al(4,t)}catch(l){kc(t,r,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(l){kc(t,n,l)}}var s=t.return;try{nl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{nl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var Nl,kl=Math.ceil,Cl=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,_l=y.ReactCurrentBatchConfig,El=0,Tl=null,Al=null,Pl=0,Dl=0,Ol=kn(0),Rl=0,Il=null,Ml=0,Ll=0,zl=0,Ul=null,Fl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Vl=null,Gl=null,Kl=!1,Ql=null,Yl=0,Jl=0,$l=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?$e():-1!==Xl?Xl:Xl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,a){if(50<Jl)throw Jl=0,$l=null,Error(s(185));xt(e,r,a),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Ll|=r),4===Rl&&ic(e,Pl)),ac(e,a),1===r&&0===El&&0===(1&t.mode)&&(ql=$e()+500,Un&&qn()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=n[o];-1===l?0!==(i&r)&&0===(i&a)||(n[o]=mt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var a=ht(e,e===Tl?Pl:0);if(0===a)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){Un=!0,Bn(e)}(lc.bind(null,e)):Bn(lc.bind(null,e)),sn(function(){0===(6&El)&&qn()}),r=null;else{switch(yt(a)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Tc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(s(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var a=ht(e,e===Tl?Pl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=pc(e,a);else{t=a;var n=El;El|=2;var o=gc();for(Tl===e&&Pl===t||(Wl=null,ql=$e()+500,hc(e,t));;)try{bc();break}catch(l){mc(e,l)}Ss(),Cl.current=o,El=n,null!==Al?t=0:(Tl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(n=gt(e))&&(a=n,t=sc(e,n))),1===t)throw r=Il,hc(e,0),ic(e,a),ac(e,$e()),r;if(6===t)ic(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!oa(s(),n))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=pc(e,a))&&(0!==(o=gt(e))&&(a=o,t=sc(e,o))),1===t))throw r=Il,hc(e,0),ic(e,a),ac(e,$e()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Fl,Wl);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(wc.bind(null,e,Fl,Wl),t);break}wc(e,Fl,Wl);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var i=31-ot(a);o=1<<i,(i=t[i])>n&&(n=i),a&=~o}if(a=n,10<(a=(120>(a=$e()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kl(a/1960))-a)){e.timeoutHandle=rn(wc.bind(null,e,Fl,Wl),a);break}wc(e,Fl,Wl);break;default:throw Error(s(329))}}}return ac(e,$e()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Fl,Fl=r,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ic(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),a=1<<r;e[r]=-1,t&=~a}}function lc(e){if(0!==(6&El))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return ac(e,$e()),null;var r=pc(e,t);if(0!==e.tag&&2===r){var a=gt(e);0!==a&&(t=a,r=sc(e,a))}if(1===r)throw r=Il,hc(e,0),ic(e,t),ac(e,$e()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Wl),ac(e,$e()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(ql=$e()+500,Un&&qn())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&El)&&jc();var t=El;El|=1;var r=_l.transition,a=vt;try{if(_l.transition=null,vt=1,e)return e()}finally{vt=a,_l.transition=r,0===(6&(El=t))&&qn()}}function uc(){Dl=Ol.current,Cn(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Al)for(r=Al.return;null!==r;){var a=r;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&On();break;case 3:Js(),Cn(Tn),Cn(En),ro();break;case 5:Xs(a);break;case 4:Js();break;case 13:case 19:Cn(Zs);break;case 10:_s(a.type._context);break;case 22:case 23:uc()}r=r.return}if(Tl=e,Al=e=Oc(e.current,null),Pl=Dl=t,Rl=0,Il=null,zl=Ll=Ml=0,Fl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(a=(r=Ps[t]).interleaved)){r.interleaved=null;var n=a.next,s=r.pending;if(null!==s){var o=s.next;s.next=n,a.next=o}r.pending=a}Ps=null}return e}function mc(e,t){for(;;){var r=Al;try{if(Ss(),ao.current=Xo,co){for(var a=oo.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Sl.current=null,null===r||null===r.return){Rl=1,Il=t,Al=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=pi(i);if(null!==g){g.flags&=-257,xi(g,i,l,0,t),1&g.mode&&fi(o,d,t),c=d;var f=(t=g).updateQueue;if(null===f){var p=new Set;p.add(c),t.updateQueue=p}else f.add(c);break e}if(0===(1&t)){fi(o,d,t),fc();break e}c=Error(s(426))}else if(ns&&1&l.mode){var x=pi(i);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xi(x,i,l,0,t),gs(ci(c,l));break e}}o=c=ci(c,l),4!==Rl&&(Rl=2),null===Ul?Ul=[o]:Ul.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,mi(0,c,t));break e;case 1:l=c;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,gi(o,l,t));break e}}o=o.return}while(null!==o)}yc(r)}catch(y){t=y,Al===r&&null!==r&&(Al=r=r.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=Xo,null===e?Xo:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Ml)&&0===(268435455&Ll)||ic(Tl,Pl)}function pc(e,t){var r=El;El|=2;var a=gc();for(Tl===e&&Pl===t||(Wl=null,hc(e,t));;)try{xc();break}catch(n){mc(e,n)}if(Ss(),El=r,Cl.current=a,null!==Al)throw Error(s(261));return Tl=null,Pl=0,Rl}function xc(){for(;null!==Al;)vc(Al)}function bc(){for(;null!==Al&&!Ye();)vc(Al)}function vc(e){var t=Nl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?yc(e):Al=t,Sl.current=null}function yc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ki(r,t,Dl)))return void(Al=r)}else{if(null!==(r=Qi(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,r){var a=vt,n=_l.transition;try{_l.transition=null,vt=1,function(e,t,r,a){do{jc()}while(null!==Ql);if(0!==(6&El))throw Error(s(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-ot(r),s=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~s}}(e,o),e===Tl&&(Al=Tl=null,Pl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Tc(tt,function(){return jc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=_l.transition,_l.transition=null;var i=vt;vt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(Za=Ht,ha(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var g;h!==r||0!==n&&3!==h.nodeType||(l=i+n),h!==o||0!==a&&3!==h.nodeType||(c=i+a),3===h.nodeType&&(i+=h.nodeValue.length),null!==(g=h.firstChild);)m=h,h=g;for(;;){if(h===e)break t;if(m===r&&++d===n&&(l=i),m===o&&++u===a&&(c=i),null!==(g=h.nextSibling))break;m=(h=m).parentNode}h=g}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Ht=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var p=f.memoizedProps,x=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:ri(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}f=tl,tl=!1}(e,r),pl(r,e),ma(en),Ht=!!Za,en=Za=null,e.current=r,bl(r,e,n),Je(),El=l,vt=i,_l.transition=o}else e.current=r;if(Kl&&(Kl=!1,Ql=e,Yl=n),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,$e()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,qn()}(e,t,r,a)}finally{_l.transition=n,vt=a}return null}function jc(){if(null!==Ql){var e=yt(Yl),t=_l.transition,r=vt;try{if(_l.transition=null,vt=16>e?16:e,null===Ql)var a=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&El))throw Error(s(331));var n=El;for(El|=4,Xi=e.current;null!==Xi;){var o=Xi,i=o.child;if(0!==(16&Xi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var h=u.child;if(null!==h)h.return=u,Xi=h;else for(;null!==Xi;){var m=(u=Xi).sibling,g=u.return;if(sl(u),u===d){Xi=null;break}if(null!==m){m.return=g,Xi=m;break}Xi=g}}}var f=o.alternate;if(null!==f){var p=f.child;if(null!==p){f.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(null!==p)}}Xi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(o=Xi).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Xi=b;break e}Xi=o.return}}var v=e.current;for(Xi=v;null!==Xi;){var y=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Xi=y;else e:for(i=v;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){kc(l,l.return,j)}if(l===i){Xi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xi=w;break e}Xi=l.return}}if(El=n,qn(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(j){}a=!0}return a}finally{vt=r,_l.transition=t}}return!1}function Nc(e,t,r){e=Us(e,t=mi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),ac(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Gl||!Gl.has(a))){t=Us(t,e=gi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Tl===e&&(Pl&r)===r&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>$e()-Bl?hc(e,0):zl|=r),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Rs(e,t))&&(xt(e,t,r),ac(e,r))}function _c(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sc(e,r)}function Tc(e,t){return Ke(e,t)}function Ac(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,r,a){return new Ac(e,t,r,a)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,a,n,o){var i=2;if(a=e,"function"===typeof e)Dc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Ic(r.children,n,o,t);case k:i=8,n|=8;break;case C:return(e=Pc(12,r,t,2|n)).elementType=C,e.lanes=o,e;case T:return(e=Pc(13,r,t,n)).elementType=T,e.lanes=o,e;case A:return(e=Pc(19,r,t,n)).elementType=A,e.lanes=o,e;case O:return Mc(r,n,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case _:i=9;break e;case E:i=11;break e;case P:i=14;break e;case D:i=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(i,r,t,n)).elementType=e,t.type=a,t.lanes=o,t}function Ic(e,t,r,a){return(e=Pc(7,e,a,t)).lanes=r,e}function Mc(e,t,r,a){return(e=Pc(22,e,a,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Pc(6,e,null,t)).lanes=r,e}function zc(e,t,r){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Fc(e,t,r,a,n,s,o,i,l){return e=new Uc(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bc(e){if(!e)return _n;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Dn(r))return In(e,r,t)}return t}function qc(e,t,r,a,n,s,o,i,l){return(e=Fc(r,a,!0,e,0,s,0,i,l)).context=Bc(null),r=e.current,(s=zs(a=ec(),n=tc(r))).callback=void 0!==t&&null!==t?t:null,Us(r,s,n),e.current.lanes=n,xt(e,n,a),ac(e,a),e}function Wc(e,t,r,a){var n=t.current,s=ec(),o=tc(n);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=zs(s,o)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Us(n,t,o))&&(rc(e,n,o,s),Fs(e,n,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tn.current)vi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vi=!1,function(e,t,r){switch(t.tag){case 3:Ti(t),ms();break;case 5:$s(t);break;case 1:Dn(t.type)&&Mn(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Sn(js,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sn(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Li(e,t,r):(Sn(Zs,1&Zs.current),null!==(e=Hi(e,t,r))?e.sibling:null);Sn(Zs,1&Zs.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return qi(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Sn(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Hi(e,t,r)}(e,t,r);vi=0!==(131072&e.flags)}else vi=!1,ns&&0!==(1048576&t.flags)&&Zn(t,Gn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var n=Pn(t,En.current);Ts(t,r),n=po(null,t,a,e,n,r);var o=xo();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(a)?(o=!0,Mn(t)):o=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ms(t),n.updater=ni,t.stateNode=n,n._reactInternals=t,li(t,a,e,r),t=Ei(null,t,a,!0,o,r)):(t.tag=0,ns&&o&&es(t),yi(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(a),e=ri(a,e),n){case 0:t=Si(null,t,a,e,r);break e;case 1:t=_i(null,t,a,e,r);break e;case 11:t=wi(null,t,a,e,r);break e;case 14:t=ji(null,t,a,ri(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,Si(e,t,a,n=t.elementType===a?n:ri(a,n),r);case 1:return a=t.type,n=t.pendingProps,_i(e,t,a,n=t.elementType===a?n:ri(a,n),r);case 3:e:{if(Ti(t),null===e)throw Error(s(387));a=t.pendingProps,n=(o=t.memoizedState).element,Ls(e,t),qs(t,a,null,r);var i=t.memoizedState;if(a=i.element,o.isDehydrated){if(o={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ai(e,t,a,r,n=ci(Error(s(423)),t));break e}if(a!==n){t=Ai(e,t,a,r,n=ci(Error(s(424)),t));break e}for(as=cn(t.stateNode.containerInfo.firstChild),rs=t,ns=!0,ss=null,r=ws(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ms(),a===n){t=Hi(e,t,r);break e}yi(e,t,a,r)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),a=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,i=n.children,tn(a,n)?i=null:null!==o&&tn(a,o)&&(t.flags|=32),Ci(e,t),yi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ys(t,null,a,r):yi(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,wi(e,t,a,n=t.elementType===a?n:ri(a,n),r);case 7:return yi(e,t,t.pendingProps,r),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,o=t.memoizedProps,i=n.value,Sn(js,a._currentValue),a._currentValue=i,null!==o)if(oa(o.value,i)){if(o.children===n.children&&!Tn.current){t=Hi(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===o.tag){(c=zs(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Es(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Es(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}yi(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Ts(t,r),a=a(n=As(n)),t.flags|=1,yi(e,t,a,r),t.child;case 14:return n=ri(a=t.type,t.pendingProps),ji(e,t,a,n=ri(a.type,n),r);case 15:return Ni(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:ri(a,n),Wi(e,t),t.tag=1,Dn(a)?(e=!0,Mn(t)):e=!1,Ts(t,r),oi(t,a,n),li(t,a,n,r),Ei(null,t,a,!0,e,r);case 19:return qi(e,t,r);case 22:return ki(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,a,n){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}Wc(t,o,e,n)}else o=function(e,t,r,a,n){if(n){if("function"===typeof a){var s=a;a=function(){var e=Hc(o);s.call(e)}}var o=qc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[gn]=o.current,Ba(8===e.nodeType?e.parentNode:e),dc(),o}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var i=a;a=function(){var e=Hc(l);i.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[gn]=l.current,Ba(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,r,a)}),l}(r,t,e,n,a);return Hc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[gn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&0!==t&&t<Ot[r].priority;r++);Ot.splice(r,0,e),0===r&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),ac(t,$e()),0===(6&El)&&(ql=$e()+500,qn()))}break;case 13:dc(function(){var t=Rs(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Rs(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},kt=function(){return vt},Ct=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=wn(a);if(!n)throw Error(s(90));K(a),X(a,n)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[vn,yn,wn,Se,_e,cc]},td={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(rd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var r=!1,a="",n=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Fc(e,1,!1,null,0,r,0,a,n),e[gn]=t.current,Ba(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(s(405));var a=null!=r&&r.hydratedSources||null,n=!1,o="",i=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,n,0,o,i),e[gn]=t.current,Ba(e),a)for(e=0;e<a.length;e++)n=(n=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Yc(t)},t.render=function(e,t,r){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!$c(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(374));class s extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";"plain"===a?n="pl":"phrase"===a?n="ph":"websearch"===a&&(n="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(n,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r?"".concat(r,".or"):"or";return this.url.searchParams.append(a,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},829:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:a,fetch:n}=t;this.url=e,this.headers=new Headers(r),this.schema=a,this.fetch=n}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t?"HEAD":"GET";let s=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer","count=".concat(r)),new n.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer","count=".concat(a)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},980:function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=a(r(210));t.PostgrestClient=n.default;const s=a(r(829));t.PostgrestQueryBuilder=s.default;const o=a(r(736));t.PostgrestFilterBuilder=o.default;const i=a(r(374));t.PostgrestTransformBuilder=i.default;const l=a(r(286));t.PostgrestBuilder=l.default;const c=a(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,r),s.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>a[e]);return o.default=()=>a,r.d(s,o),s}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{453:"062fc6be",775:"531e7702",850:"d232a8cc"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="boodesk-react:";r.l=(a,n,s,o)=>{if(e[a])e[a].push(n);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[n];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var n=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach(e=>e(r)),t)return t(r)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/boodesk-react/",(()=>{var e={792:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=s);var o=r.p+r.u(t),i=new Error;r.l(o,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,n[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,s,o=a[0],i=a[1],l=a[2],c=0;if(o.some(t=>0!==e[t])){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)l(r)}for(t&&t(a);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkboodesk_react=self.webpackChunkboodesk_react||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a,n=r(43),s=r.t(n,2),o=r(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,a){return void 0===r&&(r=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,d=s.history,g=a.Pop,f=null,p=x();function x(){return(d.state||{idx:null}).idx}function b(){g=a.Pop;let e=x(),t=null==e?null:e-p;p=e,f&&f({action:g,location:y.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==p&&(p=0,d.replaceState(i({},d.state,{idx:p}),""));let y={get action(){return g},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(l,b),f=e,()=>{s.removeEventListener(l,b),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){g=a.Push;let n=h(y.location,e,t);r&&r(n,e),p=x()+1;let i=u(n,p),l=y.createHref(n);try{d.pushState(i,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&f&&f({action:g,location:y.location,delta:1})},replace:function(e,t){g=a.Replace;let n=h(y.location,e,t);r&&r(n,e),p=x();let s=u(n,p),i=y.createHref(n);d.replaceState(s,"",i),o&&f&&f({action:g,location:y.location,delta:0})},go:e=>d.go(e)};return y}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,a){let n=D(("string"===typeof t?g(t):t).pathname||"/",r);if(null==n)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=P(n);o=T(s[i],e,a)}return o}function v(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(a.length));let i=L([a,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:E(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of y(e.path))n(e,t,a);else n(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let o=y(a.join("/")),i=[];return i.push(...o.map(e=>""===e?s:[s,e].join("/"))),n&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,j=3,N=2,k=1,C=10,S=-2,_=e=>"*"===e;function E(e,t){let r=e.split("/"),a=r.length;return r.some(_)&&(a+=S),t&&(a+=N),r.filter(e=>!_(e)).reduce((e,t)=>e+(w.test(t)?j:""===t?k:C),a)}function T(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,n={},s="/",o=[];for(let i=0;i<a.length;++i){let e=a[i],l=i===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:L([s,d.pathname]),pathnameBase:z(L([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=L([s,d.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],o=s.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function O(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let r=R(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function M(e,t,r,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=g(e):(n=i({},e),c(!n.pathname||!n.pathname.includes("?"),O("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),O("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),O("#","search","hash",n)));let s,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)s=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:n=""}="string"===typeof e?g(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:U(a),hash:F(n)}}(n,s),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const L=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H.apply(this,arguments)}const V=n.createContext(null);const G=n.createContext(null);const K=n.createContext(null);const Q=n.createContext(null);const Y=n.createContext({outlet:null,matches:[],isDataRoute:!1});const J=n.createContext(null);function $(){return null!=n.useContext(Q)}function X(){return $()||c(!1),n.useContext(Q).location}function Z(e){n.useContext(K).static||n.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=n.useContext(Y);return e?function(){let{router:e}=de(le.UseNavigateStable),t=he(ce.UseNavigateStable),r=n.useRef(!1);return Z(()=>{r.current=!0}),n.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,H({fromRouteId:t},n)))},[e,t])}():function(){$()||c(!1);let e=n.useContext(V),{basename:t,future:r,navigator:a}=n.useContext(K),{matches:s}=n.useContext(Y),{pathname:o}=X(),i=JSON.stringify(I(s,r.v7_relativeSplatPath)),l=n.useRef(!1);return Z(()=>{l.current=!0}),n.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void a.go(r);let s=M(r,JSON.parse(i),o,"path"===n.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[t,a,i,o,e])}()}function te(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=n.useContext(K),{matches:s}=n.useContext(Y),{pathname:o}=X(),i=JSON.stringify(I(s,a.v7_relativeSplatPath));return n.useMemo(()=>M(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function re(e,t,r,s){$()||c(!1);let{navigator:o}=n.useContext(K),{matches:i}=n.useContext(Y),l=i[i.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=X();if(t){var f;let e="string"===typeof t?g(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=m;let p=h.pathname||"/",b=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:b});let y=ie(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,s);return t&&y?n.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},y):y}function ae(){let e=function(){var e;let t=n.useContext(J),r=ue(ce.UseRouteError),a=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:s},r):null,null)}const ne=n.createElement(ae,null);class se extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Y.Provider,{value:this.props.routeContext},n.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:r,children:a}=e,s=n.useContext(V);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(Y.Provider,{value:t},a)}function ie(e,t,r,a){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let n=0;n<i.length;n++){let e=i[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,a,s)=>{let o,c=!1,h=null,m=null;var g;r&&(o=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||ne,d&&(u<0&&0===s?(g="route-fallback",!1||me[g]||(me[g]=!0),c=!0,m=null):u===s&&(c=!0,m=a.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,s+1)),p=()=>{let t;return t=o?h:c?m:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(oe,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?n.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=n.useContext(V);return t||c(!1),t}function ue(e){let t=n.useContext(G);return t||c(!1),t}function he(e){let t=function(){let e=n.useContext(Y);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function fe(e){let{to:t,replace:r,state:a,relative:s}=e;$()||c(!1);let{future:o,static:i}=n.useContext(K),{matches:l}=n.useContext(Y),{pathname:d}=X(),u=ee(),h=M(t,I(l,o.v7_relativeSplatPath),d,"path"===s),m=JSON.stringify(h);return n.useEffect(()=>u(JSON.parse(m),{replace:r,state:a,relative:s}),[u,m,s,r,a]),null}function pe(e){c(!1)}function xe(e){let{basename:t="/",children:r=null,location:s,navigationType:o=a.Pop,navigator:i,static:l=!1,future:d}=e;$()&&c(!1);let u=t.replace(/^\/*/,"/"),h=n.useMemo(()=>({basename:u,navigator:i,static:l,future:H({v7_relativeSplatPath:!1},d)}),[u,d,i,l]);"string"===typeof s&&(s=g(s));let{pathname:m="/",search:f="",hash:p="",state:x=null,key:b="default"}=s,v=n.useMemo(()=>{let e=D(m,u);return null==e?null:{location:{pathname:e,search:f,hash:p,state:x,key:b},navigationType:o}},[u,m,f,p,x,b,o]);return null==v?null:n.createElement(K.Provider,{value:h},n.createElement(Q.Provider,{children:r,value:v}))}function be(e){let{children:t,location:r}=e;return re(ve(t),r)}new Promise(()=>{});n.Component;function ve(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let s=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,ve(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),r.push(o)}),r}var ye=r(950),we=r.t(ye,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ci){}new Map;const Ce=s.startTransition;we.flushSync,s.useId;function Se(e){let{basename:t,children:r,future:a,window:s}=e,o=n.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return h("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,i)));let l=o.current,[c,d]=n.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},g=n.useCallback(e=>{u&&Ce?Ce(()=>d(e)):d(e)},[d,u]);return n.useLayoutEffect(()=>l.listen(g),[l,g]),n.useEffect(()=>ge(a),[a]),n.createElement(xe,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=n.forwardRef(function(e,t){let r,{onClick:a,relative:s,reloadDocument:o,replace:i,state:l,target:d,to:u,preventScrollReset:h,viewTransition:g}=e,f=Ne(e,ke),{basename:p}=n.useContext(K),x=!1;if("string"===typeof u&&Ee.test(u)&&(r=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=D(t.pathname,p);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:x=!0}catch(ci){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;$()||c(!1);let{basename:a,navigator:s}=n.useContext(K),{hash:o,pathname:i,search:l}=te(e,{relative:r}),d=i;return"/"!==a&&(d="/"===i?a:L([a,i])),s.createHref({pathname:d,search:l,hash:o})}(u,{relative:s}),v=function(e,t){let{target:r,replace:a,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=ee(),d=X(),u=te(e,{relative:i});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==a?a:m(d)===m(u);c(e,{replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,a,s,r,e,o,i,l])}(u,{replace:i,state:l,target:d,preventScrollReset:h,relative:s,viewTransition:g});return n.createElement("a",je({},f,{href:r||b,onClick:x||o?a:function(e){a&&a(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var De=r(8),Oe=r(579);const Re=(0,n.createContext)(void 0),Ie=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[s,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("boodesk_user"),t=localStorage.getItem("boodesk_token");if(e&&t){const t=JSON.parse(e);a(t),o(!0)}}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),localStorage.removeItem("boodesk_user"),localStorage.removeItem("boodesk_token")}finally{l(!1)}})()},[]);const u={user:r,isAuthenticated:s,isLoading:i,error:c,login:async e=>{l(!0),d(null);try{const t=await Le(e);if(t.success&&t.data){const e=t.data;return a(e),o(!0),localStorage.setItem("boodesk_user",JSON.stringify(e)),localStorage.setItem("boodesk_token","mock-token-"+Date.now()),!0}return d(t.error||"Erro no login"),!1}catch(t){return d("Erro de conex\xe3o"),!1}finally{l(!1)}},register:async e=>{l(!0),d(null);try{const t=await ze(e);if(t.success&&t.data){const e=t.data;return a(e),o(!0),localStorage.setItem("boodesk_user",JSON.stringify(e)),localStorage.setItem("boodesk_token","mock-token-"+Date.now()),!0}return d(t.error||"Erro no registro"),!1}catch(t){return d("Erro de conex\xe3o"),!1}finally{l(!1)}},logout:()=>{a(null),o(!1),localStorage.removeItem("boodesk_user"),localStorage.removeItem("boodesk_token")},clearError:()=>{d(null)}};return(0,Oe.jsx)(Re.Provider,{value:u,children:t})},Me=()=>{const e=(0,n.useContext)(Re);if(void 0===e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},Le=async e=>{await new Promise(e=>setTimeout(e,1e3));const t=[{id:1,username:"admin",email:"admin@boodesk.com",password_hash:"admin123",role:"admin",cargo:"Administrador",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:2,username:"user",email:"user@boodesk.com",password_hash:"user123",role:"user",cargo:"Usu\xe1rio",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:3,username:"manager",email:"manager@boodesk.com",password_hash:"manager123",role:"manager",cargo:"Gerente",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}].find(t=>t.username===e.username&&t.password_hash===e.password);return t?{success:!0,data:(0,De.A)((0,De.A)({},t),{},{is_authenticated:!0,login_time:(new Date).toISOString()})}:{success:!1,error:"Usu\xe1rio ou senha incorretos"}},ze=async e=>{await new Promise(e=>setTimeout(e,1e3));if(["admin","user","manager"].includes(e.username))return{success:!1,error:"Usu\xe1rio j\xe1 existe"};return{success:!0,data:{id:Date.now(),username:e.username,email:e.email,password_hash:e.password,role:e.role,cargo:e.cargo,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),member_id:e.member_id,is_authenticated:!0,login_time:(new Date).toISOString()}}};var Ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fe=["color","size","strokeWidth","absoluteStrokeWidth","children"];var Be=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{color:s="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:c}=r,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,Fe);return(0,n.createElement)("svg",(0,De.A)((0,De.A)({ref:a},Ue),{},{width:o,height:o,stroke:s,strokeWidth:l?24*Number(i)/Number(o):i,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]]);var u});return r.displayName="".concat(e),r};const qe=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),We=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),He=Be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ve=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ge=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ke=(0,n.createContext)(void 0),Qe=()=>{const e=(0,n.useContext)(Ke);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ye=e=>{let{children:t}=e;const[r,a]=(0,n.useState)([]),s=(0,n.useCallback)(e=>{const t=Math.random().toString(36).substr(2,9),r=(0,De.A)((0,De.A)({},e),{},{id:t,duration:e.duration||("popup"===e.type?0:5e3)});a(e=>[...e,r]),r.duration&&r.duration>0&&setTimeout(()=>{o(t)},r.duration)},[]),o=(0,n.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),i=(0,n.useCallback)(()=>{a([])},[]),l=(0,n.useCallback)(e=>{s({type:"popup",title:e.title,message:e.message,onConfirm:e.onConfirm,onCancel:e.onCancel,confirmText:e.confirmText,cancelText:e.cancelText,duration:0})},[s]),c=(0,n.useCallback)((e,t)=>{l({title:e,message:t,confirmText:"OK",onConfirm:()=>{}})},[l]),d=e=>{switch(e){case"success":return(0,Oe.jsx)(qe,{className:"w-5 h-5 text-green-500"});case"error":return(0,Oe.jsx)(We,{className:"w-5 h-5 text-red-500"});case"warning":return(0,Oe.jsx)(He,{className:"w-5 h-5 text-yellow-500"});default:return(0,Oe.jsx)(Ve,{className:"w-5 h-5 text-blue-500"})}},u=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":default:return"bg-blue-50 border-blue-200 text-blue-800";case"popup":return"bg-white border-gray-200 text-gray-800"}};return(0,Oe.jsxs)(Ke.Provider,{value:{toasts:r,addToast:s,removeToast:o,clearToasts:i,showPopup:l,showSuccessPopup:c},children:[t,(0,Oe.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:r.filter(e=>"popup"!==e.type).map(e=>(0,Oe.jsxs)("div",{className:"".concat(u(e.type)," border rounded-xl shadow-lg p-4 flex items-start space-x-3 animate-in slide-in-from-right-2 duration-300"),children:[d(e.type),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h4",{className:"font-medium text-sm",children:e.title}),e.message&&(0,Oe.jsx)("p",{className:"text-sm opacity-90 mt-1",children:e.message})]}),(0,Oe.jsx)("button",{onClick:()=>o(e.id),className:"flex-shrink-0 p-1 rounded-lg hover:bg-black/10 transition-colors",children:(0,Oe.jsx)(Ge,{className:"w-4 h-4"})})]},e.id))}),r.filter(e=>"popup"===e.type).map(e=>(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl animate-in zoom-in-95 duration-200",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(Ve,{className:"w-5 h-5 text-blue-600"})}),(0,Oe.jsx)("div",{children:(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title})})]}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("p",{className:"text-gray-700",children:e.message})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[e.onCancel&&(0,Oe.jsx)("button",{onClick:()=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e),o(e.id)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.cancelText||"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{var t;null===(t=e.onConfirm)||void 0===t||t.call(e),o(e.id)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.confirmText||"OK"})]})]})})},e.id))]})},Je={admin:["board:create","board:edit","board:delete","board:view","card:create","card:edit","card:delete","card:view","user:manage","user:view","settings:manage","reports:view","reports:create","meetings:create","meetings:edit","meetings:delete","meetings:view","templates:create","templates:edit","templates:delete","templates:view"],manager:["board:create","board:edit","board:view","card:create","card:edit","card:delete","card:view","user:view","reports:view","reports:create","meetings:create","meetings:edit","meetings:view","templates:create","templates:edit","templates:view"],member:["board:view","card:create","card:edit","card:view","meetings:view","templates:view"],viewer:["board:view","card:view","meetings:view"]},$e=(0,n.createContext)(void 0),Xe=()=>{const e=(0,n.useContext)($e);if(!e)throw new Error("usePermissions must be used within a PermissionProvider");return e},Ze=e=>{let{children:t}=e;const{user:r}=Me(),a=(0,n.useCallback)(()=>(null===r||void 0===r?void 0:r.role)||"viewer",[r]),s=(0,n.useCallback)(()=>{const e=a();return Je[e]||[]},[a]),o=(0,n.useCallback)(e=>s().includes(e),[s]),i=(0,n.useCallback)(e=>e.some(e=>o(e)),[o]),l=(0,n.useCallback)(e=>e.every(e=>o(e)),[o]),c=(0,n.useCallback)(e=>i({"kanban-boards":["board:view"],"create-board":["board:create"],"edit-board":["board:edit"],"delete-board":["board:delete"],"create-card":["card:create"],"edit-card":["card:edit"],"delete-card":["card:delete"],"user-management":["user:manage"],settings:["settings:manage"],reports:["reports:view"],meetings:["meetings:view"],"create-meeting":["meetings:create"],"edit-meeting":["meetings:edit"],"delete-meeting":["meetings:delete"],templates:["templates:view"],"create-template":["templates:create"],"edit-template":["templates:edit"],"delete-template":["templates:delete"]}[e]||[]),[i]),d={hasPermission:o,hasAnyPermission:i,hasAllPermissions:l,getUserRole:a,getUserPermissions:s,canAccessFeature:c};return(0,Oe.jsx)($e.Provider,{value:d,children:t})},et={defaultPriority:"medium",defaultStatus:"A Fazer",showDueDate:!0,showAssignee:!0,showTags:!0,showAttachments:!0,allowComments:!0,autoAssignToCreator:!1,enableSubtasks:!0,maxTagsPerCard:5,priorityColors:{critical:"#DC2626",high:"#EF4444",medium:"#F59E0B",low:"#6B7280"},customTags:[{id:1,name:"Urgent",type:"priority"},{id:2,name:"Bug",type:"category"},{id:3,name:"Feature",type:"category"},{id:4,name:"Documentation",type:"category"}]},tt=(0,n.createContext)(void 0),rt=()=>{const e=(0,n.useContext)(tt);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e},at=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(et),s=e=>{const t=e.toLowerCase();return r.priorityColors[t]||r.priorityColors.medium},o={cardSettings:r,updateCardSettings:e=>{a(t=>(0,De.A)((0,De.A)({},t),e))},getPriorityColor:s,getPriorityBgColor:e=>{const t=s(e).replace("#",""),r=parseInt(t.substr(0,2),16),a=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16);return"rgba(".concat(r,", ").concat(a,", ").concat(n,", 0.1)")},getPriorityTextColor:e=>{const t=s(e).replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>128?"#000000":"#FFFFFF"}};return(0,Oe.jsx)(tt.Provider,{value:o,children:t})},nt=(0,n.createContext)(void 0),st=()=>{const e=(0,n.useContext)(nt);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},ot=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(()=>{const e=localStorage.getItem("theme");return e&&["light","dark","auto"].includes(e)?e:"light"}),[s,o]=(0,n.useState)(!1),i=e=>{const t=(e=>"dark"===e||"light"!==e&&"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches)(e);o(t),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},l=e=>{a(e),localStorage.setItem("theme",e),i(e)};(0,n.useEffect)(()=>{i(r)},[]),(0,n.useEffect)(()=>{if("auto"===r){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>i(r);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}},[r]);const c={theme:r,isDark:s,setTheme:l,toggleTheme:()=>{l("light"===r?"dark":"light")}};return(0,Oe.jsx)(nt.Provider,{value:c,children:t})},it=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lt=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ct=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dt=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ut=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),ht=e=>{let{onClose:t,onSwitchToRegister:r}=e;const{login:a,isLoading:s,error:o,clearError:i}=Me(),[l,c]=(0,n.useState)({username:"admin",password:"admin123"}),[d,u]=(0,n.useState)(!1),h=(e,t)=>{c(r=>(0,De.A)((0,De.A)({},r),{},{[e]:t}))};return(0,Oe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-red/10 to-brand-green/10 dark:from-brand-red/20 dark:to-brand-green/20 flex items-center justify-center p-4",children:(0,Oe.jsxs)("div",{className:"w-full max-w-md",children:[(0,Oe.jsxs)("div",{className:"card-hover animate-fade-in",children:[(0,Oe.jsxs)("div",{className:"text-center mb-8",children:[(0,Oe.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mb-4",children:(0,Oe.jsx)(it,{className:"w-8 h-8 text-white"})}),(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray dark:text-gray-50 mb-2",children:"Sistema Boodesk"}),(0,Oe.jsx)("p",{className:"text-brand-gray/70 dark:text-gray-300",children:"Fa\xe7a login para continuar"})]}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i();await a(l)&&t&&t()},className:"space-y-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-brand-gray dark:text-gray-50 mb-2",children:"Usu\xe1rio"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Oe.jsx)(it,{className:"h-5 w-5 text-brand-gray/50 dark:text-gray-300"})}),(0,Oe.jsx)("input",{id:"username",type:"text",value:l.username,onChange:e=>h("username",e.target.value),className:"input-field pl-10",placeholder:"Digite seu usu\xe1rio",required:!0})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-brand-gray dark:text-gray-50 mb-2",children:"Senha"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Oe.jsx)(lt,{className:"h-5 w-5 text-brand-gray/50 dark:text-gray-300"})}),(0,Oe.jsx)("input",{id:"password",type:d?"text":"password",value:l.password,onChange:e=>h("password",e.target.value),className:"input-field pl-10 pr-10",placeholder:"Digite sua senha",required:!0}),(0,Oe.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?(0,Oe.jsx)(ct,{className:"h-5 w-5 text-brand-gray/50 hover:text-brand-gray"}):(0,Oe.jsx)(dt,{className:"h-5 w-5 text-brand-gray/50 hover:text-brand-gray"})})]})]}),o&&(0,Oe.jsx)("div",{className:"bg-brand-red-light/10 border border-brand-red-light/20 rounded-lg p-3",children:(0,Oe.jsx)("p",{className:"text-brand-red text-sm",children:o})}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center space-x-2 py-3",children:[s?(0,Oe.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,Oe.jsx)(ut,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:s?"Entrando...":"Entrar"})]}),r&&(0,Oe.jsx)("button",{type:"button",onClick:r,className:"btn-outline w-full py-3",children:"Criar nova conta"})]})]}),(0,Oe.jsxs)("div",{className:"mt-8 p-4 bg-brand-light-gray/50 rounded-lg",children:[(0,Oe.jsxs)("h3",{className:"text-sm font-semibold text-brand-gray mb-3 flex items-center",children:[(0,Oe.jsx)(it,{className:"w-4 h-4 mr-2"}),"Usu\xe1rios Padr\xe3o"]}),(0,Oe.jsxs)("div",{className:"space-y-2 text-xs text-brand-gray/70",children:[(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{children:"Administrador:"}),(0,Oe.jsx)("span",{className:"font-mono",children:"admin / admin123"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{children:"Usu\xe1rio:"}),(0,Oe.jsx)("span",{className:"font-mono",children:"user / user123"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{children:"Gerente:"}),(0,Oe.jsx)("span",{className:"font-mono",children:"manager / manager123"})]})]})]}),t&&(0,Oe.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-brand-gray/50 hover:text-brand-gray transition-colors",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("div",{className:"text-center mt-6",children:(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/50",children:"\xa9 2024 Sistema Boodesk. Todos os direitos reservados."})})]})})},mt=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),gt=Be("Trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]),ft=Be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),pt=Be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),xt=Be("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),bt=Be("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),vt=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),yt=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),wt=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),jt=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nt=Be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),kt=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ct=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),St=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),_t=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Et=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tt=Be("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),At=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pt=e=>{let{isCollapsed:t,onToggle:r}=e;const{user:a,logout:n}=Me(),{canAccessFeature:s}=Xe(),o=X(),i=[{id:"dashboard",label:"Menu Principal",icon:mt,path:"/dashboard",badge:void 0},{id:"boards",label:"Quadros Kanban",icon:gt,path:"/boards",badge:void 0},{id:"meetings",label:"Reuni\xf5es",icon:ft,path:"/meetings",badge:void 0},{id:"calendar",label:"Calend\xe1rio",icon:ft,path:"/calendar",badge:void 0},{id:"pomodoro",label:"Pomodoro",icon:pt,path:"/pomodoro",badge:void 0},{id:"activities",label:"Minhas Atividades",icon:xt,path:"/activities",badge:void 0},{id:"files",label:"Arquivos",icon:bt,path:"/files",badge:void 0},{id:"chat",label:"Chat",icon:vt,path:"/chat",badge:void 0},{id:"reports",label:"Relat\xf3rios",icon:yt,path:"/reports",badge:void 0},{id:"users",label:"Usu\xe1rios",icon:wt,path:"/users",badge:void 0,adminOnly:!0},{id:"settings",label:"Configura\xe7\xf5es",icon:jt,path:"/settings",badge:void 0,adminOnly:!0}],l=[{id:"quick-card",label:"Novo Cart\xe3o",icon:Nt,action:()=>console.log("Novo cart\xe3o")},{id:"quick-meeting",label:"Nova Reuni\xe3o",icon:ft,action:()=>console.log("Nova reuni\xe3o")},{id:"quick-pomodoro",label:"Iniciar Pomodoro",icon:pt,action:()=>console.log("Iniciar pomodoro")}],c=e=>o.pathname===e||o.pathname.startsWith(e+"/");return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-r border-brand-light-gray dark:border-gray-700 transition-all duration-300 ".concat(t?"w-16":"w-64"),children:[(0,Oe.jsx)("div",{className:"p-4 border-b border-brand-light-gray dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[!t&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:(0,Oe.jsx)(kt,{className:"w-5 h-5 text-white"})}),(0,Oe.jsx)("span",{className:"font-bold text-brand-gray dark:text-gray-50",children:"Boodesk"})]}),(0,Oe.jsx)("button",{onClick:r,className:"p-1 rounded-lg hover:bg-brand-light-gray dark:hover:bg-gray-700 transition-colors",children:t?(0,Oe.jsx)(Ct,{className:"w-4 h-4 text-brand-gray dark:text-gray-50"}):(0,Oe.jsx)(St,{className:"w-4 h-4 text-brand-gray dark:text-gray-50"})})]})}),!t&&a&&(0,Oe.jsx)(Te,{to:"/profile",className:"block",children:(0,Oe.jsx)("div",{className:"p-4 border-b border-brand-light-gray dark:border-gray-700 hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30 transition-colors cursor-pointer",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gradient-secondary rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-semibold text-sm",children:a.username.charAt(0).toUpperCase()})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray dark:text-gray-50 truncate",children:a.username}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/70 dark:text-gray-300 truncate",children:a.cargo})]})]})})}),t&&a&&(0,Oe.jsx)(Te,{to:"/profile",className:"block",children:(0,Oe.jsx)("div",{className:"p-4 border-b border-brand-light-gray dark:border-gray-700 hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30 transition-colors cursor-pointer",children:(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gradient-secondary rounded-full flex items-center justify-center mx-auto",children:(0,Oe.jsx)("span",{className:"text-white font-semibold text-sm",children:a.username.charAt(0).toUpperCase()})})})}),(0,Oe.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:i.filter(e=>!e.adminOnly||s(e.feature||"kanban-boards")).map(e=>{const r=e.icon;return(0,Oe.jsxs)(Te,{to:e.path,className:"sidebar-item group ".concat(c(e.path)?"active":""),children:[(0,Oe.jsx)(r,{className:"w-5 h-5 ".concat(c(e.path)?"text-white":"text-brand-gray dark:text-gray-50 group-hover:text-brand-red")}),!t&&(0,Oe.jsx)("span",{className:"ml-3 flex-1",children:e.label}),e.badge&&!t&&(0,Oe.jsx)("span",{className:"bg-brand-red text-white text-xs px-2 py-1 rounded-full",children:e.badge})]},e.id)})}),!t&&(0,Oe.jsxs)("div",{className:"p-4 border-t border-brand-light-gray dark:border-gray-700",children:[(0,Oe.jsx)("h3",{className:"text-xs font-semibold text-brand-gray/70 dark:text-gray-300 uppercase tracking-wider mb-3",children:"A\xe7\xf5es R\xe1pidas"}),(0,Oe.jsx)("div",{className:"space-y-2",children:l.map(e=>{const t=e.icon;return(0,Oe.jsxs)("button",{onClick:e.action,className:"sidebar-item w-full text-left",children:[(0,Oe.jsx)(t,{className:"w-4 h-4 text-brand-gray dark:text-gray-50 group-hover:text-brand-red"}),(0,Oe.jsx)("span",{className:"ml-3 text-sm",children:e.label})]},e.id)})})]}),!t&&(0,Oe.jsx)("div",{className:"p-4 border-t border-brand-light-gray dark:border-gray-700",children:(0,Oe.jsxs)(Te,{to:"/database-setup",className:"sidebar-item group ".concat(c("/database-setup")?"active":""),children:[(0,Oe.jsx)(_t,{className:"w-5 h-5 ".concat(c("/database-setup")?"text-white":"text-brand-gray dark:text-gray-50 group-hover:text-brand-red")}),(0,Oe.jsx)("span",{className:"ml-3 flex-1",children:"Configurar Banco"})]})}),(0,Oe.jsxs)("div",{className:"p-4 border-t border-brand-light-gray dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{className:"sidebar-item w-full text-left",children:[(0,Oe.jsx)(Et,{className:"w-4 h-4 text-brand-gray dark:text-gray-50 group-hover:text-brand-red"}),!t&&(0,Oe.jsx)("span",{className:"ml-3 text-sm",children:"Notifica\xe7\xf5es"})]}),(0,Oe.jsxs)("button",{className:"sidebar-item w-full text-left",children:[(0,Oe.jsx)(Tt,{className:"w-4 h-4 text-brand-gray dark:text-gray-50 group-hover:text-brand-red"}),!t&&(0,Oe.jsx)("span",{className:"ml-3 text-sm",children:"Ajuda"})]}),(0,Oe.jsxs)("button",{onClick:()=>{n()},className:"sidebar-item w-full text-left text-brand-red hover:bg-brand-red hover:text-white",children:[(0,Oe.jsx)(At,{className:"w-4 h-4"}),!t&&(0,Oe.jsx)("span",{className:"ml-3 text-sm",children:"Sair"})]})]}),!t&&(0,Oe.jsx)("div",{className:"mt-4 pt-4 border-t border-brand-light-gray dark:border-gray-700",children:(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/50 dark:text-gray-500 text-center",children:"v1.0.0"})})]})]})};class Dt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class Ot extends Dt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rt extends Dt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class It extends Dt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Mt||(Mt={}));var Lt=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};class zt{constructor(e){let{headers:t={},customFetch:a,region:n=Mt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(a)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return Lt(this,void 0,void 0,function*(){try{const{headers:a,method:n,body:s}=t;let o={},{region:i}=t;i||(i=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;i&&"any"!==i&&(o["x-region"]=i,l.searchParams.set("forceFunctionRegion",i)),s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(o["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const d=yield this.fetch(l.toString(),{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(e=>{throw new Ot(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new Rt(d);if(!d.ok)throw new It(d);let h,m=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"text/event-stream"===m?d:"multipart/form-data"===m?yield d.formData():yield d.text(),{data:h,error:null,response:d}}catch(a){return{data:null,error:a,response:a instanceof It||a instanceof Rt?a.context:void 0}}})}}var Ut=r(980);const{PostgrestClient:Ft,PostgrestQueryBuilder:Bt,PostgrestFilterBuilder:qt,PostgrestTransformBuilder:Wt,PostgrestBuilder:Ht,PostgrestError:Vt}=Ut;const Gt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Kt="realtime-js/".concat("2.15.4"),Qt=1e4;var Yt,Jt,$t,Xt,Zt,er;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Yt||(Yt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Jt||(Jt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}($t||($t={})),function(e){e.websocket="websocket"}(Xt||(Xt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Zt||(Zt={}));class tr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),n=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+a));s+=a;const i=r.decode(e.slice(s,s+n));s+=n;return{ref:null,topic:o,event:i,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class rr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(er||(er={}));const ar=function(e,t){var r;const a=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,n)=>(r[n]=nr(n,e,t,a),r),{})},nr=(e,t,r,a)=>{const n=t.find(t=>t.name===e),s=null===n||void 0===n?void 0:n.type,o=r[e];return s&&!a.includes(s)?sr(s,o):or(o)},sr=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return dr(t,r)}switch(e){case er.bool:return ir(t);case er.float4:case er.float8:case er.int2:case er.int4:case er.int8:case er.numeric:case er.oid:return lr(t);case er.json:case er.jsonb:return cr(t);case er.timestamp:return ur(t);case er.abstime:case er.date:case er.daterange:case er.int4range:case er.int8range:case er.money:case er.reltime:case er.text:case er.time:case er.timestamptz:case er.timetz:case er.tsrange:case er.tstzrange:default:return or(t)}},or=e=>e,ir=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lr=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cr=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},dr=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,a=e[r];if("{"===e[0]&&"}"===a){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch(n){a=s?s.split(","):[]}return a.map(e=>sr(t,e))}return e},ur=e=>"string"===typeof e?e.replace(" ","T"):e,hr=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class mr{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qt;this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gr,fr,pr,xr;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(gr||(gr={}));class br{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=br.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=br.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=br.syncDiff(this.state,e,t,r),a())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const n=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(n,(e,t)=>{s[e]||(i[e]=t)}),this.map(s,(e,t)=>{const r=n[e];if(r){const a=t.map(e=>e.presence_ref),n=r.map(e=>e.presence_ref),s=t.filter(e=>n.indexOf(e.presence_ref)<0),l=r.filter(e=>a.indexOf(e.presence_ref)<0);s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(n,{joins:o,leaves:i},r,a)}static syncDiff(e,t,r,a){const{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(n,(t,a)=>{var n;const s=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(a),s.length>0){const r=e[t].map(e=>e.presence_ref),a=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...a)}r(t,s,a)}),this.map(s,(t,r)=>{let n=e[t];if(!n)return;const s=r.map(e=>e.presence_ref);n=n.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=n,a(t,n,r),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return t[r]="metas"in a?a.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(fr||(fr={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(pr||(pr={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(xr||(xr={}));class vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new mr(this,$t.join,this.params,this.timeout),this.rejoinTimer=new rr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Jt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new br(this),this.broadcastEndpointURL=hr(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:s,presence:o,private:i}}=this.params,l=null!==(a=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==a?a:[],c=!!this.bindings[pr.PRESENCE]&&this.bindings[pr.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(xr.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(xr.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var a;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,n=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0,s=[];for(let a=0;a<n;a++){const n=t[a],{filter:{event:o,schema:i,table:l,filter:c}}=n,d=r&&r[a];if(!d||d.event!==o||d.schema!==i||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=Jt.errored,void(null===e||void 0===e||e(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(xr.SUBSCRIBED))}null===e||void 0===e||e(xr.SUBSCRIBED)}).receive("error",t=>{this.state=Jt.errored,null===e||void 0===e||e(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Jt.joined&&e===pr.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,a;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var a,n,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(n=null===(a=this.params)||void 0===a?void 0:a.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{const{event:s,payload:o}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(a=e.body)||void 0===a?void 0:a.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Jt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new mr(this,$t.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const a=new AbortController,n=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(n),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let a=new mr(this,e,t,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,n;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=$t;if(r&&[o,i,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(a=this.bindings.postgres_changes)||void 0===a||a.filter(e=>{var t,r,a;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(a=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===a?void 0:a.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(n=this.bindings[s])||void 0===n||n.filter(e=>{var r,a,n,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(a=t.ids)||void 0===a?void 0:a.includes(s))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:a,type:n,errors:s}=e,o={schema:t,table:r,commit_timestamp:a,eventType:n,new:{},old:{},errors:s};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const a=e.toLocaleLowerCase(),n={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(n):this.bindings[a]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var a;return!((null===(a=e.type)||void 0===a?void 0:a.toLocaleLowerCase())===r&&vr.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($t.close,{},e)}_onError(e){this._on($t.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ar(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ar(e.columns,e.old_record)),t}}const yr=()=>{},wr=25e3,jr=10,Nr=100,kr=[1e3,2e3,5e3,1e4];class Cr{constructor(e,t){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qt,this.transport=null,this.heartbeatIntervalMs=wr,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yr,this.ref=0,this.reconnectTimer=null,this.logger=yr,this.conn=null,this.sendBuffer=[],this.serializer=new tr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(a=null===t||void 0===t?void 0:t.params)||void 0===a?void 0:a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Xt.websocket),this.httpEndpoint=hr(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yt.connecting:return Zt.Connecting;case Yt.open:return Zt.Open;case Yt.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),a=this.getChannels().find(e=>e.topic===r);if(a)return a;{const r=new vr("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:a,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(n,")"),a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(ci){this.log("error","error in heartbeat callback",ci)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Nr)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(ci){this.log("error","error in heartbeat callback",ci)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(ci){this.log("error","error in heartbeat callback",ci)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(ci){this.log("error","error in heartbeat callback",ci)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:a,ref:n}=e,s=n?"(".concat(n,")"):"",o=a.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(r," ").concat(s).trim(),a),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,a,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($t.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return"".concat(e).concat(r).concat(a)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:Kt};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push($t.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(ci){this.log("error","error in ".concat(e," callback"),ci)}})}catch(ci){this.log("error","error triggering ".concat(e," callbacks"),ci)}}_setupReconnectionTimer(){this.reconnectTimer=new rr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jr)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,a,n,s,o,i,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:Qt,this.heartbeatIntervalMs=null!==(a=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==a?a:wr,this.worker=null!==(n=null===e||void 0===e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:yr,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>kr[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Sr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _r(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Er extends Sr{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tr extends Sr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ar=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};const Pr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},Dr=e=>{if(Array.isArray(e))return e.map(e=>Dr(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,a]=e;const n=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=Dr(a)}),t};var Or=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};const Rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ir=(e,t,a)=>Or(void 0,void 0,void 0,function*(){const n=yield Ar(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response});e instanceof n&&!(null===a||void 0===a?void 0:a.noResolveJson)?e.json().then(r=>{const a=e.status||500,n=(null===r||void 0===r?void 0:r.statusCode)||a+"";t(new Er(Rr(r),a,n))}).catch(e=>{t(new Tr(Rr(e),e))}):t(new Tr(Rr(e),e))}),Mr=(e,t,r,a)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&a?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(a)?(n.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,(null===t||void 0===t?void 0:t.duplex)&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r)):n};function Lr(e,t,r,a,n,s){return Or(this,void 0,void 0,function*(){return new Promise((o,i)=>{e(r,Mr(t,a,n,s)).then(e=>{if(!e.ok)throw e;return(null===a||void 0===a?void 0:a.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>Ir(e,i,a))})})}function zr(e,t,r,a){return Or(this,void 0,void 0,function*(){return Lr(e,"GET",t,r,a)})}function Ur(e,t,r,a,n){return Or(this,void 0,void 0,function*(){return Lr(e,"POST",t,a,n,r)})}function Fr(e,t,r,a,n){return Or(this,void 0,void 0,function*(){return Lr(e,"PUT",t,a,n,r)})}function Br(e,t,r,a,n){return Or(this,void 0,void 0,function*(){return Lr(e,"DELETE",t,a,n,r)})}var qr=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};const Wr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=Pr(a)}uploadOrUpdate(e,t,r,a){return qr(this,void 0,void 0,function*(){try{let n;const s=Object.assign(Object.assign({},Hr),a);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const i=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",s.cacheControl),i&&n.append("metadata",this.encodeMetadata(i)),n.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(n=r,n.append("cacheControl",s.cacheControl),i&&n.append("metadata",this.encodeMetadata(i))):(n=r,o["cache-control"]="max-age=".concat(s.cacheControl),o["content-type"]=s.contentType,i&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null===a||void 0===a?void 0:a.headers)&&(o=Object.assign(Object.assign({},o),a.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?Fr:Ur)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:o},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}upload(e,t,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return qr(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),s=this._getFinalPath(n),o=new URL(this.url+"/object/upload/sign/".concat(s));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Hr.upsert},a),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield Fr(this.fetch,o.toString(),e,{headers:s})).Key},error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}createSignedUploadUrl(e,t){return qr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const n=yield Ur(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:a}),s=new URL(this.url+n.url),o=s.searchParams.get("token");if(!o)throw new Sr("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}update(e,t,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return qr(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}copy(e,t,r){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,r){return qr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),n=yield Ur(this.fetch,"".concat(this.url,"/object/sign/").concat(a),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return n={signedUrl:encodeURI("".concat(this.url).concat(n.signedURL).concat(s))},{data:n,error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,r){return qr(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),n=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:a.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(n)):null})),error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}download(e,t){return qr(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),n=a?"?".concat(a):"";try{const t=this._getFinalPath(e),a=yield zr(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(n),{headers:this.headers,noResolveJson:!0});return{data:yield a.blob(),error:null}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}info(e){return qr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield zr(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Dr(e),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}exists(e){return qr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,a){return Or(this,void 0,void 0,function*(){return Lr(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(_r(r)&&r instanceof Tr){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],n=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==n&&a.push(n);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&a.push(o);let i=a.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(i))}}}remove(e){return qr(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(_r(t))return{data:null,error:t};throw t}})}list(e,t,r){return qr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Wr),t),{prefix:e||""});return{data:yield Ur(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},r),error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}listV2(e,t){return qr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ur(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),r,{headers:this.headers},t),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Gr={"X-Client-Info":"storage-js/".concat("2.11.0")};var Kr=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};class Qr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;const n=new URL(e);if(null===a||void 0===a?void 0:a.useNewHostname){/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."))}this.url=n.href,this.headers=Object.assign(Object.assign({},Gr),t),this.fetch=Pr(r)}listBuckets(){return Kr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(_r(e))return{data:null,error:e};throw e}})}getBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(_r(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Kr(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(_r(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(_r(t))return{data:null,error:t};throw t}})}}class Yr extends Qr{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Vr(this.url,this.headers,e,this.fetch)}}let Jr="";Jr="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const $r={headers:{"X-Client-Info":"supabase-js-".concat(Jr,"/").concat("2.56.1")}},Xr={schema:"public"},Zr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ea={};var ta=r(630),ra=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};const aa=e=>{let t;return t=e||("undefined"===typeof fetch?ta.default:fetch),function(){return t(...arguments)}},na=(e,t,r)=>{const a=aa(r),n="undefined"===typeof Headers?ta.Headers:Headers;return(r,s)=>ra(void 0,void 0,void 0,function*(){var o;const i=null!==(o=yield t())&&void 0!==o?o:e;let l=new n(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),a(r,Object.assign(Object.assign({},s),{headers:l}))})};var sa=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};const oa="2.71.1",ia=3e4,la=9e4,ca={"X-Client-Info":"gotrue-js/".concat(oa)},da="X-Supabase-Api-Version",ua={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ha=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ma extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ga(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class fa extends ma{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class pa extends ma{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xa extends ma{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class ba extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class va extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ya extends xa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wa extends xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ja extends xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Na extends xa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ka(e){return ga(e)&&"AuthRetryableFetchError"===e.name}class Ca extends xa{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Sa extends xa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ea=" \t\n\r=".split(""),Ta=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ea.length;t+=1)e[Ea[t].charCodeAt(0)]=-2;for(let t=0;t<_a.length;t+=1)e[_a[t].charCodeAt(0)]=t;return e})();function Aa(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(_a[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(_a[e]),t.queuedBits-=6}}function Pa(e,t,r){const a=Ta[e];if(!(a>-1)){if(-2===a)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Da(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,a,r)};for(let o=0;o<e.length;o+=1)Pa(e.charCodeAt(o),n,s);return t.join("")}function Oa(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Ra(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const t=1024*(a-55296)&65535;a=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Oa(a,t)}}function Ia(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)Pa(e.charCodeAt(n),r,a);return new Uint8Array(t)}function Ma(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};return e.forEach(e=>Aa(e,r,a)),Aa(null,r,a),t.join("")}const La=()=>"undefined"!==typeof window&&"undefined"!==typeof document,za={tested:!1,writable:!1},Ua=()=>{if(!La())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(ci){return!1}if(za.tested)return za.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),za.tested=!0,za.writable=!0}catch(ci){za.tested=!0,za.writable=!1}return za.writable};const Fa=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},Ba=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(a){return r}},Wa=async(e,t)=>{await e.removeItem(t)};class Ha{constructor(){this.promise=new Ha.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Va(e){const t=e.split(".");if(3!==t.length)throw new Sa("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ha.test(t[r]))throw new Sa("JWT not in base64url format");return{header:JSON.parse(Da(t[0])),payload:JSON.parse(Da(t[1])),signature:Ia(t[2]),raw:{header:t[0],payload:t[1]}}}function Ga(e){return("0"+e.toString(16)).substr(-2)}async function Ka(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qa(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let a=0;a<56;a++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Ga).join("")}();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Ba(e,"".concat(t,"-code-verifier"),n);const s=await Ka(a);return[s,a===s?"plain":"s256"]}Ha.promiseConstructor=Promise;const Ya=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ja=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $a(e){if(!Ja.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xa(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Za(e){return JSON.parse(JSON.stringify(e))}var en=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};const tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rn=[502,503,504];async function an(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Na(tn(e),0);if(rn.includes(e.status))throw new Na(tn(e),e.status);let a,n;try{a=await e.json()}catch(ci){throw new pa(tn(ci),ci)}const s=function(e){const t=e.headers.get(da);if(!t)return null;if(!t.match(Ya))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(ci){return null}}(e);if(s&&s.getTime()>=ua.timestamp&&"object"===typeof a&&a&&"string"===typeof a.code?n=a.code:"object"===typeof a&&a&&"string"===typeof a.error_code&&(n=a.error_code),n){if("weak_password"===n)throw new Ca(tn(a),e.status,(null===(t=a.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new ba}else if("object"===typeof a&&a&&"object"===typeof a.weak_password&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Ca(tn(a),e.status,a.weak_password.reasons);throw new fa(tn(a),e.status||500,n)}async function nn(e,t,r,a){var n;const s=Object.assign({},null===a||void 0===a?void 0:a.headers);s[da]||(s[da]=ua.name),(null===a||void 0===a?void 0:a.jwt)&&(s.Authorization="Bearer ".concat(a.jwt));const o=null!==(n=null===a||void 0===a?void 0:a.query)&&void 0!==n?n:{};(null===a||void 0===a?void 0:a.redirectTo)&&(o.redirect_to=a.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,a,n,s){const o=((e,t,r,a)=>{const n={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))})(t,a,n,s);let i;try{i=await e(r,Object.assign({},o))}catch(ci){throw console.error(ci),new Na(tn(ci),0)}i.ok||await an(i);if(null===a||void 0===a?void 0:a.noResolveJson)return i;try{return await i.json()}catch(ci){await an(ci)}}(e,t,r+i,{headers:s,noResolveJson:null===a||void 0===a?void 0:a.noResolveJson},{},null===a||void 0===a?void 0:a.body);return(null===a||void 0===a?void 0:a.xform)?null===a||void 0===a?void 0:a.xform(l):{data:Object.assign({},l),error:null}}function sn(e){var t;let r=null;var a;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(a=e.expires_in,Math.round(Date.now()/1e3)+a)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function on(e){const t=sn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ln(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function cn(e){return{data:e,error:null}}function dn(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s}=e,o=en(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s},user:Object.assign({},o)},error:null}}function un(e){return e}const hn=["global","local","others"];var mn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};class gn{constructor(e){let{url:t="",headers:r={},fetch:a}=e;this.url=t,this.headers=r,this.fetch=Fa(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn[0];if(hn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(hn.join(", ")));try{return await nn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ga(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await nn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ln})}catch(r){if(ga(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=mn(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),await nn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:dn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ga(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await nn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ln})}catch(t){if(ga(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,n,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await nn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null===e||void 0===e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:un});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ga(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){$a(e);try{return await nn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ln})}catch(t){if(ga(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){$a(e);try{return await nn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ln})}catch(r){if(ga(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$a(e);try{return await nn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ln})}catch(r){if(ga(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$a(e.userId);try{const{data:t,error:r}=await nn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(ga(t))return{data:null,error:t};throw t}}async _deleteFactor(e){$a(e.userId),$a(e.id);try{return{data:await nn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(ga(t))return{data:null,error:t};throw t}}}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pn=!!(globalThis&&Ua()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class xn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bn extends xn{}async function vn(e,t,r){pn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),pn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async a=>{if(!a){if(0===t)throw pn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(pn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(ci){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",ci)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}pn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{pn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(ci){"undefined"!==typeof self&&(self.globalThis=self)}}();const yn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ca,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wn(e,t,r){return await r()}const jn={};class Nn{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nn.nextInstanceID,Nn.nextInstanceID+=1,this.instanceID>0&&La()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yn),e);if(this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new gn({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Fa(a.fetch),this.lock=a.lock||wn,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:La()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=vn:this.lock=wn,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Ua()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fn(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=fn(this.memoryStorage)),La()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(ci){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",ci)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=jn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=jn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(oa,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(ci){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),La()&&this.detectSessionInUrl&&"none"!==r){const{data:a,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return ga(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return await this._removeSession(),{error:n}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ga(t)?{error:t}:{error:new pa("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const n=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(a=null===e||void 0===e?void 0:e.options)||void 0===a?void 0:a.captchaToken}},xform:sn}),{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(n){if(ga(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var t,r,a;try{let n;if("email"in e){const{email:r,password:a,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Qa(this.storage,this.storageKey)),n=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:a,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:sn})}else{if(!("phone"in e))throw new ya("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;n=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===o||void 0===o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(a=null===o||void 0===o?void 0:o.channel)&&void 0!==a?a:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:sn})}}const{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(n){if(ga(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:a,options:n}=e;t=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:on})}else{if(!("phone"in e))throw new ya("You must provide either an email or phone number and a password");{const{phone:r,password:a,options:n}=e;t=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:on})}}const{data:r,error:a}=t;return a?{data:{user:null,session:null},error:a}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a}):{data:{user:null,session:null},error:new va}}catch(t){if(ga(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,a,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,r,a,n,s,o,i,l,c,d,u,h;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:u,wallet:h,statement:f,options:p}=e;let x;if(La())if("object"===typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!==typeof h||!(null===p||void 0===p?void 0:p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const b=new URL(null!==(t=null===p||void 0===p?void 0:p.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===p||void 0===p?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),g=t.signature}else{if(!("signMessage"in x)||"function"!==typeof x.signMessage||!("publicKey"in x)||"object"!==typeof x||!x.publicKey||!("toBase58"in x.publicKey)||"function"!==typeof x.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=["".concat(b.host," wants you to sign in with your Solana account:"),x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(b.href),"Issued At: ".concat(null!==(a=null===(r=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==a?a:(new Date).toISOString()),...(null===(n=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===n?void 0:n.notBefore)?["Not Before: ".concat(p.signInWithSolana.notBefore)]:[],...(null===(s=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(p.signInWithSolana.expirationTime)]:[],...(null===(o=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(p.signInWithSolana.chainId)]:[],...(null===(i=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(p.signInWithSolana.nonce)]:[],...(null===(l=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(p.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===p||void 0===p?void 0:p.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...p.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=e}}try{const{data:t,error:r}=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Ma(g)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:sn});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new va}}catch(f){if(ga(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await qa(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,a]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:n}=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:sn});if(await Wa(this.storage,"".concat(this.storageKey,"-code-verifier")),n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==a&&void 0!==a?a:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new va}}catch(n){if(ga(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:n,nonce:s}=e,o=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:a,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:sn}),{data:i,error:l}=o;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new va}}catch(t){if(ga(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,a,n,s;try{if("email"in e){const{email:a,options:n}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Qa(this.storage,this.storageKey));const{error:i}=await nn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,data:null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(r=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:i}=await nn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:{},create_user:null===(n=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new ya("You must provide either an email or phone number.")}catch(o){if(ga(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let a,n;"options"in e&&(a=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:o}=await nn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:a,xform:sn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const i=s.session,l=s.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ga(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,r,a;try{let n=null,s=null;return"pkce"===this.flowType&&([n,s]=await Qa(this.storage,this.storageKey)),await nn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(a=null===e||void 0===e?void 0:e.options)||void 0===a?void 0:a.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:s}),headers:this.headers,xform:cn})}catch(n){if(ga(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ba;const{error:a}=await nn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ga(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:a,options:n}=e,{error:s}=await nn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:a,options:n}=e,{data:s,error:o}=await nn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new ya("You must provide either an email or phone number and a type")}catch(t){if(ga(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(ci){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(ci){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<la;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await qa(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Xa()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,a)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,a))})}return{data:{session:e},error:null}}const{session:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await nn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ln}):await this._useSession(async e=>{var t,r,a;const{data:n,error:s}=e;if(s)throw s;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await nn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0,xform:ln}):{data:{user:null},error:new ba}})}catch(t){if(ga(t))return function(e){return ga(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Wa(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:a,error:n}=r;if(n)throw n;if(!a.session)throw new ba;const s=a.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Qa(this.storage,this.storageKey));const{data:l,error:c}=await nn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:ln});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ga(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ba;const t=Date.now()/1e3;let r=t,a=!0,n=null;const{payload:s}=Va(e.access_token);if(s.exp&&(r=s.exp,a=r<=t),a){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:a,error:s}=await this._getUser(e.access_token);if(s)throw s;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(ga(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:n}=t;if(n)throw n;e=null!==(r=a.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new ba;const{session:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ga(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!La())throw new wa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ja("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new wa("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ja("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const a=new URL(window.location.href);return a.searchParams.delete("code"),window.history.replaceState(window.history.state,"",a.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:n,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!n||!o||!s||!l)throw new wa("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let u=c+d;i&&(u=parseInt(i));const h=u-c;1e3*h<=ia&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const m=u-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,u,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,u,c);const{data:g,error:f}=await this._getUser(n);if(f)throw f;const p={provider_token:r,provider_refresh_token:a,access_token:n,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(ga(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await qa(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return{error:n};const s=null===(r=a.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return ga(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Wa(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:a},error:n}=t;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(n){await(null===(a=this.stateChangeEmitters.get(e))||void 0===a?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null;"pkce"===this.flowType&&([r,a]=await Qa(this.storage,this.storageKey,!0));try{return await nn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(ga(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ga(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:a}=await this._useSession(async t=>{var r,a,n,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(a=e.options)||void 0===a?void 0:a.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await nn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(a)throw a;return La()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(ga(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)throw s;return await nn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0})})}catch(t){if(ga(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:sn})),a=(e,t)=>{const r=200*Math.pow(2,e);return t&&ka(t)&&Date.now()+r-n<ia},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!a(n,null,t))return void e(t)}catch(ci){if(!a(n,ci))return void t(ci)}})()}))}catch(n){if(this._debug(t,"error",n),ga(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}var r,a}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),La()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await qa(this.storage,this.storageKey);if(n&&this.userStorage){let t=await qa(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await Ba(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Xa()}else if(n&&!n.user&&!n.user){const e=await qa(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await Wa(this.storage,this.storageKey+"-user"),await Ba(this.storage,this.storageKey,n)):n.user=Xa()}if(this._debug(r,"session from storage",n),!this._isValidSession(n))return this._debug(r,"session is not valid"),void(null!==n&&await this._removeSession());const s=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<la;if(this._debug(r,"session has".concat(s?"":" not"," expired with margin of ").concat(la,"s")),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),ka(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(r,"error",n),void console.error(n)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(a,"begin");try{this.refreshingDeferred=new Ha;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ba;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const a={session:t.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(a,"error",n),ga(n)){const e={session:null,error:n};return ka(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a="#_notifyAllSubscribers(".concat(e,")");this._debug(a,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(ci){a.push(ci)}});if(await Promise.all(n),a.length>0){for(let e=0;e<a.length;e+=1)console.error(a[e]);throw a[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Ba(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const a=Za(e);await Ba(this.storage,this.storageKey,a)}else{const e=Za(t);await Ba(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Wa(this.storage,this.storageKey),await Wa(this.storage,this.storageKey+"-code-verifier"),await Wa(this.storage,this.storageKey+"-user"),this.userStorage&&await Wa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&La()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(ci){console.error("removing visibilitychange callback failed",ci)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*r.expires_at-e)/ia);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(a," ticks, a tick lasts ").concat(ia,"ms, refresh threshold is ").concat(3," ticks")),a<=3&&await this._callRefreshToken(r.refresh_token)})}catch(ci){console.error("Auto refresh tick failed with error. This is likely a transient error.",ci)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(ci){if(!(ci.isAcquireTimeout||ci instanceof xn))throw ci;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!La()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&a.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&a.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await Qa(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});a.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);a.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&a.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(a.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?{data:null,error:n}:await nn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(ga(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await nn(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(a=null===i||void 0===i?void 0:i.totp)||void 0===a?void 0:a.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),{data:i,error:null})})}catch(t){if(ga(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return{data:null,error:n};const{data:s,error:o}=await nn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(t){if(ga(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?{data:null,error:n}:await nn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(ga(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],a=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),n=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:a,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:a},error:n}=e;if(n)return{data:null,error:n};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Va(a.access_token);let o=null;s.aal&&(o=s.aal);let i=o;(null!==(r=null===(t=a.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(i="aal2");return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:a,error:n}=await nn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;return a.keys&&0!==a.keys.length?(this.jwks=a,this.jwks_cached_at=r,t=a.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:a,payload:n,signature:s,raw:{header:o,payload:i}}=Va(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(a.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:n,header:a,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,function(e){const t=[];return Ra(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new Sa("Invalid JWT signature");return{data:{claims:n,header:a,signature:s},error:null}}catch(r){if(ga(r))return{data:null,error:r};throw r}}}Nn.nextInstanceID=0;const kn=Nn;class Cn extends kn{constructor(e){super(e)}}var Sn=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(ci){s(ci)}}function i(e){try{l(a.throw(e))}catch(ci){s(ci)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})};class _n{constructor(e,t,r){var a,n,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(i=e).endsWith("/")?i:i+"/";var i;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),d=function(e,t){var r,a;const{db:n,auth:s,realtime:o,global:i}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},u),i),{headers:Object.assign(Object.assign({},null!==(r=null===u||void 0===u?void 0:u.headers)&&void 0!==r?r:{}),null!==(a=null===i||void 0===i?void 0:i.headers)&&void 0!==a?a:{})}),accessToken:()=>sa(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:Xr,realtime:ea,auth:Object.assign(Object.assign({},Zr),{storageKey:c}),global:$r});this.storageKey=null!==(a=d.auth.storageKey)&&void 0!==a?a:"",this.headers=null!==(n=d.global.headers)&&void 0!==n?n:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=d.auth)&&void 0!==s?s:{},this.headers,d.global.fetch),this.fetch=na(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ft(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Yr(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Sn(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:o,storageKey:i,flowType:l,lock:c,debug:d}=e;const u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Cn({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),t),storageKey:i,autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:o,flowType:l,lock:c,debug:d,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cr(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const En=((e,t,r)=>new _n(e,t,r))("https://noxhoaarzezagzsbypsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5veGhvYWFyemV6YWd6c2J5cHN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0ODQwMDgsImV4cCI6MjA3MjA2MDAwOH0.--5wiBXbXoJQNylU3COyYpfH7L3LqbzTXU0xCo29fcE");class Tn{constructor(){}static getInstance(){return Tn.instance||(Tn.instance=new Tn),Tn.instance}async getUsers(){try{const{data:e,error:t}=await En.from("users").select("*").order("username");if(t)throw t;return e||[]}catch(e){return console.error("Erro ao buscar usu\xe1rios:",e),[]}}async getUserById(e){try{const{data:t,error:r}=await En.from("users").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){return console.error("Erro ao buscar usu\xe1rio:",t),null}}async getUserByUsername(e){try{const{data:t,error:r}=await En.from("users").select("*").eq("username",e).single();if(r)throw r;return t}catch(t){return console.error("Erro ao buscar usu\xe1rio por username:",t),null}}async createUser(e){try{const{data:t,error:r}=await En.from("users").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar usu\xe1rio:",t),null}}async updateUser(e,t){try{const{error:r}=await En.from("users").update(t).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar usu\xe1rio:",r),!1}}async deleteUser(e){try{const{error:t}=await En.from("users").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao deletar usu\xe1rio:",t),!1}}async getBoards(e){try{let t=En.from("boards").select("*").order("name");e&&(t=t.eq("owner_id",e));const{data:r,error:a}=await t;if(a)throw a;return r||[]}catch(t){return console.error("Erro ao buscar quadros:",t),[]}}async getBoardById(e){try{const{data:t,error:r}=await En.from("boards").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){return console.error("Erro ao buscar quadro:",t),null}}async createBoard(e){try{const{data:t,error:r}=await En.from("boards").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar quadro:",t),null}}async updateBoard(e,t){try{const{error:r}=await En.from("boards").update(t).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar quadro:",r),!1}}async deleteBoard(e){try{const{data:t,error:r}=await En.from("boards").select("board_id").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Board n\xe3o encontrado");const a=t.board_id,{data:n,error:s}=await En.from("cards").select("card_id").eq("board_id",a);if(s)console.error("Erro ao buscar cards do board:",s);else if(n&&n.length>0){const e=n.map(e=>e.card_id);for(const t of e){const{error:e}=await En.from("subtasks").delete().eq("card_id",t);e&&console.error("Erro ao deletar subtarefas do card ".concat(t,":"),e)}console.log("Deletadas subtarefas de ".concat(e.length," cards"))}const{error:o}=await En.from("cards").delete().eq("board_id",a);o?console.error("Erro ao deletar cards:",o):console.log("Deletados todos os cards do board ".concat(a));const{error:i}=await En.from("lists").delete().eq("board_id",a);if(i?console.error("Erro ao deletar listas:",i):console.log("Deletadas todas as listas do board ".concat(a)),n&&n.length>0){const e=n.map(e=>e.card_id);for(const t of e){const{error:e}=await En.from("activities").delete().eq("card_id",t);e&&console.error("Erro ao deletar atividades do card ".concat(t,":"),e)}console.log("Deletadas atividades de ".concat(e.length," cards"))}const{error:l}=await En.from("chats").delete().eq("board_id",a);l?console.error("Erro ao deletar chats do board:",l):console.log("Deletados chats do board ".concat(a));const{error:c}=await En.from("boards").delete().eq("id",e);if(c)throw c;return console.log("Board ".concat(a," e todos os seus dados foram exclu\xeddos com sucesso")),!0}catch(t){return console.error("Erro ao deletar quadro:",t),!1}}async getListsForBoard(e){console.log("=== DATABASE: getListsForBoard ==="),console.log("boardId:",e);try{const{data:t,error:r}=await En.from("lists").select("*").eq("board_id",e).order("position");if(console.log("Supabase response - data:",t),console.log("Supabase response - error:",r),r)throw console.error("Erro do Supabase:",r),r;return console.log("Listas encontradas:",t||[]),t||[]}catch(t){return console.error("Erro ao buscar listas:",t),console.log("Detalhes do erro:",{message:t instanceof Error?t.message:"Erro desconhecido",code:null===t||void 0===t?void 0:t.code,details:null===t||void 0===t?void 0:t.details}),[]}}async createList(e){try{const{data:t,error:r}=await En.from("lists").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar lista:",t),null}}async getCardsForBoard(e){console.log("=== DATABASE: getCardsForBoard ==="),console.log("boardId:",e);try{const{data:t,error:r}=await En.from("cards").select("*").eq("board_id",e).eq("is_archived",!1).order("created_at");if(console.log("Supabase response - data:",t),console.log("Supabase response - error:",r),r)throw console.error("Erro do Supabase:",r),r;return console.log("Cards encontrados:",t||[]),t||[]}catch(t){return console.error("Erro ao buscar cards:",t),console.log("Detalhes do erro:",{message:t instanceof Error?t.message:"Erro desconhecido",code:null===t||void 0===t?void 0:t.code,details:null===t||void 0===t?void 0:t.details}),[]}}async getCardById(e){try{const{data:t,error:r}=await En.from("cards").select("*").eq("card_id",e).single();if(r)throw r;return t}catch(t){return console.error("Erro ao buscar card:",t),null}}async createCard(e){console.log("=== DATABASE: createCard ==="),console.log("cardData recebido:",e);try{const{data:t,error:r}=await En.from("cards").insert([e]).select().single();if(console.log("Supabase response - data:",t),console.log("Supabase response - error:",r),r)throw console.error("Erro do Supabase:",r),r;return console.log("Card criado com sucesso:",t),t}catch(t){return console.error("Erro ao criar card:",t),console.log("Detalhes do erro:",{message:t instanceof Error?t.message:"Erro desconhecido",code:null===t||void 0===t?void 0:t.code,details:null===t||void 0===t?void 0:t.details}),null}}async updateCard(e,t){try{const{error:r}=await En.from("cards").update(t).eq("card_id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar card:",r),!1}}async updateCardById(e,t){try{const{error:r}=await En.from("cards").update(t).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar card por ID:",r),!1}}async deleteCard(e){try{const{error:t}=await En.from("cards").delete().eq("card_id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao deletar card:",t),!1}}async deleteCardById(e){try{const{data:t,error:r}=await En.from("cards").select("card_id").eq("id",e).single();if(r)throw r;const{error:a}=await En.from("subtasks").delete().eq("card_id",t.card_id);a&&console.error("Erro ao deletar subtarefas:",a);const{error:n}=await En.from("cards").delete().eq("id",e);if(n)throw n;return!0}catch(t){return console.error("Erro ao deletar card por ID:",t),!1}}async getSubtasksForCard(e){try{const{data:t,error:r}=await En.from("subtasks").select("*").eq("card_id",e).order("created_at");if(r)throw r;return t||[]}catch(t){return console.error("Erro ao buscar subtarefas:",t),[]}}async createSubtask(e){try{const{data:t,error:r}=await En.from("subtasks").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar subtarefa:",t),null}}async updateSubtask(e,t){try{const{error:r}=await En.from("subtasks").update(t).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar subtarefa:",r),!1}}async deleteSubtask(e){try{const{error:t}=await En.from("subtasks").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao deletar subtarefa:",t),!1}}async getActivities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{const{data:t,error:r}=await En.from("activities").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw r;return t||[]}catch(t){return console.error("Erro ao buscar atividades:",t),[]}}async createActivity(e){try{const{data:t,error:r}=await En.from("activities").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar atividade:",t),null}}async getChatsByUser(e){try{const{data:t,error:r}=await En.from("chats").select("\n          *,\n          chat_participants!inner(user_id)\n        ").eq("chat_participants.user_id",e).eq("is_active",!0).order("updated_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Erro ao buscar chats:",t),[]}}async getChatMessages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{const{data:r,error:a}=await En.from("chat_messages").select("*").eq("chat_id",e).eq("is_deleted",!1).order("created_at",{ascending:!1}).limit(t);if(a)throw a;return r||[]}catch(r){return console.error("Erro ao buscar mensagens:",r),[]}}async sendMessage(e){try{const{data:t,error:r}=await En.from("chat_messages").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao enviar mensagem:",t),null}}async getUserSettings(e){try{const{data:t,error:r}=await En.from("user_settings").select("setting_key, setting_value").eq("user_id",e);if(r)throw r;const a={};return null===t||void 0===t||t.forEach(e=>{try{a[e.setting_key]=JSON.parse(e.setting_value)}catch(t){a[e.setting_key]=e.setting_value}}),a}catch(t){return console.error("Erro ao buscar configura\xe7\xf5es:",t),{}}}async saveUserSetting(e,t,r){try{const{error:a}=await En.from("user_settings").upsert({user_id:e,setting_key:t,setting_value:JSON.stringify(r),updated_at:(new Date).toISOString()});if(a)throw a;return!0}catch(a){return console.error("Erro ao salvar configura\xe7\xe3o:",a),!1}}async saveUserSettings(e,t){try{console.log("Database: Salvando configura\xe7\xf5es para usu\xe1rio ID:",e),console.log("Database: Configura\xe7\xf5es recebidas:",t);const{data:r,error:a}=await En.from("user_settings").select("id").limit(1);if(a)return console.error("Database: Erro ao verificar tabela user_settings:",a),console.error("Database: C\xf3digo do erro:",a.code),console.error("Database: Mensagem do erro:",a.message),!1;console.log("Database: Tabela user_settings existe e \xe9 acess\xedvel");const n=Object.entries(t).map(t=>{let[r,a]=t;return{user_id:e,setting_key:r,setting_value:JSON.stringify(a),updated_at:(new Date).toISOString()}});console.log("Database: Dados preparados para upsert:",n);for(const e of n){console.log("Database: Tentando salvar:",e.setting_key);const{data:t,error:r}=await En.from("user_settings").select("id").eq("user_id",e.user_id).eq("setting_key",e.setting_key).single();if(r&&"PGRST116"!==r.code)throw console.error("Database: Erro ao verificar ".concat(e.setting_key,":"),r),r;let a;if(t?(console.log("Database: Atualizando ".concat(e.setting_key," existente")),a=await En.from("user_settings").update({setting_value:e.setting_value,updated_at:e.updated_at}).eq("user_id",e.user_id).eq("setting_key",e.setting_key).select()):(console.log("Database: Inserindo ".concat(e.setting_key," novo")),a=await En.from("user_settings").insert([e]).select()),a.error)throw console.error("Database: Erro ao salvar ".concat(e.setting_key,":"),a.error),console.error("Database: C\xf3digo do erro:",a.error.code),console.error("Database: Mensagem do erro:",a.error.message),console.error("Database: Detalhes do erro:",a.error.details),a.error;console.log("Database: ".concat(e.setting_key," salvo com sucesso:"),a.data)}return console.log("Database: Todas as configura\xe7\xf5es salvas com sucesso"),!0}catch(r){return console.error("Database: Erro ao salvar configura\xe7\xf5es:",r),console.error("Database: User ID:",e),console.error("Database: Settings:",t),!1}}async getBoardTemplates(){try{const{data:e,error:t}=await En.from("board_templates").select("*").order("name");if(t)throw t;return e||[]}catch(e){return console.error("Erro ao buscar templates de quadros:",e),[]}}async createBoardTemplate(e){try{const{data:t,error:r}=await En.from("board_templates").insert([e]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar template de quadro:",t),null}}async updateBoardTemplate(e,t){try{const{error:r}=await En.from("board_templates").update(t).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Erro ao atualizar template de quadro:",r),!1}}async deleteBoardTemplate(e){try{const{error:t}=await En.from("board_templates").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao deletar template de quadro:",t),!1}}async insertDefaultBoardTemplates(){try{const e=[{name:"Desenvolvimento",description:"Template para projetos de desenvolvimento de software",category:"development",icon:"desenvolvimento",color:"bg-blue-500",columns:["Backlog","Em Desenvolvimento","Em Teste","Pronto para Deploy","Deployado"],is_default:!0},{name:"Design",description:"Template para projetos de design e UX/UI",category:"design",icon:"design",color:"bg-purple-500",columns:["Briefing","Em Design","Em Revis\xe3o","Aprovado","Finalizado"],is_default:!0},{name:"Manuten\xe7\xe3o",description:"Template para tarefas de manuten\xe7\xe3o e suporte",category:"maintenance",icon:"manutencao",color:"bg-orange-500",columns:["Reportado","Em An\xe1lise","Em Corre\xe7\xe3o","Em Teste","Resolvido"],is_default:!0},{name:"Marketing",description:"Template para campanhas e estrat\xe9gias de marketing",category:"marketing",icon:"marketing",color:"bg-green-500",columns:["Planejamento","Em Execu\xe7\xe3o","Em Revis\xe3o","Aprovado","Finalizado"],is_default:!0},{name:"Produto",description:"Template para desenvolvimento de produtos",category:"product",icon:"produto",color:"bg-indigo-500",columns:["Idea\xe7\xe3o","Valida\xe7\xe3o","Desenvolvimento","Teste","Lan\xe7amento"],is_default:!0},{name:"Projeto",description:"Template para gerenciamento de projetos gerais",category:"project",icon:"projeto",color:"bg-red-500",columns:["In\xedcio","Em Andamento","Em Revis\xe3o","Finaliza\xe7\xe3o","Conclu\xeddo"],is_default:!0},{name:"RH",description:"Template para processos de recursos humanos",category:"hr",icon:"rh",color:"bg-pink-500",columns:["Candidatura","Em An\xe1lise","Entrevista","Avalia\xe7\xe3o","Contratado"],is_default:!0},{name:"Suporte",description:"Template para tickets de suporte t\xe9cnico",category:"support",icon:"suporte",color:"bg-yellow-500",columns:["Aberto","Em An\xe1lise","Em Andamento","Aguardando Cliente","Fechado"],is_default:!0},{name:"Tarefas",description:"Template simples para gerenciamento de tarefas",category:"tasks",icon:"tarefas",color:"bg-gray-500",columns:["A Fazer","Em Progresso","Conclu\xeddo"],is_default:!0},{name:"Vendas",description:"Template para pipeline de vendas",category:"sales",icon:"vendas",color:"bg-teal-500",columns:["Lead","Qualificado","Proposta","Negocia\xe7\xe3o","Fechado"],is_default:!0}];if((await this.getBoardTemplates()).length>0)return console.log("Templates j\xe1 existem, pulando inser\xe7\xe3o..."),!0;for(const t of e)await this.createBoardTemplate(t);return console.log("Templates padr\xe3o inseridos com sucesso!"),!0}catch(e){return console.error("Erro ao inserir templates padr\xe3o:",e),!1}}}Tn.instance=void 0;const An=Tn.getInstance(),Pn=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Dn=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),On=()=>{const{user:e}=Me(),{getPriorityColor:t,getPriorityTextColor:r}=rt(),a=ee(),s=e=>{switch(e.toLowerCase()){case"critical":return"Cr\xedtica";case"high":return"Alta";case"medium":return"Normal";case"low":return"Baixa";default:return e}},[o,i]=(0,n.useState)({total_cards:0,cards_todo:0,cards_progress:0,cards_done:0,total_meetings:0,upcoming_meetings:0,total_pomodoros:0,completed_pomodoros:0,active_users:0,recent_activities:[]}),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]);(0,n.useEffect)(()=>{h()},[]);const h=async()=>{(new Date).toISOString(),new Date(Date.now()-36e5).toISOString();try{if(null===e||void 0===e||!e.id)return;const r=await An.getBoards(e.id);let a=[];for(const e of r)try{const t=await An.getCardsForBoard(e.board_id);t&&t.length>0&&(a=[...a,...t])}catch(t){console.log("Board ".concat(e.name," n\xe3o encontrado ou exclu\xeddo, pulando..."));continue}const n=a.length,s=a.filter(e=>"todo"===e.status).length,o=a.filter(e=>"progress"===e.status).length,l=a.filter(e=>"done"===e.status).length,d={total_cards:n,cards_todo:s,cards_progress:o,cards_done:l,total_meetings:0,upcoming_meetings:0,total_pomodoros:0,completed_pomodoros:0,active_users:1,recent_activities:(await An.getActivities(10)).map(e=>({id:e.id,user_id:e.user_id,type:e.action,description:e.description,created_at:e.created_at}))},h=a.slice(0,5).map(e=>({id:e.id,board_id:1,column_id:1,title:e.title,description:e.description,priority:e.importance,status:e.status,created_by:e.user_id||1,created_at:e.created_at,updated_at:e.updated_at}));i(d),c(h),u([])}catch(t){console.error("Erro ao carregar dados do dashboard:",t)}},m=e=>{switch(e){case"todo":default:return"status-todo";case"progress":return"status-progress";case"done":return"status-done"}},g=e=>{switch(e){case"todo":return"A Fazer";case"progress":return"Em Progresso";case"done":return"Conclu\xeddo";default:return e}};return(0,Oe.jsxs)("div",{className:"min-h-screen bg-brand-light-gray/30",children:[(0,Oe.jsx)("div",{className:"bg-white border-b border-brand-light-gray p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h1",{className:"text-2xl font-bold text-brand-gray",children:["Bem-vindo, ",null===e||void 0===e?void 0:e.username,"!"]}),(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:"Aqui est\xe1 um resumo das suas atividades"})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:(0,Oe.jsxs)("button",{className:"btn-primary flex items-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Nova Tarefa"})]})})]})}),(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Oe.jsxs)("div",{className:"card-hover",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray/70",children:"Total de Cart\xf5es"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:o.total_cards})]}),(0,Oe.jsx)("div",{className:"w-12 h-12 bg-brand-blue-light/10 rounded-2xl flex items-center justify-center",children:(0,Oe.jsx)(gt,{className:"w-6 h-6 text-brand-blue-light"})})]}),(0,Oe.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Oe.jsxs)("span",{className:"status-todo",children:[o.cards_todo," A Fazer"]}),(0,Oe.jsxs)("span",{className:"status-progress",children:[o.cards_progress," Em Progresso"]}),(0,Oe.jsxs)("span",{className:"status-done",children:[o.cards_done," Conclu\xeddo"]})]})]}),(0,Oe.jsxs)("div",{className:"card-hover",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray/70",children:"Reuni\xf5es"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:o.total_meetings})]}),(0,Oe.jsx)("div",{className:"w-12 h-12 bg-brand-green-light/10 rounded-2xl flex items-center justify-center",children:(0,Oe.jsx)(ft,{className:"w-6 h-6 text-brand-green-light"})})]}),(0,Oe.jsx)("div",{className:"mt-4",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/70",children:["Pr\xf3ximas: ",(0,Oe.jsx)("span",{className:"font-medium text-brand-green",children:o.upcoming_meetings})]})})]}),(0,Oe.jsxs)("div",{className:"card-hover",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray/70",children:"Pomodoros"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:o.completed_pomodoros})]}),(0,Oe.jsx)("div",{className:"w-12 h-12 bg-brand-orange-light/10 rounded-2xl flex items-center justify-center",children:(0,Oe.jsx)(pt,{className:"w-6 h-6 text-brand-orange-light"})})]}),(0,Oe.jsx)("div",{className:"mt-4",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/70",children:["Total: ",(0,Oe.jsx)("span",{className:"font-medium text-brand-orange",children:o.total_pomodoros})]})})]}),(0,Oe.jsxs)("div",{className:"card-hover",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray/70",children:"Usu\xe1rios Ativos"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:o.active_users})]}),(0,Oe.jsx)("div",{className:"w-12 h-12 bg-brand-purple-light/10 rounded-2xl flex items-center justify-center",children:(0,Oe.jsx)(wt,{className:"w-6 h-6 text-brand-purple-light"})})]}),(0,Oe.jsx)("div",{className:"mt-4",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/70",children:[(0,Oe.jsx)(Dn,{className:"w-4 h-4 inline mr-1 text-brand-green"}),"+12% este m\xeas"]})})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Oe.jsx)("div",{className:"lg:col-span-2",children:(0,Oe.jsxs)("div",{className:"card",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-brand-gray flex items-center",children:[(0,Oe.jsx)(Nt,{className:"w-5 h-5 mr-2"}),"Cart\xf5es Recentes"]}),(0,Oe.jsx)("button",{onClick:()=>a("/all-cards"),className:"text-brand-red hover:text-brand-red-dark text-sm font-medium",children:"Ver Todos"})]}),(0,Oe.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,Oe.jsx)("div",{className:"border-2 border-brand-light-gray rounded-2xl p-4 hover:shadow-md transition-shadow",children:(0,Oe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray mb-1",children:e.title}),e.description&&(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70 mb-2",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full text-xs",style:{backgroundColor:t(e.priority),color:r(e.priority)},children:s(e.priority)}),(0,Oe.jsx)("span",{className:"status-badge ".concat(m(e.status)),children:g(e.status)})]})]}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})})]})},e.id))})]})}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"card",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h3",{className:"font-semibold text-brand-gray flex items-center",children:[(0,Oe.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Pr\xf3ximas Reuni\xf5es"]}),(0,Oe.jsx)("button",{className:"text-brand-red hover:text-brand-red-dark text-sm",children:"Ver Todas"})]}),(0,Oe.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,Oe.jsxs)("div",{className:"border border-brand-light-gray rounded-2xl p-3",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray text-sm mb-1",children:e.title}),(0,Oe.jsxs)("p",{className:"text-xs text-brand-gray/70 mb-2",children:[new Date(e.date).toLocaleDateString("pt-BR")," \xe0s ",e.time]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"text-xs bg-brand-green-light/10 text-brand-green px-2 py-1 rounded-full",children:e.platform}),(0,Oe.jsx)("button",{className:"text-xs text-brand-blue hover:text-brand-blue-dark",children:"Entrar"})]})]},e.id))})]}),(0,Oe.jsxs)("div",{className:"card",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h3",{className:"font-semibold text-brand-gray flex items-center",children:[(0,Oe.jsx)(xt,{className:"w-4 h-4 mr-2"}),"Atividades Recentes"]}),(0,Oe.jsx)("button",{className:"text-brand-red hover:text-brand-red-dark text-sm",children:"Ver Todas"})]}),(0,Oe.jsx)("div",{className:"space-y-3",children:o.recent_activities.map(e=>(0,Oe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Oe.jsx)("div",{className:"w-2 h-2 bg-brand-green rounded-full mt-2 flex-shrink-0"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray",children:e.description}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/50",children:new Date(e.created_at).toLocaleString("pt-BR")})]})]},e.id))})]}),(0,Oe.jsxs)("div",{className:"card",children:[(0,Oe.jsxs)("h3",{className:"font-semibold text-brand-gray mb-4 flex items-center",children:[(0,Oe.jsx)(kt,{className:"w-4 h-4 mr-2"}),"A\xe7\xf5es R\xe1pidas"]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{className:"w-full btn-primary text-left flex items-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Novo Cart\xe3o"})]}),(0,Oe.jsxs)("button",{className:"w-full btn-secondary text-left flex items-center space-x-2",children:[(0,Oe.jsx)(ft,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Nova Reuni\xe3o"})]}),(0,Oe.jsxs)("button",{className:"w-full btn-outline text-left flex items-center space-x-2",children:[(0,Oe.jsx)(pt,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Iniciar Pomodoro"})]})]})]})]})]})]})]})},Rn=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),In=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Mn=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ln=e=>{let{variant:t="button",className:r=""}=e;const{theme:a,setTheme:n,toggleTheme:s,isDark:o}=st();return"select"===t?(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 ".concat(r),children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray dark:text-gray-50",children:"Tema:"}),(0,Oe.jsxs)("select",{value:a,onChange:e=>n(e.target.value),className:"px-3 py-1.5 text-sm border border-brand-light-gray dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue focus:border-transparent bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-50",children:[(0,Oe.jsx)("option",{value:"light",children:"Claro"}),(0,Oe.jsx)("option",{value:"dark",children:"Escuro"}),(0,Oe.jsx)("option",{value:"auto",children:"Autom\xe1tico"})]})]}):(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 ".concat(r),children:[(0,Oe.jsx)("button",{onClick:()=>n("light"),className:"p-2 rounded-lg transition-colors ".concat("light"===a?"bg-brand-red text-white":"text-brand-gray dark:text-gray-50 hover:bg-brand-light-gray dark:hover:bg-gray-700"),title:"Tema Claro",children:(0,Oe.jsx)(Rn,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>n("auto"),className:"p-2 rounded-lg transition-colors ".concat("auto"===a?"bg-brand-red text-white":"text-brand-gray dark:text-gray-50 hover:bg-brand-light-gray dark:hover:bg-gray-700"),title:"Tema Autom\xe1tico",children:(0,Oe.jsx)(In,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>n("dark"),className:"p-2 rounded-lg transition-colors ".concat("dark"===a?"bg-brand-red text-white":"text-brand-gray dark:text-gray-50 hover:bg-brand-light-gray dark:hover:bg-gray-700"),title:"Tema Escuro",children:(0,Oe.jsx)(Mn,{className:"w-4 h-4"})})]})},zn=Be("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Un=Be("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Fn=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bn=Be("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),qn=Be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Wn=Be("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Hn=Be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Vn=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Gn=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Kn=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Qn=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),Yn=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Jn=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$n=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Xn=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zn=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),es=e=>{let{subtasks:t,onSubtasksChange:r,isExpanded:a=!1,onToggleExpanded:s}=e;const{addToast:o}=Qe(),{getPriorityColor:i,getPriorityTextColor:l}=rt(),c=e=>{switch(e.toLowerCase()){case"critical":return"Cr\xedtica";case"high":return"Alta";case"medium":return"Normal";case"low":return"Baixa";default:return e}},[d,u]=(0,n.useState)(null),[h,m]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[p,x]=(0,n.useState)(null),[b,v]=(0,n.useState)(null),[y,w]=(0,n.useState)({title:"",description:"",dueDate:"",priority:"medium",assignedTo:"",importance:"normal",category:"",estimatedTime:"",tags:[],recurrence:"none"}),j=t.filter(e=>e.completed).length,N=t.length,k=()=>{if(!g.trim())return void o({type:"warning",title:"T\xedtulo obrigat\xf3rio",message:"Digite um t\xedtulo para a subtarefa"});const e={id:Math.random().toString(36).substr(2,9),title:g.trim(),completed:!1,createdAt:new Date};r([...t,e]),f(""),o({type:"success",title:"Subtarefa adicionada",message:"Nova subtarefa criada com sucesso"})},C=()=>{w({title:"",description:"",dueDate:"",priority:"medium",assignedTo:"",importance:"normal",category:"",estimatedTime:"",tags:[],recurrence:"none"})},S=e=>{var t;e?(v(e),w({title:e.title,description:e.description||"",dueDate:e.dueDate||"",priority:e.priority||"medium",assignedTo:e.assignedTo||"",importance:e.importance||"normal",category:e.category||"",estimatedTime:(null===(t=e.estimatedTime)||void 0===t?void 0:t.toString())||"",tags:e.tags||[],recurrence:e.recurrence||"none"})):(v(null),C());x("detail")},_=()=>{if(!h.trim())return void o({type:"warning",title:"T\xedtulo obrigat\xf3rio",message:"Digite um t\xedtulo para a subtarefa"});const e=t.map(e=>e.id===d?(0,De.A)((0,De.A)({},e),{},{title:h.trim()}):e);r(e),u(null),m(""),o({type:"success",title:"Subtarefa atualizada",message:"T\xedtulo da subtarefa foi atualizado"})},E=()=>{u(null),m("")},T=(e,t)=>{"Enter"===e.key&&t()},A=e=>{switch(e.toLowerCase()){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},P=e=>new Date(e)<new Date,D=e=>{const t=Math.floor(e/60),r=e%60;return t>0?"".concat(t,"h ").concat(r,"m"):"".concat(r,"m")};return(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,Oe.jsx)("button",{onClick:s,className:"p-1 rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:a?(0,Oe.jsx)(Jn,{className:"w-4 h-4 text-brand-gray"}):(0,Oe.jsx)(Ct,{className:"w-4 h-4 text-brand-gray"})}),(0,Oe.jsx)("h4",{className:"text-sm font-medium text-brand-gray",children:"Subtarefas"}),(0,Oe.jsxs)("span",{className:"text-xs text-brand-gray/60",children:[j,"/",N," conclu\xeddas"]})]}),N>0&&(0,Oe.jsx)("div",{className:"w-16 h-2 bg-brand-light-gray rounded-full overflow-hidden",children:(0,Oe.jsx)("div",{className:"h-full bg-brand-green transition-all duration-300",style:{width:"".concat(N>0?j/N*100:0,"%")}})})]}),a&&(0,Oe.jsxs)(Oe.Fragment,{children:[N>0&&(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("div",{className:"flex justify-between text-xs text-brand-gray/60",children:[(0,Oe.jsx)("span",{children:"Progresso"}),(0,Oe.jsxs)("span",{children:[Math.round(j/N*100),"%"]})]}),(0,Oe.jsx)("div",{className:"w-full h-2 bg-brand-light-gray rounded-full overflow-hidden",children:(0,Oe.jsx)("div",{className:"h-full bg-gradient-to-r from-brand-green to-brand-blue transition-all duration-300",style:{width:"".concat(j/N*100,"%")}})})]}),(0,Oe.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,Oe.jsxs)("div",{className:"flex items-start space-x-3 p-5 rounded-xl border-2 transition-all duration-200 ".concat(e.completed?"bg-green-50":"bg-white"),style:{borderColor:e.completed?"#22C55E":i(e.priority?e.priority:"medium")},children:[(0,Oe.jsx)("button",{onClick:()=>(e=>{const a=t.map(t=>t.id===e?(0,De.A)((0,De.A)({},t),{},{completed:!t.completed,completedAt:t.completed?void 0:new Date}):t);r(a);const n=t.find(t=>t.id===e);o({type:"success",title:null!==n&&void 0!==n&&n.completed?"Subtarefa reaberta":"Subtarefa conclu\xedda",message:null===n||void 0===n?void 0:n.title})})(e.id),className:"flex-shrink-0 p-1 rounded-lg hover:bg-black/10 transition-colors mt-0.5",children:e.completed?(0,Oe.jsx)(Wn,{className:"w-5 h-5 text-green-600"}):(0,Oe.jsx)($n,{className:"w-5 h-5 text-brand-gray/60"})}),(0,Oe.jsx)("div",{className:"flex-1 min-w-0",children:d===e.id?(0,Oe.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),onKeyPress:e=>T(e,_),className:"w-full p-2 text-sm border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",autoFocus:!0}):(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsx)("p",{className:"text-sm ".concat(e.completed?"text-green-700 line-through":"text-brand-gray"),children:e.title}),(0,Oe.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center gap-2",children:[e.priority&&(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:i(e.priority),color:l(e.priority)},children:c(e.priority)}),e.importance&&"normal"!==e.importance&&(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(A(e.importance)),children:e.importance})]}),e.dueDate&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1 text-xs ".concat(P(e.dueDate)?"text-red-500":"text-brand-gray/60"),children:[(0,Oe.jsx)(ft,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:new Date(e.dueDate).toLocaleDateString("pt-BR")}),P(e.dueDate)&&(0,Oe.jsx)(We,{className:"w-3 h-3"})]})]}),(e.assignedTo||e.estimatedTime)&&(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[e.assignedTo&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1 text-xs text-brand-gray/60",children:[(0,Oe.jsx)(it,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{className:"truncate max-w-24",children:e.assignedTo})]}),e.estimatedTime&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1 text-xs text-brand-gray/60",children:[(0,Oe.jsx)(Xn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:D(e.estimatedTime)})]})]}),(e.category||e.tags&&e.tags.length>0)&&(0,Oe.jsxs)("div",{className:"flex flex-col gap-2",children:[e.category&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1 text-xs text-brand-gray/60",children:[(0,Oe.jsx)(Bn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{className:"truncate max-w-32",children:e.category})]}),e.tags&&e.tags.length>0&&(0,Oe.jsx)("div",{className:"text-xs text-brand-gray/60",children:(0,Oe.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded inline-block",children:e.tags.join(", ")})})]}),(e.comments&&e.comments.length>0||e.attachments&&e.attachments.length>0)&&(0,Oe.jsxs)("div",{className:"flex items-center gap-3 text-xs text-brand-gray/60",children:[e.comments&&e.comments.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Oe.jsx)(vt,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.comments.length})]}),e.attachments&&e.attachments.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Oe.jsx)(Vn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.attachments.length})]})]})]})]})}),(0,Oe.jsx)("div",{className:"flex items-start space-x-1 mt-0.5",children:d===e.id?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("button",{onClick:_,className:"p-1 rounded-lg hover:bg-green-100 transition-colors",children:(0,Oe.jsx)(Yn,{className:"w-4 h-4 text-green-600"})}),(0,Oe.jsx)("button",{onClick:E,className:"p-1 rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:(0,Oe.jsx)(Ge,{className:"w-4 h-4 text-brand-gray"})})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("button",{onClick:()=>S(e),className:"p-1 rounded-lg hover:bg-blue-100 transition-colors",title:"Editar detalhes",children:(0,Oe.jsx)(Zn,{className:"w-4 h-4 text-blue-600"})}),(0,Oe.jsx)("button",{onClick:()=>(e=>{u(e.id),m(e.title)})(e),className:"p-1 rounded-lg hover:bg-brand-light-gray/30 transition-colors",title:"Editar t\xedtulo",children:(0,Oe.jsx)(Un,{className:"w-4 h-4 text-brand-gray/60"})}),(0,Oe.jsx)("button",{onClick:()=>(e=>{const a=t.filter(t=>t.id!==e);r(a),o({type:"info",title:"Subtarefa removida",message:"Subtarefa exclu\xedda com sucesso"})})(e.id),className:"p-1 rounded-lg hover:bg-red-100 transition-colors",title:"Excluir",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4 text-red-500"})})]})})]},e.id))}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 p-3 border border-dashed border-brand-light-gray rounded-xl",children:[(0,Oe.jsx)("button",{onClick:k,disabled:!g.trim(),className:"flex-shrink-0 p-1 rounded-lg bg-brand-blue text-white hover:bg-brand-blue-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})}),(0,Oe.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),onKeyPress:e=>T(e,k),placeholder:"Adicionar subtarefa r\xe1pida...",className:"flex-1 p-2 text-sm border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("button",{onClick:()=>S(),className:"w-full flex items-center justify-center space-x-2 p-3 border border-dashed border-brand-blue text-brand-blue hover:bg-brand-blue/5 rounded-xl transition-colors",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:"Adicionar Subtarefa Detalhada"})]})]})]}),p&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:b?"Editar Subtarefa":"Nova Subtarefa Detalhada"}),(0,Oe.jsx)("button",{onClick:()=>x(null),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo *"}),(0,Oe.jsx)("input",{type:"text",value:y.title,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{title:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Digite o t\xedtulo da subtarefa"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:y.description,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{description:e.target.value})),rows:3,className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Descreva a subtarefa..."})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prazo"}),(0,Oe.jsx)("input",{type:"date",value:y.dueDate,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{dueDate:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prioridade"}),(0,Oe.jsxs)("select",{value:y.priority,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{priority:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"medium",children:"M\xe9dia"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"})]})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Delegar para"}),(0,Oe.jsxs)("select",{value:y.assignedTo,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{assignedTo:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"",children:"Selecionar membro..."}),[{id:"1",name:"Jo\xe3o Silva",avatar:"JS",role:"Desenvolvedor"},{id:"2",name:"Maria Santos",avatar:"MS",role:"Designer"},{id:"3",name:"Pedro Costa",avatar:"PC",role:"Analista"},{id:"4",name:"Ana Oliveira",avatar:"AO",role:"Testador"}].map(e=>(0,Oe.jsxs)("option",{value:e.name,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Import\xe2ncia"}),(0,Oe.jsxs)("select",{value:y.importance,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{importance:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"normal",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Categoria"}),(0,Oe.jsx)("input",{type:"text",value:y.category,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{category:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Ex: Frontend, Backend, Design..."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Tempo Estimado (min)"}),(0,Oe.jsx)("input",{type:"number",value:y.estimatedTime,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{estimatedTime:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Ex: 120"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Recorr\xeancia"}),(0,Oe.jsxs)("select",{value:y.recurrence,onChange:e=>w((0,De.A)((0,De.A)({},y),{},{recurrence:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"none",children:"Nenhuma"}),(0,Oe.jsx)("option",{value:"daily",children:"Diariamente"}),(0,Oe.jsx)("option",{value:"weekly",children:"Semanalmente"}),(0,Oe.jsx)("option",{value:"monthly",children:"Mensalmente"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Tags"}),(0,Oe.jsx)("input",{type:"text",value:y.tags.join(", "),onChange:e=>w((0,De.A)((0,De.A)({},y),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Ex: bug, feature, urgent (separadas por v\xedrgula)"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-brand-light-gray",children:[(0,Oe.jsx)("button",{onClick:()=>x(null),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 border border-brand-light-gray rounded-xl transition-colors",children:"Cancelar"}),(0,Oe.jsxs)("button",{onClick:b?()=>{if(!b)return;const e=(0,De.A)((0,De.A)({},b),{},{title:y.title,description:y.description,dueDate:y.dueDate||void 0,priority:y.priority,assignedTo:y.assignedTo||void 0,importance:y.importance,category:y.category||void 0,estimatedTime:y.estimatedTime?parseInt(y.estimatedTime):void 0,tags:y.tags,recurrence:y.recurrence}),a=t.map(t=>t.id===b.id?e:t);r(a),x(null),v(null),o({type:"success",title:"Subtarefa atualizada",message:"Detalhes da subtarefa foram salvos com sucesso"})}:()=>{if(!y.title.trim())return void o({type:"warning",title:"T\xedtulo obrigat\xf3rio",message:"Digite um t\xedtulo para a subtarefa"});const e={id:Math.random().toString(36).substr(2,9),title:y.title.trim(),description:y.description,completed:!1,createdAt:new Date,dueDate:y.dueDate||void 0,priority:y.priority,assignedTo:y.assignedTo||void 0,importance:y.importance,category:y.category||void 0,estimatedTime:y.estimatedTime?parseInt(y.estimatedTime):void 0,tags:y.tags,recurrence:y.recurrence,attachments:[],comments:[]};r([...t,e]),C(),x(null),o({type:"success",title:"Subtarefa detalhada criada",message:"Nova subtarefa com todas as informa\xe7\xf5es foi criada"})},className:"px-6 py-2 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Yn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:b?"Salvar":"Criar"})]})]})]})})})]})},ts=e=>{let{currentCard:t,allCards:r,columns:a,onClose:s,onSave:o}=e;const[i,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(null),u=e=>{switch(e.toLowerCase()){case"critical":return"#DC2626";case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},h=r.filter(e=>e.id!==t.id),m=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},g=e=>{const t=a.find(t=>t.id===e);switch(null===t||void 0===t?void 0:t.name){case"A Fazer":default:return"todo";case"Em Progresso":return"progress";case"Em Revis\xe3o":return"review";case"Conclu\xeddo":return"done"}},f=e=>{switch(e){case"done":return"bg-green-100 text-green-800 border-green-200";case"progress":return"bg-blue-100 text-blue-800 border-blue-200";case"review":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-6xl h-[90vh] flex flex-col shadow-2xl",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-brand-light-gray",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Gerenciar Depend\xeancias"}),(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/60 mt-1",children:['Arraste os cards para definir quando "',t.title,'" pode progredir']})]}),(0,Oe.jsx)("button",{onClick:s,className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full p-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:"Cards Dispon\xedveis"}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:h.map(e=>{return(0,Oe.jsx)("div",{draggable:!0,onDragStart:t=>((e,t)=>{d(t),e.dataTransfer.effectAllowed="move"})(t,e),className:"bg-white border border-brand-light-gray rounded-lg p-3 cursor-move hover:shadow-md transition-shadow",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray text-sm",children:e.title}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(f(g(e.column_id))),children:g(e.column_id)}),(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:u(e.priority),color:(t=e.priority,t.toLowerCase(),"#FFFFFF")},children:e.priority})]})]}),(0,Oe.jsx)("div",{className:"text-xs text-brand-gray/60",children:"Arraste para definir depend\xeancia"})]})},e.id);var t})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:"Definir Status Necess\xe1rio"}),(0,Oe.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/30 rounded-lg p-4",onDragOver:m,onDrop:t=>((e,t)=>{if(e.preventDefault(),c)if(i.find(e=>e.id===c.id.toString())){const e=i.map(e=>e.id===c.id.toString()?(0,De.A)((0,De.A)({},e),{},{requiredStatus:g(t)}):e);l(e)}else{const e={id:c.id.toString(),title:c.title,status:g(c.column_id),priority:c.priority,requiredStatus:g(t)};l([...i,e])}d(null)})(t,e.id),children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray",children:e.name}),(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(f(g(e.id))),children:g(e.id)})]}),(0,Oe.jsx)("div",{className:"min-h-20 bg-white rounded-lg border-2 border-dashed border-brand-light-gray flex items-center justify-center",children:(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Arraste um card aqui para definir depend\xeancia"})})]},e.id))})]})]})}),i.length>0&&(0,Oe.jsxs)("div",{className:"border-t border-brand-light-gray p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray mb-4",children:"Depend\xeancias Configuradas"}),(0,Oe.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between bg-brand-light-gray/30 rounded-lg p-3",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium text-brand-gray",children:e.title}),(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/60",children:["Deve estar em: ",(0,Oe.jsx)("span",{className:"font-medium",children:e.requiredStatus})]})]}),(0,Oe.jsx)("button",{onClick:()=>{return t=e.id,void l(i.filter(e=>e.id!==t));var t},className:"text-brand-red hover:text-brand-red-dark",children:(0,Oe.jsx)(Ge,{className:"w-4 h-4"})})]},e.id))})]}),(0,Oe.jsx)("div",{className:"p-6 border-t border-brand-light-gray",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("button",{onClick:s,className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 border border-brand-light-gray rounded-xl transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>o(i),className:"px-6 py-2 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors",children:"Salvar Depend\xeancias"})]})})]})})},rs=e=>{let{card:t,columns:r,allCards:a,onSave:s,onDelete:o,onClose:i}=e;const{addToast:l,showPopup:c}=Qe(),{hasPermission:d}=Xe(),{cardSettings:u,getPriorityColor:h,getPriorityTextColor:m}=rt(),g=e=>{switch(e.toLowerCase()){case"critical":return"#DC2626";case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},[f,p]=(0,n.useState)(t),[x,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)("details"),[w,j]=(0,n.useState)(!1),[N,k]=(0,n.useState)("none"),[C,S]=(0,n.useState)(""),[_,E]=(0,n.useState)(""),[T,A]=(0,n.useState)("normal"),[P,D]=(0,n.useState)([]),[O,R]=(0,n.useState)([]),[I,M]=(0,n.useState)([]),[L,z]=(0,n.useState)([]),[U,F]=(0,n.useState)(t.tags||[]),[B,q]=(0,n.useState)(""),[W,H]=(0,n.useState)(""),[V,G]=(0,n.useState)(""),[K,Q]=(0,n.useState)(""),[Y]=(0,n.useState)(!1),[J,$]=(0,n.useState)([]),[X,Z]=(0,n.useState)(""),[ee,te]=(0,n.useState)([]),[re,ae]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t.id&&(async()=>{try{const e=await An.getSubtasksForCard(t.card_id||t.id.toString());M(e.map(e=>({id:(e.id||"").toString(),title:e.title||"",completed:e.completed||!1,createdAt:new Date(e.created_at||new Date),dueDate:e.due_date||void 0,priority:e.priority||"medium",assignedTo:"Usu\xe1rio",importance:e.importance||"normal",category:e.category||"Geral",estimatedTime:parseInt(e.estimated_time||"0"),tags:e.tags||[],recurrence:"none"})));const r=(await An.getActivities(50)).filter(e=>e.card_id===(t.card_id||t.id.toString()));z(r.map(e=>({id:e.id.toString(),timestamp:new Date(e.created_at),user:"Usu\xe1rio",action:e.action,details:e.description}))),D([]),R([]),$([]),te([])}catch(e){console.error("Erro ao carregar dados do card:",e)}})()},[t.id]);const ne=e=>{if(e&&!P.find(t=>t.name===e)){const t={id:Date.now().toString(),name:e,avatar:e.split(" ").map(e=>e[0]).join(""),role:"Membro"};D([...P,t])}},se=e=>{if(e&&!O.find(t=>t.title===e)){const t={id:Date.now().toString(),title:e,status:"Pendente",priority:"M\xe9dia"};R([...O,t])}},oe=()=>{if(X.trim()){const e={id:Date.now().toString(),user:"Usu\xe1rio Atual",text:X,timestamp:new Date};$([...J,e]),Z("")}},ie=e=>{switch(e.toLowerCase()){case"conclu\xeddo":return"text-green-600 bg-green-50 border-green-200";case"em progresso":return"text-blue-600 bg-blue-50 border-blue-200";case"pendente":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(0,Oe.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-[95vw] h-[95vh] flex flex-col shadow-2xl border-4",style:{borderColor:h(t.priority)},children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-brand-light-gray",children:[(0,Oe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(zn,{className:"w-5 h-5 text-brand-blue"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/60",children:t.board_name||"Quadro"}),(0,Oe.jsx)("span",{className:"text-brand-gray/60",children:"/"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/60",children:t.column_name||"Lista"})]})}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>b(!x),className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",title:"Editar",children:(0,Oe.jsx)(Un,{className:"w-4 h-4"})}),d("card:delete")&&(0,Oe.jsx)("button",{onClick:()=>{c({title:"Excluir Card",message:'Tem certeza que deseja excluir o card "'.concat(t.title,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'),confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>{o(t.id)},onCancel:()=>{}})},className:"p-2 text-brand-red hover:bg-brand-red/10 rounded-lg transition-colors",title:"Excluir",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:i,className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]})]}),(0,Oe.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 h-full p-8 overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo"}),x?(0,Oe.jsx)("input",{type:"text",value:f.title,onChange:e=>p((0,De.A)((0,De.A)({},f),{},{title:e.target.value})),className:"w-full p-4 text-lg border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-brand-gray",children:f.title})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),x?(0,Oe.jsx)("textarea",{value:f.description||"",onChange:e=>p((0,De.A)((0,De.A)({},f),{},{description:e.target.value})),rows:5,className:"w-full p-4 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray/70 whitespace-pre-wrap",children:f.description||"Sem descri\xe7\xe3o"})]})]})}),(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(ft,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Datas e Recorr\xeancia"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prazo"}),x?(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"date",value:f.due_date?f.due_date.split("T")[0]:"",onChange:e=>p((0,De.A)((0,De.A)({},f),{},{due_date:e.target.value})),className:"flex-1 p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}),(0,Oe.jsx)("button",{className:"p-3 border border-brand-light-gray rounded-xl hover:bg-brand-light-gray/30",children:(0,Oe.jsx)(ft,{className:"w-4 h-4"})})]}):(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[(0,Oe.jsx)(ft,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:f.due_date?new Date(f.due_date).toLocaleDateString("pt-BR"):"Sem prazo"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Recorr\xeancia"}),x?(0,Oe.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"none",children:"Nenhuma"}),(0,Oe.jsx)("option",{value:"daily",children:"Diariamente"}),(0,Oe.jsx)("option",{value:"weekly",children:"Semanalmente"}),(0,Oe.jsx)("option",{value:"monthly",children:"Mensalmente"}),(0,Oe.jsx)("option",{value:"yearly",children:"Anualmente"})]}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:"none"===N?"Sem recorr\xeancia":N})]})]}),x&&(0,Oe.jsx)("div",{className:"mt-4",children:(0,Oe.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:w,onChange:e=>j(e.target.checked),className:"rounded"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray",children:"Incluir hor\xe1rio"})]})})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(Bn,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Atributos"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prioridade"}),x?(0,Oe.jsxs)("select",{value:f.priority,onChange:e=>p((0,De.A)((0,De.A)({},f),{},{priority:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"medium",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]}):(0,Oe.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:h(f.priority),color:m(f.priority)},children:(e=>{switch(e.toLowerCase()){case"critical":return"Cr\xedtica";case"high":return"Alta";case"medium":return"Normal";case"low":return"Baixa";default:return e}})(f.priority)})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Status"}),x?(0,Oe.jsxs)("select",{value:f.status,onChange:e=>p((0,De.A)((0,De.A)({},f),{},{status:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"todo",children:"A Fazer"}),(0,Oe.jsx)("option",{value:"progress",children:"Em Progresso"}),(0,Oe.jsx)("option",{value:"review",children:"Em Revis\xe3o"}),(0,Oe.jsx)("option",{value:"done",children:"Conclu\xeddo"})]}):(0,Oe.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(ie(f.status)),children:f.status})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Import\xe2ncia"}),x?(0,Oe.jsxs)("select",{value:T,onChange:e=>A(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"normal",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:T})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Categoria"}),x?(0,Oe.jsx)("input",{type:"text",value:_,onChange:e=>E(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:_||"Sem categoria"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Objetivo"}),x?(0,Oe.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:C||"Sem objetivo"})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(Bn,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Tags"})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[x&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("select",{value:B,onChange:e=>q(e.target.value),className:"flex-1 p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"",children:"Selecionar tag..."}),u.customTags.map(e=>(0,Oe.jsxs)("option",{value:e.name,children:[e.name," (",e.type,")"]},e.id))]}),(0,Oe.jsx)("button",{onClick:()=>{B&&!U.includes(B)&&(F([...U,B]),q(""))},disabled:!B,className:"p-3 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[U.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 bg-brand-light-gray/20 text-brand-gray rounded-lg px-3 py-2 border border-brand-light-gray",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium",children:e}),x&&(0,Oe.jsx)("button",{onClick:()=>{return t=e,void F(U.filter(e=>e!==t));var t},className:"text-brand-red hover:text-brand-red-dark",children:(0,Oe.jsx)(Ge,{className:"w-3 h-3"})})]},e)),0===U.length&&(0,Oe.jsx)("span",{className:"text-brand-gray/60 text-sm",children:"Nenhuma tag atribu\xedda"})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(wt,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Membros Respons\xe1veis"})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[x&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"text",placeholder:"Adicionar membro...",className:"flex-1 p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",onKeyPress:e=>{"Enter"===e.key&&(ne(e.target.value),e.target.value="")}}),(0,Oe.jsx)("button",{onClick:()=>{const e=document.querySelector('input[placeholder="Adicionar membro..."]');e&&(ne(e.value),e.value="")},className:"p-3 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:P.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 bg-brand-light-gray/30 rounded-lg px-3 py-2",children:[(0,Oe.jsx)("div",{className:"w-6 h-6 bg-brand-blue rounded-full flex items-center justify-center text-white text-xs font-semibold",children:e.avatar}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray",children:e.name}),x&&(0,Oe.jsx)("button",{onClick:()=>{return t=e.id,void D(P.filter(e=>e.id!==t));var t},className:"text-brand-red hover:text-brand-red-dark",children:(0,Oe.jsx)(Ge,{className:"w-3 h-3"})})]},e.id))})]})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray mb-4",children:"Informa\xe7\xf5es do Sistema"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-brand-gray/60",children:"Data de Cria\xe7\xe3o:"}),(0,Oe.jsx)("p",{className:"text-brand-gray",children:new Date(t.created_at).toLocaleDateString("pt-BR")})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-brand-gray/60",children:"\xdaltima Atualiza\xe7\xe3o:"}),(0,Oe.jsx)("p",{className:"text-brand-gray",children:new Date(t.updated_at).toLocaleDateString("pt-BR")})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-brand-gray/60",children:"ID do Card:"}),(0,Oe.jsxs)("p",{className:"text-brand-gray",children:["#",t.id]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-brand-gray/60",children:"Criado por:"}),(0,Oe.jsx)("p",{className:"text-brand-gray",children:t.created_by||"Sistema"})]})]})]}),Y&&(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(qn,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Integra\xe7\xe3o Git"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Branch"}),x?(0,Oe.jsx)("input",{type:"text",value:W,onChange:e=>H(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:W||"N\xe3o configurado"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Commit"}),x?(0,Oe.jsx)("input",{type:"text",value:V,onChange:e=>G(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:V||"N\xe3o configurado"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Pull Request"}),x?(0,Oe.jsx)("input",{type:"text",value:K,onChange:e=>Q(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("span",{className:"text-brand-gray",children:K||"N\xe3o configurado"})]})]})]})]}),(0,Oe.jsx)("div",{className:"lg:col-span-1 space-y-8",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-xl border border-brand-light-gray",children:[(0,Oe.jsx)("div",{className:"flex border-b border-brand-light-gray overflow-x-auto",children:[{id:"details",label:"Detalhes",icon:Un},{id:"subtasks",label:"Subtarefas",icon:Wn},{id:"history",label:"Hist\xf3rico",icon:xt},{id:"dependencies",label:"Depend\xeancias",icon:Hn}].map(e=>(0,Oe.jsxs)("button",{onClick:()=>y(e.id),className:"flex-shrink-0 flex items-center justify-center space-x-2 px-6 py-3 text-sm font-medium transition-colors min-w-0 ".concat(v===e.id?"text-brand-blue border-b-2 border-brand-blue":"text-brand-gray/60 hover:text-brand-gray"),children:[(0,Oe.jsx)(e.icon,{className:"w-4 h-4 flex-shrink-0"}),(0,Oe.jsx)("span",{className:"truncate",children:e.label})]},e.id))}),(0,Oe.jsxs)("div",{className:"p-6",children:["details"===v&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h4",{className:"text-sm font-medium text-brand-gray mb-3 flex items-center space-x-2",children:[(0,Oe.jsx)(vt,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Coment\xe1rios"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:J.map(e=>(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/30 rounded-lg p-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Oe.jsx)("span",{className:"text-xs font-medium text-brand-gray",children:e.user}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:e.timestamp.toLocaleDateString("pt-BR")})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray",children:e.text})]},e.id))}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,Oe.jsx)("input",{type:"text",value:X,onChange:e=>Z(e.target.value),placeholder:"Adicionar coment\xe1rio...",className:"flex-1 p-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue text-sm",onKeyPress:e=>{"Enter"===e.key&&oe()}}),(0,Oe.jsx)("button",{onClick:oe,className:"p-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h4",{className:"text-sm font-medium text-brand-gray mb-3 flex items-center space-x-2",children:[(0,Oe.jsx)(Vn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Anexos"})]}),(0,Oe.jsx)("div",{className:"space-y-2",children:ee.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between bg-brand-light-gray/30 rounded-lg p-2",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(Vn,{className:"w-4 h-4 text-brand-gray/60"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray",children:e.name}),(0,Oe.jsxs)("span",{className:"text-xs text-brand-gray/60",children:["(",e.size,")"]})]}),(0,Oe.jsx)("button",{className:"text-brand-blue hover:text-brand-blue-dark",children:(0,Oe.jsx)(Gn,{className:"w-3 h-3"})})]},e.id))}),(0,Oe.jsx)("button",{className:"w-full mt-3 p-2 border border-dashed border-brand-light-gray rounded-lg text-brand-gray/60 hover:text-brand-gray hover:border-brand-gray transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4 mx-auto"})})]})]}),"subtasks"===v&&(0,Oe.jsx)(es,{subtasks:I,onSubtasksChange:e=>{M(e),(async e=>{try{let r=t.card_id;if(!r){const e=await An.getCardById(t.id.toString());if(!e)return void console.error("Card n\xe3o encontrado no banco de dados");r=e.card_id}for(const t of e)if(t.id&&t.id.startsWith("temp-")){const e={card_id:r,title:t.title||"",completed:t.completed||!1,due_date:t.dueDate||void 0,priority:t.priority||"medium",importance:t.importance||"normal",category:t.category||"Geral",estimated_time:(t.estimatedTime||0).toString(),tags:t.tags||[]};await An.createSubtask(e)}else await An.updateSubtask(parseInt(t.id||"0"),{title:t.title||"",completed:t.completed||!1,due_date:t.dueDate||void 0,priority:t.priority||"medium",importance:t.importance||"normal",category:t.category||"Geral",estimated_time:(t.estimatedTime||0).toString(),tags:t.tags||[]});const a=e.map(e=>e.id),n=await An.getSubtasksForCard(r);for(const e of n)a.includes((e.id||0).toString())||await An.deleteSubtask(e.id||0)}catch(r){console.error("Erro ao salvar subtarefas:",r),l({type:"error",title:"Erro ao salvar",message:"Erro ao salvar subtarefas no banco de dados."})}})(e)},isExpanded:!0}),"history"===v&&(0,Oe.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:L.map(e=>(0,Oe.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-brand-light-gray/30 rounded-lg",children:[(0,Oe.jsx)("div",{className:"w-2 h-2 bg-brand-blue rounded-full mt-2 flex-shrink-0"}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:e.user}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:e.timestamp.toLocaleString("pt-BR")})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70",children:e.action}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:e.details})]})]},e.id))}),"dependencies"===v&&(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("button",{onClick:()=>ae(!0),className:"w-full flex items-center justify-center space-x-2 p-3 border border-dashed border-brand-blue text-brand-blue hover:bg-brand-blue/5 rounded-xl transition-colors",children:[(0,Oe.jsx)(Hn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:"Gerenciar Depend\xeancias"})]}),x&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"text",placeholder:"Adicionar depend\xeancia...",className:"flex-1 p-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue text-sm",onKeyPress:e=>{"Enter"===e.key&&(se(e.target.value),e.target.value="")}}),(0,Oe.jsx)("button",{onClick:()=>{const e=document.querySelector('input[placeholder="Adicionar depend\xeancia..."]');e&&(se(e.value),e.value="")},className:"p-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:O.map(e=>{return(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-brand-light-gray/30 rounded-lg",children:[(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray truncate",children:e.title}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(ie(e.status)),children:e.status}),(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border",style:{backgroundColor:g(e.priority),color:(t=e.priority,t.toLowerCase(),"#FFFFFF")},children:e.priority})]})]}),x&&(0,Oe.jsx)("button",{onClick:()=>{return t=e.id,void R(O.filter(e=>e.id!==t));var t},className:"text-brand-red hover:text-brand-red-dark ml-2",children:(0,Oe.jsx)(Ge,{className:"w-4 h-4"})})]},e.id);var t})})]})]})]})})]})}),(0,Oe.jsx)("div",{className:"p-6 border-t border-brand-light-gray bg-white rounded-b-2xl",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:(0,Oe.jsx)(Kn,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:(0,Oe.jsx)(Gn,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:(0,Oe.jsx)(Qn,{className:"w-4 h-4"})})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("button",{onClick:i,className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 border border-brand-light-gray rounded-xl transition-colors",children:"Cancelar"}),x&&(0,Oe.jsxs)("button",{onClick:()=>{const e=(0,De.A)((0,De.A)({},f),{},{members:P.map(e=>e.name),dependencies:O.map(e=>e.title),subtasks:I,tags:U,git_branch:W,git_commit:V,git_pr:K,goal:C,category:_,importance:T,recurrence:N});s(e),b(!1),l({type:"success",title:"Card atualizado",message:"As altera\xe7\xf5es foram salvas com sucesso!"})},className:"px-6 py-2 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Yn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Salvar"})]})]})]})})]}),re&&(0,Oe.jsx)(ts,{currentCard:t,allCards:a,columns:r,onClose:()=>ae(!1),onSave:e=>{R(e),ae(!1)}})]})},as=Be("FolderPlus",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["line",{x1:"12",x2:"12",y1:"10",y2:"16",key:"3c25pp"}],["line",{x1:"9",x2:"15",y1:"13",y2:"13",key:"10hoct"}]]),ns=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ss=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),os=Be("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),is=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ls=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),cs=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ds=()=>{const{user:e}=Me(),{addToast:t,showPopup:r,showSuccessPopup:a}=Qe(),{getPriorityColor:s,getPriorityBgColor:o,getPriorityTextColor:i,cardSettings:l}=rt(),c=e=>{switch(e.toLowerCase()){case"critical":return"Cr\xedtica";case"high":return"Alta";case"medium":return"Normal";case"low":return"Baixa";default:return e}},[d,u]=(0,n.useState)([]),[h,m]=(0,n.useState)(null),[g,f]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),[b,v]=(0,n.useState)(null),[y,w]=(0,n.useState)(null),[j,N]=(0,n.useState)("kanban"),[k,C]=(0,n.useState)(""),[S,_]=(0,n.useState)("all"),[E,T]=(0,n.useState)("all"),[A,P]=(0,n.useState)(!1),[D,O]=(0,n.useState)(!0),[R,I]=(0,n.useState)(!1),[M,L]=(0,n.useState)(!1),[z,U]=(0,n.useState)(null),[F,B]=(0,n.useState)(!1),[q,W]=(0,n.useState)(!1),[H,V]=(0,n.useState)(""),[G,K]=(0,n.useState)(""),[Q,Y]=(0,n.useState)(null),[J,$]=(0,n.useState)(["A Fazer","Em Progresso","Conclu\xeddo"]),[X,Z]=(0,n.useState)(!1),[ee,te]=(0,n.useState)({title:"",description:"",priority:l.defaultPriority,column_id:1,due_date:""}),[re,ae]=(0,n.useState)(null),[ne,se]=(0,n.useState)(!1),[oe,ie]=(0,n.useState)(!1),[le,ce]=(0,n.useState)(!1),[de,ue]=(0,n.useState)(!1),[he,me]=(0,n.useState)(null),[ge,fe]=(0,n.useState)(!1),[pe,xe]=(0,n.useState)({name:"",description:"",category:"custom",icon:"tarefas",color:"bg-gray-500",columns:["A Fazer","Em Progresso","Conclu\xeddo"]}),[be,ve]=(0,n.useState)(null),[ye,we]=(0,n.useState)(null),[je,Ne]=(0,n.useState)(!1),[ke,Ce]=(0,n.useState)({name:"",description:"",category:"custom",color:"bg-gray-500",fields:{title:"",description:"",priority:l.defaultPriority,status:"A Fazer"}});(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&Ae()},[null===e||void 0===e?void 0:e.id]),(0,n.useEffect)(()=>{d.length>0&&null===z&&(U(d[0].id),m(d[0]),Ie(d[0]))},[d]),(0,n.useEffect)(()=>{h&&null!==e&&void 0!==e&&e.id&&(console.log("Board atual mudou, recarregando dados:",h.name),Ie(h))},[null===h||void 0===h?void 0:h.id,null===e||void 0===e?void 0:e.id]);const[Se,_e]=(0,n.useState)([]),[Ee,Te]=(0,n.useState)([]),Ae=async()=>{await Pe(),await Re()},Pe=async()=>{try{const t=(await An.getBoards(null===e||void 0===e?void 0:e.id)).map(e=>({id:e.id,board_id:e.board_id,name:e.name,description:e.description,created_by:e.owner_id||1,created_at:e.created_at,updated_at:e.updated_at,is_active:!0}));if(u(t),t.length>0)if(h){t.find(e=>e.id===h.id)?(console.log("Recarregando dados do board atual:",h.name),await Ie(h)):(console.log("Board atual n\xe3o existe mais, selecionando primeiro:",t[0].name),m(t[0]),await Ie(t[0]))}else{const e=t[0];console.log("Definindo primeiro board como atual:",e.name),m(e),await Ie(e)}}catch(r){console.error("Erro ao carregar dados do Kanban:",r),t({type:"error",title:"Erro ao carregar dados",message:"N\xe3o foi poss\xedvel carregar os dados do quadro Kanban."})}},Re=async()=>{try{const e=await An.getBoardTemplates();_e(e)}catch(e){console.error("Erro ao carregar templates de quadros:",e)}},Ie=async e=>{try{if(console.log("=== INICIANDO CARREGAMENTO DO BOARD ==="),console.log("Board:",e.name),console.log("Board ID:",e.id),console.log("Board Board ID:",e.board_id),!e.board_id)return void console.error("Board ID n\xe3o encontrado para:",e.name);const t=await An.getListsForBoard(e.board_id);console.log("=== CARREGANDO COLUNAS ==="),console.log("listsData do banco:",t);const r=t.map(t=>({id:t.id,board_id:e.id,name:t.name,order:t.position,color:"#E5E7EB",created_at:t.created_at,updated_at:t.updated_at}));console.log("mappedColumns:",r),f(r);const a=await An.getCardsForBoard(e.board_id);console.log("=== CARREGANDO CARDS ==="),console.log("board.board_id:",e.board_id),console.log("cardsData do banco:",a);const n=e=>{const t=r.find(t=>t.name===e);return(null===t||void 0===t?void 0:t.id)||1},s=await Promise.all(a.map(async t=>{const r=(await An.getSubtasksForCard(t.card_id)).map(e=>({id:e.id.toString(),title:e.title,completed:e.completed,createdAt:new Date(e.created_at),dueDate:e.due_date,priority:e.priority,assignedTo:"Usu\xe1rio",importance:e.importance,category:e.category||"Geral",estimatedTime:parseInt(e.estimated_time||"0"),tags:e.tags||[],recurrence:"none"})),a=n(t.list_name);console.log('Mapeando card "'.concat(t.title,'" da coluna "').concat(t.list_name,'" para column_id: ').concat(a));return{id:t.id,board_id:e.id,column_id:a,title:t.title,description:t.description,priority:t.importance,status:t.status,assigned_to:t.user_id,created_by:t.user_id||1,created_at:t.created_at,updated_at:t.updated_at,due_date:t.due_date||void 0,tags:[],attachments:[],comments:[],dependencies:t.dependencies||[],subtasks:r}})),o=s.filter(t=>t.board_id===e.id);console.log("=== RESUMO DO CARREGAMENTO ==="),console.log("Total de cards mapeados:",s.length),console.log("Total de cards filtrados:",o.length),console.log("Board ID para filtro:",e.id),console.log("Cards filtrados:",o),console.log("Cards antes de setCards:",p),x(o),console.log("=== CARREGAMENTO CONCLU\xcdDO ==="),setTimeout(()=>{console.log("Cards ap\xf3s setCards (timeout):",o)},100)}catch(t){console.error("Erro ao carregar dados do board:",t)}},Le=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},ze=async e=>{try{for(let t=0;t<e.length;t++){const r=e[t];await An.updateBoard(r.id,{position:t+1})}}catch(t){throw console.error("Erro ao salvar ordem dos quadros:",t),t}},Ue=e=>{console.log("getColumnName - columnId:",e),console.log("getColumnName - columns:",g);const t=g.find(t=>t.id===e);return console.log("getColumnName - column encontrada:",t),(null===t||void 0===t?void 0:t.name)||"A Fazer"},Fe=e=>{switch(e){case"todo":default:return"bg-brand-gray-light/10 text-brand-gray";case"progress":return"bg-brand-blue-light/10 text-brand-blue";case"review":return"bg-brand-yellow-light/10 text-brand-yellow";case"done":return"bg-brand-green-light/10 text-brand-green"}},Be=e=>{console.log("getStatusFromColumn - columnId:",e),console.log("getStatusFromColumn - columns:",g);const t=g.find(t=>t.id===e);console.log("getStatusFromColumn - column encontrada:",t);const r=(()=>{switch(null===t||void 0===t?void 0:t.name){case"A Fazer":default:return"todo";case"Em Progresso":case"Em Revis\xe3o":return"progress";case"Conclu\xeddo":return"done"}})();return console.log("getStatusFromColumn - status retornado:",r),r},qe=e=>{if(!e.dependencies||0===e.dependencies.length)return!0;return(t=e.dependencies).length>0&&"string"===typeof t[0]?e.dependencies.every(e=>{const t=p.find(t=>t.title===e);if(!t)return!1;const r=g.find(e=>"Conclu\xeddo"===e.name);return r&&t.column_id===r.id}):!(e=>e.length>0&&"object"===typeof e[0]&&"title"in e[0])(e.dependencies)||e.dependencies.every(e=>{const t=p.find(t=>t.title===e.title);if(!t)return!1;if(e.requiredStatus){const r=g.find(t=>{switch(e.requiredStatus){case"done":return"Conclu\xeddo"===t.name;case"progress":return"Em Progresso"===t.name;case"review":return"Em Revis\xe3o"===t.name;case"todo":return"A Fazer"===t.name;default:return!1}});return r&&t.column_id===r.id}const r=g.find(e=>"Conclu\xeddo"===e.name);return r&&t.column_id===r.id});var t},He=(e,t)=>{const r=g.find(e=>e.id===t);if("Conclu\xeddo"===(null===r||void 0===r?void 0:r.name)&&!qe(e))return{canMove:!1,reason:"Este card possui depend\xeancias n\xe3o conclu\xeddas. Conclua as depend\xeancias primeiro."};const a=g.find(t=>t.id===e.column_id);if("Conclu\xeddo"===(null===a||void 0===a?void 0:a.name)&&"Conclu\xeddo"!==(null===r||void 0===r?void 0:r.name)){const t=(e=>p.filter(t=>{return!(!t.dependencies||0===t.dependencies.length)&&((r=t.dependencies).length>0&&"string"===typeof r[0]?t.dependencies.some(t=>t===e.title):!!(e=>e.length>0&&"object"===typeof e[0]&&"title"in e[0])(t.dependencies)&&t.dependencies.some(t=>t.title===e.title));var r}))(e);if(t.length>0)return{canMove:!1,reason:"Este card n\xe3o pode ser movido pois ".concat(t.length," card(s) dependem dele.")}}return{canMove:!0}},Ve=e=>{switch(e){case"project":return"Projeto";case"task":return"Tarefa";case"workflow":return"Fluxo de Trabalho";case"custom":return"Personalizado";case"bug":return"Bug";case"feature":return"Funcionalidade";case"development":return"Desenvolvimento";case"design":return"Design";case"maintenance":return"Manuten\xe7\xe3o";case"marketing":return"Marketing";case"product":return"Produto";case"hr":return"RH";case"support":return"Suporte";case"tasks":return"Tarefas";case"sales":return"Vendas";default:return e}},Ke=e=>{switch(e){case"project":case"development":return"bg-blue-100 text-blue-700";case"task":case"marketing":return"bg-green-100 text-green-700";case"workflow":case"design":return"bg-purple-100 text-purple-700";case"custom":case"tasks":default:return"bg-gray-100 text-gray-700";case"bug":return"bg-red-100 text-red-700";case"feature":case"support":return"bg-yellow-100 text-yellow-700";case"maintenance":return"bg-orange-100 text-orange-700";case"product":return"bg-indigo-100 text-indigo-700";case"hr":return"bg-pink-100 text-pink-700";case"sales":return"bg-teal-100 text-teal-700"}},Ye=(e,t)=>{const r=[...J],[a]=r.splice(e,1);r.splice(t,0,a),$(r)},Je=e=>{pe.columns.length>2&&xe(t=>(0,De.A)((0,De.A)({},t),{},{columns:t.columns.filter((t,r)=>r!==e)}))},$e=(e,t)=>{xe(r=>(0,De.A)((0,De.A)({},r),{},{columns:r.columns.map((r,a)=>a===e?t:r)}))},Ze=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},et=()=>{ve(null)},tt=()=>{if(he){if("board"===he.type){const e=Se.findIndex(e=>e.id===he.id);-1!==e&&(Se.splice(e,1),_e([...Se]))}else{const e=Ee.findIndex(e=>e.id===he.id);-1!==e&&(Ee.splice(e,1),Te([...Ee]))}ce(!1),ue(!1),me(null)}},at=()=>{ce(!1),ue(!1),me(null)},nt=async e=>{try{if(!p.find(t=>t.id===e))return void t({type:"error",title:"Erro",message:"Card n\xe3o encontrado."});await An.deleteCardById(e)?(x(p.filter(t=>t.id!==e)),w(null),t({type:"success",title:"Card deletado",message:"Card deletado com sucesso!"})):t({type:"error",title:"Erro ao deletar",message:"N\xe3o foi poss\xedvel deletar o card."})}catch(r){console.error("Erro ao deletar card:",r),t({type:"error",title:"Erro ao deletar",message:"Erro inesperado ao deletar o card."})}},st=async e=>{try{console.log("Iniciando exclus\xe3o do board:",e);if(!await An.deleteBoard(e))throw new Error("Falha ao excluir o quadro do banco de dados");console.log("Board exclu\xeddo com sucesso do banco de dados");const r=d.filter(t=>t.id!==e);u(r),z===e&&(r.length>0?(U(r[0].id),m(r[0]),await Ie(r[0])):(U(null),m(null),f([]),x([]))),t({type:"success",title:"Quadro exclu\xeddo",message:"O quadro foi removido permanentemente com sucesso!"})}catch(r){console.error("Erro ao excluir quadro:",r),t({type:"error",title:"Erro",message:"N\xe3o foi poss\xedvel excluir o quadro. Tente novamente."})}},ot=p.filter(e=>{const t=e.title.toLowerCase().includes(k.toLowerCase())||(e.description||"").toLowerCase().includes(k.toLowerCase()),r="all"===S||e.priority===S,a="all"===E||e.status===E,n=D||"done"!==e.status;return t&&r&&a&&n}),it=e=>{let{card:t}=e;const{hasPermission:r}=Xe(),a=t.due_date&&new Date(t.due_date)<new Date,n=t.subtasks||[];return(0,Oe.jsxs)("div",{draggable:r("card:edit"),onDragStart:e=>((e,t)=>{v(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id.toString())})(e,t),onClick:()=>{w(t),fe(!0)},className:"card-hover bg-white dark:bg-gray-800 border-2 rounded-xl p-3 mb-2 cursor-pointer hover:shadow-lg transition-all duration-200 shadow-sm ".concat(t.dependencies&&t.dependencies.length>0&&!qe(t)?"border-orange-300 bg-orange-50/30 dark:bg-orange-900/20":""),style:{borderColor:t.dependencies&&t.dependencies.length>0&&!qe(t)?void 0:s(t.priority)},title:t.dependencies&&t.dependencies.length>0&&!qe(t)?'Este card possui depend\xeancias n\xe3o conclu\xeddas e n\xe3o pode ser movido para "Conclu\xeddo"':void 0,children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray dark:text-gray-50 text-sm line-clamp-2 flex-1",children:t.title}),(0,Oe.jsx)("div",{className:"flex items-center space-x-1 ml-2",children:(0,Oe.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold",style:{backgroundColor:s(t.priority),color:i(t.priority)},children:c(t.priority)})})]}),t.description&&(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/70 dark:text-gray-300 mb-2 line-clamp-2",children:t.description}),n.length>0&&(0,Oe.jsxs)("div",{className:"mb-2",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-xs text-brand-gray/60 mb-1",children:[(0,Oe.jsx)("span",{children:"Subtarefas"}),(0,Oe.jsxs)("span",{children:[n.filter(e=>e.completed).length,"/",n.length]})]}),(0,Oe.jsx)("div",{className:"w-full h-1.5 bg-brand-light-gray rounded-full overflow-hidden",children:(0,Oe.jsx)("div",{className:"h-full bg-gradient-to-r from-brand-green to-brand-blue transition-all duration-300",style:{width:"".concat(n.length>0?n.filter(e=>e.completed).length/n.length*100:0,"%")}})})]}),t.tags&&t.tags.length>0&&(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[t.tags.slice(0,2).map((e,t)=>(0,Oe.jsx)("span",{className:"px-3 py-1.5 bg-brand-light-gray/20 text-brand-gray text-xs rounded-full font-medium border border-brand-light-gray",children:e},t)),t.tags.length>2&&(0,Oe.jsxs)("span",{className:"px-3 py-1.5 bg-brand-light-gray/20 text-brand-gray text-xs rounded-full font-medium border border-brand-light-gray",children:["+",t.tags.length-2]})]}),t.dependencies&&t.dependencies.length>0&&(0,Oe.jsxs)("div",{className:"mb-2 p-2 bg-brand-light-gray/20 rounded-lg",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 text-brand-gray/70",children:[(0,Oe.jsx)(Hn,{className:"w-3 h-3"}),(0,Oe.jsxs)("span",{children:["Depend\xeancias (",t.dependencies.length,")"]})]}),qe(t)?(0,Oe.jsx)("span",{className:"text-green-600 font-medium",children:"\u2713 Pronto"}):(0,Oe.jsx)("span",{className:"text-orange-600 font-medium",children:"\u23f3 Aguardando"})]}),!qe(t)&&(0,Oe.jsxs)("div",{className:"mt-1 text-xs text-brand-gray/60",children:[t.dependencies.length," depend\xeancia(s) n\xe3o conclu\xedda(s)"]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[t.due_date&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 text-xs ".concat(a?"text-brand-red":"text-brand-gray/70"),children:[(0,Oe.jsx)(Xn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:new Date(t.due_date).toLocaleDateString("pt-BR")}),a&&(0,Oe.jsx)(We,{className:"w-3 h-3"})]}),t.attachments&&t.attachments.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-brand-gray/70",children:[(0,Oe.jsx)(Vn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:t.attachments.length})]}),t.comments&&t.comments.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-brand-gray/70",children:[(0,Oe.jsx)(vt,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:t.comments.length})]}),t.members&&t.members.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-brand-gray/70",children:[(0,Oe.jsx)(wt,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:t.members.length})]})]}),(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-secondary rounded-full flex items-center justify-center shadow-sm",children:(0,Oe.jsx)("span",{className:"text-white text-xs font-semibold",children:t.assigned_to?"U":"?"})})]})]})},lt=e=>{let{column:r}=e;const a=ot.filter(e=>e.column_id===r.id);console.log("Colunas filtradas:",g.filter(e=>e.board_id===(null===h||void 0===h?void 0:h.id))),console.log("ColumnComponent - column:",r),console.log("ColumnComponent - filteredCards:",ot),console.log("ColumnComponent - filteredColumnCards:",a);const n=!b||He(b,r.id).canMove;return(0,Oe.jsxs)("div",{className:"rounded-lg p-3 min-h-[400px] flex flex-col transition-colors duration-200 ".concat(b&&!n?"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-400":"bg-brand-light-gray/30 dark:bg-gray-800/50"),onDragOver:e=>((e,t)=>{if(e.preventDefault(),b&&t){const r=He(b,t);e.dataTransfer.dropEffect=r.canMove?"move":"none"}else e.dataTransfer.dropEffect="move"})(e,r.id),onDrop:e=>(async(e,r)=>{if(e.preventDefault(),b&&b.column_id!==r){const e=He(b,r);if(!e.canMove)return t({type:"error",title:"Movimento bloqueado",message:e.reason||"Este card n\xe3o pode ser movido para esta coluna."}),void v(null);const n=g.find(e=>e.id===r),s=Be(r);if(!n)return t({type:"error",title:"Erro",message:"Coluna de destino n\xe3o encontrada."}),void v(null);try{if(await An.updateCardById(b.id,{list_name:n.name,status:s})){const e=p.map(e=>e.id===b.id?(0,De.A)((0,De.A)({},e),{},{column_id:r,status:s}):e);x(e),t({type:"success",title:"Card movido",message:'Card "'.concat(b.title,'" movido com sucesso!')}),console.log("Card ".concat(b.id," movido para coluna ").concat(r," (").concat(n.name,")"))}else t({type:"error",title:"Erro ao mover card",message:"N\xe3o foi poss\xedvel salvar a mudan\xe7a no banco de dados."})}catch(a){console.error("Erro ao mover card:",a),t({type:"error",title:"Erro ao mover card",message:"Ocorreu um erro inesperado ao mover o card."})}}v(null)})(e,r.id),children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),(0,Oe.jsx)("h3",{className:"font-semibold ".concat(b&&!n?"text-red-600 dark:text-red-400":"text-brand-gray dark:text-gray-50"),children:r.name}),(0,Oe.jsx)("span",{className:"bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-50 text-xs px-3 py-1.5 rounded-full font-medium shadow-sm",children:a.length}),b&&!n&&(0,Oe.jsx)("span",{className:"text-red-500 dark:text-red-400 text-xs font-medium",children:"\u26a0\ufe0f Bloqueado"})]}),(0,Oe.jsx)("button",{onClick:()=>{return e=r.id,te({title:"",description:"",priority:"medium",column_id:e,due_date:""}),void L(!0);var e},className:"p-1 text-brand-gray/50 dark:text-gray-300 hover:text-brand-gray dark:hover:text-gray-50 hover:bg-white dark:hover:bg-gray-700 rounded-xl transition-colors",title:"Adicionar cart\xe3o",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("div",{className:"flex-1 space-y-2",children:a.map(e=>(0,Oe.jsx)(it,{card:e},e.id))})]})};return(0,Oe.jsxs)("div",{className:"min-h-screen bg-brand-light-gray/30 dark:bg-gray-900",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-brand-light-gray dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"p-6 pb-4",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray dark:text-gray-50",children:"Quadros Kanban"}),(0,Oe.jsx)("p",{className:"text-brand-gray/70 dark:text-gray-300",children:"Gerencie suas tarefas e projetos"})]}),(0,Oe.jsxs)("div",{className:"px-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsxs)("div",{className:"w-3 h-3 flex flex-col justify-center items-center space-y-0.5",children:[(0,Oe.jsx)("div",{className:"w-1 h-1 bg-brand-gray/40 dark:bg-gray-400/40 rounded-full"}),(0,Oe.jsx)("div",{className:"w-1 h-1 bg-brand-gray/40 dark:bg-gray-400/40 rounded-full"}),(0,Oe.jsx)("div",{className:"w-1 h-1 bg-brand-gray/40 dark:bg-gray-400/40 rounded-full"})]}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60 dark:text-gray-400",children:"Arraste as abas para reordenar"})]})}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>{console.log("=== DEBUG: FOR\xc7ANDO RECARREGAMENTO DO BOARD ==="),console.log("currentBoard:",h),console.log("cards atuais:",p),h&&Ie(h)},className:"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600",title:"For\xe7ar recarregamento do board (debug)",children:"\ud83d\udd04 Board"}),(0,Oe.jsx)("button",{onClick:()=>{console.log("=== DEBUG: FOR\xc7ANDO RECARREGAMENTO COMPLETO ==="),console.log("Recarregando todos os dados..."),Ae()},className:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",title:"For\xe7ar recarregamento completo (debug)",children:"\ud83d\udd04 All"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 border-b border-brand-light-gray",children:[d.map((e,a)=>(0,Oe.jsx)("div",{draggable:!je,onDragStart:e=>((e,t)=>{we(t),Ne(!0),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.toString())})(e,a),onDragOver:Le,onDrop:e=>(async(e,r)=>{if(e.preventDefault(),null===ye||ye===r)return we(null),void Ne(!1);try{const e=[...d],a=e[ye];e.splice(ye,1),e.splice(r,0,a),u(e),await ze(e),t({type:"success",title:"Ordem atualizada",message:"A ordem dos quadros foi atualizada com sucesso!"})}catch(a){console.error("Erro ao reordenar quadros:",a),t({type:"error",title:"Erro ao reordenar",message:"N\xe3o foi poss\xedvel atualizar a ordem dos quadros."})}finally{we(null),Ne(!1)}})(e,a),className:"flex items-center ".concat(ye===a?"opacity-50 scale-95":""),children:(0,Oe.jsxs)("button",{onClick:async()=>{console.log("=== CLICANDO NA ABA DO BOARD ==="),console.log("Board selecionado:",e.name),U(e.id),m(e),await Ie(e)},className:"flex items-center space-x-2 px-4 py-3 rounded-t-lg transition-all duration-200 relative group cursor-move ".concat(z===e.id?"bg-white text-brand-gray border-b-2 border-brand-red font-medium":"text-brand-gray/70 hover:text-brand-gray hover:bg-brand-light-gray/30"," ").concat(je?"shadow-lg":""," ").concat(ye===a?"ring-2 ring-brand-red/50 bg-brand-red/5":""," ").concat(null!==ye&&ye!==a?"border-l-2 border-brand-red/30":""),style:{transform:ye===a?"rotate(2deg) scale(1.05)":"none"},title:"Clique para selecionar, arraste para reordenar",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 transition-opacity cursor-move ".concat(je?"opacity-100":"opacity-0 group-hover:opacity-100"),children:(0,Oe.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center space-y-0.5",children:[(0,Oe.jsx)("div",{className:"w-1 h-1 bg-current rounded-full"}),(0,Oe.jsx)("div",{className:"w-1 h-1 bg-current rounded-full"}),(0,Oe.jsx)("div",{className:"w-1 h-1 bg-current rounded-full"})]})}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,Oe.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=d.find(t=>t.id===e);t&&r({title:"Excluir Quadro",message:'Tem certeza que deseja excluir o quadro "'.concat(t.name,'"? Todos os cards e listas associados tamb\xe9m ser\xe3o removidos permanentemente.'),confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>st(e),onCancel:()=>{}})})(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-brand-red hover:bg-brand-red/10 rounded transition-all duration-200 ".concat(z===e.id?"opacity-100":""),title:"Excluir quadro",children:(0,Oe.jsx)(Fn,{className:"w-3 h-3"})})]})},e.id)),(0,Oe.jsx)("button",{onClick:()=>I(!0),className:"flex items-center space-x-2 px-4 py-3 text-brand-gray/70 hover:text-brand-gray hover:bg-brand-light-gray/30 rounded-t-lg transition-all duration-200",title:"Criar novo quadro",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]})]}),(0,Oe.jsx)("div",{className:"p-6 pt-4 flex items-center justify-between",children:(0,Oe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-brand-gray",children:(null===h||void 0===h?void 0:h.name)||"Selecione um Quadro"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70",children:(null===h||void 0===h?void 0:h.description)||"Escolha um quadro para come\xe7ar"})]})})}),(0,Oe.jsx)("div",{className:"px-6 pb-4",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg p-4 border border-brand-light-gray dark:border-gray-700 shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center space-x-2 px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",title:"Adicionar novo card",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:"Novo Card"})]}),(0,Oe.jsx)("button",{onClick:()=>B(!0),className:"p-2 text-brand-gray/60 dark:text-gray-400 hover:bg-brand-light-gray dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Modelos de Quadros",children:(0,Oe.jsx)(as,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>W(!0),className:"p-2 text-brand-gray/60 dark:text-gray-400 hover:bg-brand-light-gray dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Modelos de Cards",children:(0,Oe.jsx)(Nt,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("div",{className:"w-px h-6 bg-brand-light-gray dark:bg-gray-600"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-brand-gray/50 dark:text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar cart\xf5es...",value:k,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 border border-brand-light-gray dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue focus:border-transparent w-64 bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-100"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(Ln,{}),(0,Oe.jsx)("button",{onClick:()=>P(!A),className:"p-2 rounded-lg transition-colors ".concat(A?"bg-brand-blue text-white":"bg-brand-light-gray dark:bg-gray-700 text-brand-gray dark:text-gray-300 hover:bg-brand-gray dark:hover:bg-gray-600 hover:text-white"),title:"Filtros",children:(0,Oe.jsx)(ss,{className:"w-4 h-4"})}),(0,Oe.jsxs)("div",{className:"flex bg-brand-light-gray dark:bg-gray-700 rounded-lg p-1",children:[(0,Oe.jsx)("button",{onClick:()=>N("kanban"),className:"p-2 rounded transition-colors ".concat("kanban"===j?"bg-white dark:bg-gray-600 text-brand-gray dark:text-gray-100 shadow-sm":"text-brand-gray/70 dark:text-gray-400 hover:text-brand-gray dark:hover:text-gray-100"),title:"Visualiza\xe7\xe3o Kanban",children:(0,Oe.jsx)(os,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>N("list"),className:"p-2 rounded transition-colors ".concat("list"===j?"bg-white dark:bg-gray-600 text-brand-gray dark:text-gray-100 shadow-sm":"text-brand-gray/70 dark:text-gray-400 hover:text-brand-gray dark:hover:text-gray-100"),title:"Visualiza\xe7\xe3o Lista",children:(0,Oe.jsx)(is,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("button",{className:"p-2 bg-brand-light-gray dark:bg-gray-700 text-brand-gray dark:text-gray-300 rounded-lg hover:bg-brand-gray dark:hover:bg-gray-600 hover:text-white transition-colors",title:"Configura\xe7\xf5es",children:(0,Oe.jsx)(jt,{className:"w-4 h-4"})})]})]})}),A&&(0,Oe.jsx)("div",{className:"px-6 pb-4",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-brand-light-gray dark:border-gray-700 shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsx)("h3",{className:"text-sm font-semibold text-brand-gray dark:text-gray-100",children:"Filtros Ativos"}),(0,Oe.jsx)("button",{onClick:()=>P(!1),className:"text-brand-gray/60 dark:text-gray-400 hover:text-brand-gray dark:hover:text-gray-100",children:(0,Oe.jsx)(Ge,{className:"w-4 h-4"})})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray dark:text-gray-100 mb-1",children:"Prioridade"}),(0,Oe.jsxs)("select",{value:S,onChange:e=>_(e.target.value),className:"px-3 py-2 border border-brand-light-gray dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-100",children:[(0,Oe.jsx)("option",{value:"all",children:"Todas"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"medium",children:"M\xe9dia"}),(0,Oe.jsx)("option",{value:"low",children:"Baixa"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray dark:text-gray-100 mb-1",children:"Status"}),(0,Oe.jsxs)("select",{value:E,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-brand-light-gray dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-100",children:[(0,Oe.jsx)("option",{value:"all",children:"Todos"}),(0,Oe.jsx)("option",{value:"todo",children:"A Fazer"}),(0,Oe.jsx)("option",{value:"progress",children:"Em Progresso"}),(0,Oe.jsx)("option",{value:"review",children:"Em Revis\xe3o"}),(0,Oe.jsx)("option",{value:"done",children:"Conclu\xeddo"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"checkbox",id:"showCompleted",checked:D,onChange:e=>O(e.target.checked),className:"rounded border-brand-light-gray dark:border-gray-600 bg-white dark:bg-gray-700"}),(0,Oe.jsx)("label",{htmlFor:"showCompleted",className:"text-sm text-brand-gray dark:text-gray-100",children:"Mostrar conclu\xeddos"})]}),(0,Oe.jsx)("button",{onClick:()=>{_("all"),T("all"),O(!1),C("")},className:"px-3 py-2 text-sm text-brand-gray/70 dark:text-gray-400 hover:text-brand-gray dark:hover:text-gray-100 border border-brand-light-gray dark:border-gray-600 rounded-lg hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30 transition-colors",children:"Limpar Filtros"})]})]})})]}),(0,Oe.jsx)("div",{className:"p-6",children:0===d.length?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-brand-light-gray dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(as,{className:"w-8 h-8 text-brand-gray/50 dark:text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray dark:text-gray-100 mb-2",children:"Nenhum quadro criado"}),(0,Oe.jsx)("p",{className:"text-brand-gray/70 dark:text-gray-400 mb-6",children:"Crie seu primeiro quadro para come\xe7ar a organizar suas tarefas"}),(0,Oe.jsxs)("button",{onClick:()=>I(!0),className:"px-6 py-3 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors flex items-center space-x-2 mx-auto",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Criar Primeiro Quadro"})]})]}):"kanban"===j?(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:g.filter(e=>e.board_id===(null===h||void 0===h?void 0:h.id)).map(e=>(0,Oe.jsx)(lt,{column:e},e.id))}):(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-4 border-b border-brand-light-gray dark:border-gray-700",children:(0,Oe.jsx)("h3",{className:"font-semibold text-brand-gray dark:text-gray-100",children:"Todos os Cart\xf5es"})}),(0,Oe.jsx)("div",{className:"divide-y divide-brand-light-gray dark:divide-gray-700",children:ot.map(e=>(0,Oe.jsx)("div",{className:"p-4 hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30 transition-colors border-l-4",style:{borderLeftColor:s(e.priority)},children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(Fe(e.status)),children:e.status.toUpperCase()}),(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray dark:text-gray-100",children:e.title}),(0,Oe.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold",style:{backgroundColor:s(e.priority),color:i(e.priority)},children:c(e.priority)})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[e.due_date&&(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/70 dark:text-gray-400",children:new Date(e.due_date).toLocaleDateString("pt-BR")}),(0,Oe.jsx)("button",{onClick:()=>w(e),className:"p-1 text-brand-gray/50 dark:text-gray-400 hover:text-brand-gray dark:hover:text-gray-100",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})})]})]})},e.id))})]})}),R&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-2xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Novo Quadro"}),(0,Oe.jsx)("button",{onClick:()=>I(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome do Quadro"}),(0,Oe.jsx)("input",{type:"text",value:H,onChange:e=>V(e.target.value),placeholder:"Digite o nome do quadro",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o (opcional)"}),(0,Oe.jsx)("textarea",{value:G,onChange:e=>K(e.target.value),placeholder:"Digite uma descri\xe7\xe3o para o quadro",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:"Configura\xe7\xe3o das Colunas"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>{Z(!X),Y(null)},className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat(X?"bg-brand-blue text-white":"bg-brand-light-gray text-brand-gray hover:bg-brand-gray hover:text-white"),children:"Manual"}),(0,Oe.jsx)("button",{onClick:()=>{Z(!1),Y(null)},className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat(X||Q?"bg-brand-light-gray text-brand-gray hover:bg-brand-gray hover:text-white":"bg-brand-blue text-white"),children:"Padr\xe3o"})]})]}),Q&&(0,Oe.jsxs)("div",{className:"p-3 bg-brand-light-gray/30 rounded-xl border border-brand-light-gray",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:"Template Selecionado:"}),(0,Oe.jsx)("button",{onClick:()=>{Y(null),V(""),K(""),Z(!1),$(["A Fazer","Em Progresso","Conclu\xeddo"])},className:"text-xs text-brand-red hover:underline",children:"Remover"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-6 h-6 ".concat(Q.color," rounded flex items-center justify-center text-white text-xs overflow-hidden"),children:!Q.icon||Q.icon.startsWith("\ud83d\udcdd")||Q.icon.startsWith("\ud83d\udc1b")||Q.icon.startsWith("\u2728")?(0,Oe.jsx)("span",{children:Q.icon}):(0,Oe.jsx)("img",{src:"/img/icons_template/".concat(Q.icon,".png"),alt:Q.icon,className:"w-4 h-4 object-contain",onError:e=>{console.error("Erro ao carregar \xedcone: /img/icons_template/".concat(Q.icon,".png")),e.currentTarget.style.display="none"}})}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray",children:Q.name})]}),(0,Oe.jsxs)("div",{className:"mt-2",children:[(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/70 mb-2",children:"Listas do quadro:"}),(0,Oe.jsx)("div",{className:"space-y-1",children:Q.columns.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-2 h-2 bg-brand-blue rounded-full"}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray",children:e})]},t))})]})]}),X&&(0,Oe.jsxs)("div",{className:"p-3 bg-brand-light-gray/30 rounded-xl border border-brand-light-gray",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:"Colunas Personalizadas"}),(0,Oe.jsx)("button",{onClick:()=>{$([...J,"Nova Coluna ".concat(J.length+1)])},className:"p-1 text-brand-blue hover:bg-brand-blue/10 rounded transition-colors",title:"Adicionar coluna",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("div",{className:"space-y-2",children:J.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 group",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)("button",{onClick:()=>Ye(t,Math.max(0,t-1)),disabled:0===t,className:"p-1 text-brand-gray/50 hover:text-brand-gray disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover para cima",children:(0,Oe.jsx)(ls,{className:"w-3 h-3"})}),(0,Oe.jsx)("button",{onClick:()=>Ye(t,Math.min(J.length-1,t+1)),disabled:t===J.length-1,className:"p-1 text-brand-gray/50 hover:text-brand-gray disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover para baixo",children:(0,Oe.jsx)(Jn,{className:"w-3 h-3"})})]}),(0,Oe.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const r=[...J];r[e]=t,$(r)})(t,e.target.value),className:"flex-1 p-2 text-sm border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Nome da coluna"}),(0,Oe.jsx)("button",{onClick:()=>(e=>{J.length>1&&$(J.filter((t,r)=>r!==e))})(t),disabled:J.length<=1,className:"p-1 text-brand-red/50 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-30 disabled:cursor-not-allowed",title:"Remover coluna",children:(0,Oe.jsx)(Fn,{className:"w-3 h-3"})})]},t))})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>I(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:async()=>{if(H.trim())if(d.some(e=>e.name.toLowerCase()===H.toLowerCase()))alert("J\xe1 existe um quadro com este nome.");else{try{const r={board_id:"board-".concat(Date.now()),name:H,description:G,owner_id:(null===e||void 0===e?void 0:e.id)||1,color:"#3B82F6"},a=await An.createBoard(r);if(a){const e={id:a.id,board_id:a.board_id,name:a.name,description:a.description,created_by:a.owner_id||1,created_at:a.created_at,updated_at:a.updated_at,is_active:!0};console.log("Template selecionado:",Q);const r=Q?Q.columns.map((e,t)=>({name:e,position:t+1})):J.map((e,t)=>({name:e,position:t+1}));console.log("Colunas a serem criadas:",r),console.log("Criando colunas no banco de dados...");const n=Date.now();for(const t of r){console.log("Criando coluna:",t);const e=await An.createList({list_id:"list-".concat(n,"-").concat(t.position),board_id:a.board_id,name:t.name,position:t.position});console.log("Coluna criada:",e)}console.log("Todas as colunas foram criadas"),u([...d,e]),m(e),await Ie(e),t({type:"success",title:"Quadro criado",message:"Quadro criado com sucesso!"})}}catch(r){console.error("Erro ao criar quadro:",r),t({type:"error",title:"Erro ao criar quadro",message:"N\xe3o foi poss\xedvel criar o quadro."})}I(!1),V(""),K(""),Y(null)}else alert("Por favor, insira um nome para o quadro.")},className:"btn-primary",children:"Criar Quadro"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:"Modelos Dispon\xedveis"}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:"Clique para aplicar"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Se.map(e=>(0,Oe.jsxs)("div",{onClick:()=>(e=>{console.log("Aplicando template:",e),console.log("Colunas do template:",e.columns),Y(e),V(e.name),K(e.description),e.columns&&e.columns.length>0&&($(e.columns),Z(!0))})(e),className:"p-3 border rounded-xl cursor-pointer transition-all ".concat((null===Q||void 0===Q?void 0:Q.id)===e.id?"border-brand-red bg-brand-red/5":"border-brand-light-gray hover:border-brand-red/30 hover:bg-brand-light-gray/30"),children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-sm overflow-hidden"),children:!e.icon||e.icon.startsWith("\ud83d\udcdd")||e.icon.startsWith("\ud83d\udc1b")||e.icon.startsWith("\u2728")?(0,Oe.jsx)("span",{children:e.icon}):(0,Oe.jsx)("img",{src:"/img/icons_template/".concat(e.icon,".png"),alt:e.icon,className:"w-5 h-5 object-contain",onError:t=>{console.error("Erro ao carregar \xedcone: /img/icons_template/".concat(e.icon,".png")),t.currentTarget.style.display="none"}})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray",children:e.name}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:e.description})]}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(Ke(e.category)),children:Ve(e.category)})]}),(0,Oe.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.columns.slice(0,3).map((e,t)=>(0,Oe.jsx)("span",{className:"px-2 py-1 bg-brand-light-gray/50 rounded text-xs text-brand-gray/70",children:e},t)),e.columns.length>3&&(0,Oe.jsxs)("span",{className:"px-2 py-1 bg-brand-light-gray/50 rounded text-xs text-brand-gray/70",children:["+",e.columns.length-3," mais"]})]})]},e.id))})]})]})]})})}),M&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-2xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Novo Cart\xe3o"}),(0,Oe.jsx)("button",{onClick:()=>L(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo"}),(0,Oe.jsx)("input",{type:"text",value:ee.title,onChange:e=>te((0,De.A)((0,De.A)({},ee),{},{title:e.target.value})),placeholder:"Digite o t\xedtulo do cart\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o (opcional)"}),(0,Oe.jsx)("textarea",{value:ee.description,onChange:e=>te((0,De.A)((0,De.A)({},ee),{},{description:e.target.value})),placeholder:"Digite uma descri\xe7\xe3o para o cart\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prioridade"}),(0,Oe.jsxs)("select",{value:ee.priority,onChange:e=>te((0,De.A)((0,De.A)({},ee),{},{priority:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"medium",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Data de Vencimento"}),(0,Oe.jsx)("input",{type:"date",value:ee.due_date,onChange:e=>te((0,De.A)((0,De.A)({},ee),{},{due_date:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]}),re&&(0,Oe.jsxs)("div",{className:"p-3 bg-brand-light-gray/30 rounded-xl border border-brand-light-gray",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:"Template Selecionado:"}),(0,Oe.jsx)("button",{onClick:()=>{ae(null),te({title:"",description:"",priority:l.defaultPriority,column_id:ee.column_id,due_date:ee.due_date})},className:"text-xs text-brand-red hover:underline",children:"Remover"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-6 h-6 ".concat(re.color," rounded flex items-center justify-center text-white text-xs overflow-hidden"),children:"bug"===re.category?(0,Oe.jsx)("span",{children:"\ud83d\udc1b"}):"feature"===re.category?(0,Oe.jsx)("span",{children:"\u2728"}):(0,Oe.jsx)("img",{src:"/img/icons_template/tarefas.png",alt:"Tarefa",className:"w-4 h-4 object-contain"})}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray",children:re.name})]}),(0,Oe.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("critical"===re.fields.priority?"bg-red-600 text-white":"high"===re.fields.priority?"bg-red-100 text-red-700":"medium"===re.fields.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"critical"===re.fields.priority?"Cr\xedtica":"high"===re.fields.priority?"Alta":"medium"===re.fields.priority?"Normal":"Baixa"}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/70",children:re.fields.status})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>L(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:async()=>{if(console.log("=== INICIANDO CRIA\xc7\xc3O DE CARD ==="),console.log("newCardData:",ee),console.log("currentBoard:",h),ee.title.trim())if(h){try{const r={card_id:"card-".concat(Date.now()),board_id:h.board_id,list_name:Ue(ee.column_id),title:ee.title,description:ee.description,status:Be(ee.column_id),importance:ee.priority,due_date:ee.due_date||void 0,subject:"-",goal:"-",members:[],creation_date:(new Date).toISOString(),is_archived:!1,git_branch:"",git_commit:"",history:[],dependencies:[],recurrence:"Nenhuma",user_id:(null===e||void 0===e?void 0:e.id)||1};console.log("cardData a ser enviado:",r),console.log("getColumnName(newCardData.column_id):",Ue(ee.column_id)),console.log("getStatusFromColumn(newCardData.column_id):",Be(ee.column_id));const a=await An.createCard(r);if(console.log("createdCard retornado:",a),a){console.log("Card criado com sucesso no banco");const r={id:a.id,board_id:1,column_id:ee.column_id,title:a.title,description:a.description,priority:a.importance,status:a.status,created_by:(null===e||void 0===e?void 0:e.id)||1,created_at:a.created_at,updated_at:a.updated_at,due_date:a.due_date,tags:[],attachments:[],comments:[]};console.log("newCard a ser adicionado:",r),console.log("cards atuais:",p),h&&await Ie(h),t({type:"success",title:"Card criado",message:"Card criado com sucesso!"})}else console.log("ERRO: createdCard \xe9 null/undefined")}catch(r){console.error("Erro ao criar card:",r),console.log("Detalhes do erro:",{message:r instanceof Error?r.message:"Erro desconhecido",code:null===r||void 0===r?void 0:r.code,details:null===r||void 0===r?void 0:r.details}),t({type:"error",title:"Erro ao criar card",message:"N\xe3o foi poss\xedvel criar o card."})}L(!1),te({title:"",description:"",priority:"medium",column_id:1,due_date:""}),ae(null)}else t({type:"error",title:"Erro",message:"Nenhum quadro selecionado."});else alert("Por favor, insira um t\xedtulo para o cart\xe3o.")},className:"btn-primary",children:"Criar Cart\xe3o"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:"Modelos Dispon\xedveis"}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:"Clique para aplicar"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Ee.map(e=>(0,Oe.jsxs)("div",{onClick:()=>(e=>{ae(e),te({title:e.fields.title,description:e.fields.description,priority:e.fields.priority,column_id:ee.column_id,due_date:ee.due_date})})(e),className:"p-3 border rounded-xl cursor-pointer transition-all ".concat((null===re||void 0===re?void 0:re.id)===e.id?"border-brand-red bg-brand-red/5":"border-brand-light-gray hover:border-brand-red/30 hover:bg-brand-light-gray/30"),children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-sm overflow-hidden"),children:"bug"===e.category?(0,Oe.jsx)("span",{children:"\ud83d\udc1b"}):"feature"===e.category?(0,Oe.jsx)("span",{children:"\u2728"}):(0,Oe.jsx)("img",{src:"/img/icons_template/tarefas.png",alt:"Tarefa",className:"w-5 h-5 object-contain"})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray",children:e.name}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:e.description})]}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(Ke(e.category)),children:Ve(e.category)})]}),(0,Oe.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("critical"===e.fields.priority?"bg-red-600 text-white":"high"===e.fields.priority?"bg-red-100 text-red-700":"medium"===e.fields.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"critical"===e.fields.priority?"Cr\xedtica":"high"===e.fields.priority?"Alta":"medium"===e.fields.priority?"Normal":"Baixa"}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/70",children:e.fields.status})]})]},e.id))})]})]})]})})}),ge&&y&&(0,Oe.jsx)(rs,{card:y,columns:g,allCards:p,onSave:e=>{x(p.map(t=>t.id===e.id?e:t)),fe(!1),w(null)},onDelete:e=>{(e=>{const t=p.find(t=>t.id===e);t&&r({title:"Excluir Card",message:'Tem certeza que deseja excluir o card "'.concat(t.title,'"?'),confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>nt(e),onCancel:()=>{}})})(e),fe(!1),w(null)},onClose:()=>{fe(!1),w(null)}}),F&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-4xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Modelos de Quadros"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mt-1",children:"Escolha um modelo para criar um novo quadro"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>se(!0),className:"px-4 py-2 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors text-sm",children:"Criar Template"}),(0,Oe.jsx)("button",{onClick:()=>B(!1),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})})]})]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:Se.map(t=>(0,Oe.jsxs)("div",{className:"p-4 border border-brand-light-gray rounded-xl hover:border-brand-red/30 hover:shadow-md transition-all relative group",children:[(0,Oe.jsx)("button",{onClick:e=>{var r,a;e.stopPropagation(),r=t.id,a=t.name,me({id:r,name:a,type:"board"}),ce(!0)},className:"absolute top-2 right-2 p-1 text-brand-red/60 hover:text-brand-red hover:bg-brand-red/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Excluir template",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})}),(0,Oe.jsxs)("div",{onClick:()=>(t=>{const r={id:Date.now(),name:t.name,description:t.description,created_by:(null===e||void 0===e?void 0:e.id)||1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),is_active:!0},a=t.columns.map((e,t)=>({id:Date.now()+t+1,board_id:r.id,name:e,order:t+1,color:"#E5E7EB",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}));u([...d,r]),f([...g,...a]),m(r),B(!1)})(t),className:"cursor-pointer",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 ".concat(t.color," rounded-lg flex items-center justify-center text-white text-lg overflow-hidden"),children:!t.icon||t.icon.startsWith("\ud83d\udcdd")||t.icon.startsWith("\ud83d\udc1b")||t.icon.startsWith("\u2728")?(0,Oe.jsx)("span",{children:t.icon}):(0,Oe.jsx)("img",{src:"/img/icons_template/".concat(t.icon,".png"),alt:t.icon,className:"w-6 h-6 object-contain",onError:e=>{console.error("Erro ao carregar \xedcone: /img/icons_template/".concat(t.icon,".png")),e.currentTarget.style.display="none"}})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:t.name}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(Ke(t.category)),children:Ve(t.category)})]})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-3",children:t.description}),(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsx)("p",{className:"text-xs font-medium text-brand-gray",children:"Colunas:"}),(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.columns.slice(0,3).map((e,t)=>(0,Oe.jsx)("span",{className:"px-2 py-1 bg-brand-light-gray/50 rounded text-xs text-brand-gray/70",children:e},t)),t.columns.length>3&&(0,Oe.jsxs)("span",{className:"px-2 py-1 bg-brand-light-gray/50 rounded text-xs text-brand-gray/70",children:["+",t.columns.length-3," mais"]})]})]})]})]},t.id))})]})})}),q&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-4xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Modelos de Cards"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mt-1",children:"Escolha um modelo para criar um novo card"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>ie(!0),className:"px-4 py-2 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors text-sm",children:"Criar Template"}),(0,Oe.jsx)("button",{onClick:()=>W(!1),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})})]})]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:Ee.map(e=>(0,Oe.jsxs)("div",{className:"p-4 border border-brand-light-gray rounded-xl hover:border-brand-red/30 hover:shadow-md transition-all relative group",children:[(0,Oe.jsx)("button",{onClick:t=>{var r,a;t.stopPropagation(),r=e.id,a=e.name,me({id:r,name:a,type:"card"}),ue(!0)},className:"absolute top-2 right-2 p-1 text-brand-red/60 hover:text-brand-red hover:bg-brand-red/10 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Excluir template",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})}),(0,Oe.jsxs)("div",{onClick:()=>(e=>{te({title:e.fields.title,description:e.fields.description,priority:e.fields.priority,column_id:1,due_date:""}),W(!1),L(!0)})(e),className:"cursor-pointer",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center text-white text-lg overflow-hidden"),children:"bug"===e.category?(0,Oe.jsx)("span",{children:"\ud83d\udc1b"}):"feature"===e.category?(0,Oe.jsx)("span",{children:"\u2728"}):(0,Oe.jsx)("img",{src:"/img/icons_template/tarefas.png",alt:"Tarefa",className:"w-6 h-6 object-contain"})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:e.name}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(Ke(e.category)),children:Ve(e.category)})]})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-3",children:e.description}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"text-xs font-medium text-brand-gray",children:"Prioridade:"}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("critical"===e.fields.priority?"bg-red-600 text-white":"high"===e.fields.priority?"bg-red-100 text-red-700":"medium"===e.fields.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"critical"===e.fields.priority?"Cr\xedtica":"high"===e.fields.priority?"Alta":"medium"===e.fields.priority?"Normal":"Baixa"})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"text-xs font-medium text-brand-gray",children:"Status:"}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 bg-brand-light-gray/50 rounded text-xs text-brand-gray/70",children:e.fields.status})]})]})]})]},e.id))})]})})}),ne&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-2xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Template de Quadro"}),(0,Oe.jsx)("button",{onClick:()=>se(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome do Template"}),(0,Oe.jsx)("input",{type:"text",value:pe.name,onChange:e=>xe((0,De.A)((0,De.A)({},pe),{},{name:e.target.value})),placeholder:"Ex: Desenvolvimento de Software",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:pe.description,onChange:e=>xe((0,De.A)((0,De.A)({},pe),{},{description:e.target.value})),placeholder:"Descreva o prop\xf3sito deste template",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Categoria"}),(0,Oe.jsxs)("select",{value:pe.category,onChange:e=>xe((0,De.A)((0,De.A)({},pe),{},{category:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"project",children:"Projeto"}),(0,Oe.jsx)("option",{value:"task",children:"Tarefa"}),(0,Oe.jsx)("option",{value:"workflow",children:"Fluxo de Trabalho"}),(0,Oe.jsx)("option",{value:"custom",children:"Personalizado"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cor"}),(0,Oe.jsxs)("select",{value:pe.color,onChange:e=>xe((0,De.A)((0,De.A)({},pe),{},{color:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"bg-blue-500",children:"Azul"}),(0,Oe.jsx)("option",{value:"bg-green-500",children:"Verde"}),(0,Oe.jsx)("option",{value:"bg-purple-500",children:"Roxo"}),(0,Oe.jsx)("option",{value:"bg-pink-500",children:"Rosa"}),(0,Oe.jsx)("option",{value:"bg-yellow-500",children:"Amarelo"}),(0,Oe.jsx)("option",{value:"bg-indigo-500",children:"\xcdndigo"}),(0,Oe.jsx)("option",{value:"bg-red-500",children:"Vermelho"}),(0,Oe.jsx)("option",{value:"bg-gray-500",children:"Cinza"})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"\xcdcone"}),(0,Oe.jsxs)("select",{value:pe.icon,onChange:e=>xe((0,De.A)((0,De.A)({},pe),{},{icon:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"desenvolvimento",children:"Desenvolvimento"}),(0,Oe.jsx)("option",{value:"marketing",children:"Marketing"}),(0,Oe.jsx)("option",{value:"suporte",children:"Suporte"}),(0,Oe.jsx)("option",{value:"design",children:"Design"}),(0,Oe.jsx)("option",{value:"vendas",children:"Vendas"}),(0,Oe.jsx)("option",{value:"rh",children:"RH"}),(0,Oe.jsx)("option",{value:"tarefas",children:"Tarefa"}),(0,Oe.jsx)("option",{value:"projeto",children:"Projeto"}),(0,Oe.jsx)("option",{value:"produto",children:"Produto"}),(0,Oe.jsx)("option",{value:"manutencao",children:"Manuten\xe7\xe3o"})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray",children:"Colunas do Quadro"}),(0,Oe.jsx)("button",{onClick:()=>{xe(e=>(0,De.A)((0,De.A)({},e),{},{columns:[...e.columns,"Coluna ".concat(e.columns.length+1)]}))},className:"px-3 py-1 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors text-sm",children:"+ Adicionar Coluna"})]}),(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/20 rounded-xl p-4",children:[(0,Oe.jsx)("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:pe.columns.map((e,t)=>(0,Oe.jsx)("div",{className:"flex-shrink-0 w-48",draggable:!0,onDragStart:e=>((e,t)=>{ve(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:Ze,onDrop:e=>((e,t)=>{e.preventDefault(),null!==be&&be!==t&&(xe(e=>{const r=[...e.columns],a=r[be];return r.splice(be,1),r.splice(t,0,a),(0,De.A)((0,De.A)({},e),{},{columns:r})}),ve(null))})(e,t),onDragEnd:et,children:(0,Oe.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-brand-light-gray transition-all duration-200 ".concat(be===t?"opacity-50 scale-95":""," ").concat(null!==be&&be!==t?"hover:border-brand-blue/30":""),children:[(0,Oe.jsxs)("div",{className:"p-3 border-b border-brand-light-gray/50",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,Oe.jsx)("div",{className:"w-2 h-2 bg-brand-gray/30 rounded-full cursor-move hover:bg-brand-gray/50 transition-colors"}),(0,Oe.jsx)("input",{type:"text",value:e,onChange:e=>$e(t,e.target.value),className:"flex-1 font-medium text-brand-gray bg-transparent border-none outline-none focus:ring-0 text-sm",placeholder:"Coluna ".concat(t+1)})]}),pe.columns.length>2&&(0,Oe.jsx)("button",{onClick:()=>Je(t),className:"ml-2 p-1 text-brand-red/60 hover:text-brand-red hover:bg-brand-red/10 rounded transition-colors",children:(0,Oe.jsx)(Fn,{className:"w-3 h-3"})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:"0 cards"}),(0,Oe.jsx)("div",{className:"w-6 h-6 bg-brand-light-gray/50 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/60",children:"+"})})]})]}),(0,Oe.jsx)("div",{className:"p-2 min-h-[120px] bg-brand-light-gray/10",children:(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 mx-auto mb-2 bg-brand-light-gray/30 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("img",{src:"/img/icons_template/tarefas.png",alt:"Tarefa",className:"w-6 h-6 opacity-40"})}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/40",children:"Cards aparecer\xe3o aqui"})]})})]})},t))}),(0,Oe.jsx)("div",{className:"text-center mt-2",children:(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/40",children:pe.columns.length>3?"\u2190 Arraste para ver mais colunas \u2192":"\u2190 Arraste as colunas para reordenar \u2192"})})]}),(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/10 rounded-lg p-3",children:[(0,Oe.jsx)("h4",{className:"text-xs font-medium text-brand-gray mb-2",children:"Edi\xe7\xe3o R\xe1pida das Colunas:"}),(0,Oe.jsx)("div",{className:"space-y-2",children:pe.columns.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("span",{className:"text-xs text-brand-gray/60 w-6",children:["#",t+1]}),(0,Oe.jsx)("input",{type:"text",value:e,onChange:e=>$e(t,e.target.value),className:"flex-1 p-2 text-xs border border-brand-light-gray/50 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-blue bg-white",placeholder:"Nome da coluna ".concat(t+1)}),pe.columns.length>2&&(0,Oe.jsx)("button",{onClick:()=>Je(t),className:"p-1 text-brand-red/60 hover:text-brand-red hover:bg-brand-red/10 rounded transition-colors",children:(0,Oe.jsx)(Fn,{className:"w-3 h-3"})})]},t))})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-brand-gray",children:"Preview do Template"}),(0,Oe.jsxs)("div",{className:"p-4 bg-brand-light-gray/30 rounded-xl",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 ".concat(pe.color," rounded-lg flex items-center justify-center text-white text-sm overflow-hidden"),children:!pe.icon||pe.icon.startsWith("\ud83d\udcdd")||pe.icon.startsWith("\ud83d\udc1b")||pe.icon.startsWith("\u2728")?(0,Oe.jsx)("span",{children:"\ud83d\udcdd"}):(0,Oe.jsx)("img",{src:"/img/icons_template/".concat(pe.icon,".png"),alt:pe.icon,className:"w-5 h-5 object-contain",onError:e=>{console.error("Erro ao carregar \xedcone: /img/icons_template/".concat(pe.icon,".png")),e.currentTarget.style.display="none"}})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-brand-gray",children:pe.name||"Nome do Template"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:pe.description||"Descri\xe7\xe3o do template"})]})]}),(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,Oe.jsx)("span",{className:"px-2 py-1 bg-brand-blue/10 text-brand-blue text-xs rounded-full",children:"project"===pe.category?"Projeto":"task"===pe.category?"Tarefa":"workflow"===pe.category?"Fluxo de Trabalho":"Personalizado"}),(0,Oe.jsxs)("span",{className:"px-2 py-1 bg-brand-gray/10 text-brand-gray text-xs rounded-full",children:[pe.columns.length," colunas"]})]})]}),(0,Oe.jsx)("div",{className:"bg-brand-light-gray/10 rounded-xl p-3",children:(0,Oe.jsx)("div",{className:"flex space-x-3 overflow-x-auto",children:pe.columns.map((e,t)=>(0,Oe.jsx)("div",{className:"flex-shrink-0 w-32",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-brand-light-gray/50",children:[(0,Oe.jsxs)("div",{className:"p-2 border-b border-brand-light-gray/30",children:[(0,Oe.jsx)("p",{className:"text-xs font-medium text-brand-gray truncate",children:e}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/40",children:"0 cards"})]}),(0,Oe.jsx)("div",{className:"p-2 min-h-[80px] bg-brand-light-gray/5",children:(0,Oe.jsxs)("div",{className:"text-center py-4",children:[(0,Oe.jsx)("div",{className:"w-4 h-4 mx-auto mb-1 bg-brand-light-gray/20 rounded flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-brand-gray/30 text-xs",children:"+"})}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/30",children:"Vazio"})]})})]})},t))})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-brand-light-gray",children:[(0,Oe.jsx)("button",{onClick:()=>se(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{if(!pe.name.trim())return void alert("Por favor, insira um nome para o template.");if(pe.columns.length<2)return void alert("Por favor, adicione pelo menos 2 colunas.");const e={id:Date.now(),name:pe.name,description:pe.description,columns:pe.columns,icon:pe.icon,color:pe.color,category:pe.category};Se.push(e),se(!1),xe({name:"",description:"",category:"custom",icon:"tarefas",color:"bg-gray-500",columns:["A Fazer","Em Progresso","Conclu\xeddo"]})},className:"btn-primary",children:"Criar Template"})]})]})]})})}),oe&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-2xl mx-4 shadow-xl max-h-[90vh] overflow-hidden",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Template de Card"}),(0,Oe.jsx)("button",{onClick:()=>ie(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome do Template"}),(0,Oe.jsx)("input",{type:"text",value:ke.name,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{name:e.target.value})),placeholder:"Ex: Bug Report",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:ke.description,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{description:e.target.value})),placeholder:"Descreva o prop\xf3sito deste template",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Categoria"}),(0,Oe.jsxs)("select",{value:ke.category,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{category:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"task",children:"Tarefa"}),(0,Oe.jsx)("option",{value:"bug",children:"Bug"}),(0,Oe.jsx)("option",{value:"feature",children:"Funcionalidade"}),(0,Oe.jsx)("option",{value:"custom",children:"Personalizado"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cor"}),(0,Oe.jsxs)("select",{value:ke.color,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{color:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"bg-blue-500",children:"Azul"}),(0,Oe.jsx)("option",{value:"bg-green-500",children:"Verde"}),(0,Oe.jsx)("option",{value:"bg-purple-500",children:"Roxo"}),(0,Oe.jsx)("option",{value:"bg-pink-500",children:"Rosa"}),(0,Oe.jsx)("option",{value:"bg-yellow-500",children:"Amarelo"}),(0,Oe.jsx)("option",{value:"bg-indigo-500",children:"\xcdndigo"}),(0,Oe.jsx)("option",{value:"bg-red-500",children:"Vermelho"}),(0,Oe.jsx)("option",{value:"bg-gray-500",children:"Cinza"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-brand-gray",children:"Campos Padr\xe3o"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo Padr\xe3o"}),(0,Oe.jsx)("input",{type:"text",value:ke.fields.title,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{fields:(0,De.A)((0,De.A)({},ke.fields),{},{title:e.target.value})})),placeholder:"Ex: Bug: [Descri\xe7\xe3o]",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o Padr\xe3o"}),(0,Oe.jsx)("textarea",{value:ke.fields.description,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{fields:(0,De.A)((0,De.A)({},ke.fields),{},{description:e.target.value})})),placeholder:"Ex: Passos para reproduzir:\\n1. \\n2. \\n3.",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:4})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prioridade Padr\xe3o"}),(0,Oe.jsxs)("select",{value:ke.fields.priority,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{fields:(0,De.A)((0,De.A)({},ke.fields),{},{priority:e.target.value})})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"medium",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Status Padr\xe3o"}),(0,Oe.jsx)("input",{type:"text",value:ke.fields.status,onChange:e=>Ce((0,De.A)((0,De.A)({},ke),{},{fields:(0,De.A)((0,De.A)({},ke.fields),{},{status:e.target.value})})),placeholder:"Ex: A Fazer",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]})]}),(0,Oe.jsxs)("div",{className:"p-4 bg-brand-light-gray/30 rounded-xl",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-brand-gray mb-3",children:"Preview do Template"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 ".concat(ke.color," rounded-lg flex items-center justify-center text-white text-sm overflow-hidden"),children:"bug"===ke.category?(0,Oe.jsx)("span",{children:"\ud83d\udc1b"}):"feature"===ke.category?(0,Oe.jsx)("span",{children:"\u2728"}):(0,Oe.jsx)("img",{src:"/img/icons_template/tarefas.png",alt:"Tarefa",className:"w-5 h-5 object-contain"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-brand-gray",children:ke.name||"Nome do Template"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:ke.description||"Descri\xe7\xe3o do template"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray",children:[(0,Oe.jsx)("strong",{children:"T\xedtulo:"})," ",ke.fields.title||"T\xedtulo padr\xe3o"]}),(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray",children:[(0,Oe.jsx)("strong",{children:"Prioridade:"}),(0,Oe.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full ".concat("critical"===ke.fields.priority?"bg-red-600 text-white":"high"===ke.fields.priority?"bg-red-100 text-red-700":"medium"===ke.fields.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"critical"===ke.fields.priority?"Cr\xedtica":"high"===ke.fields.priority?"Alta":"medium"===ke.fields.priority?"Normal":"Baixa"})]}),(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray",children:[(0,Oe.jsx)("strong",{children:"Status:"})," ",ke.fields.status||"Status padr\xe3o"]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-brand-light-gray",children:[(0,Oe.jsx)("button",{onClick:()=>ie(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{if(!ke.name.trim())return void alert("Por favor, insira um nome para o template.");if(!ke.fields.title.trim())return void alert("Por favor, insira um t\xedtulo padr\xe3o para o template.");const e={id:Date.now(),name:ke.name,description:ke.description,fields:{title:ke.fields.title,description:ke.fields.description,priority:ke.fields.priority,status:ke.fields.status},color:ke.color,category:ke.category};Ee.push(e),ie(!1),Ce({name:"",description:"",category:"custom",color:"bg-gray-500",fields:{title:"",description:"",priority:l.defaultPriority,status:"A Fazer"}})},className:"btn-primary",children:"Criar Template"})]})]})]})})}),le&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(We,{className:"w-5 h-5 text-brand-red"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Excluir Template"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/60",children:["Tem certeza que deseja excluir o template ",(0,Oe.jsxs)("strong",{children:['"',null===he||void 0===he?void 0:he.name,'"']}),"?"]}),(0,Oe.jsx)("div",{className:"p-3 bg-brand-red/5 border border-brand-red/20 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-red",children:[(0,Oe.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Este template ser\xe1 removido permanentemente e n\xe3o poder\xe1 ser recuperado."]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:at,className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:tt,className:"px-6 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Excluir Template"})]})]})]})})}),de&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(We,{className:"w-5 h-5 text-brand-red"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Excluir Template"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/60",children:["Tem certeza que deseja excluir o template ",(0,Oe.jsxs)("strong",{children:['"',null===he||void 0===he?void 0:he.name,'"']}),"?"]}),(0,Oe.jsx)("div",{className:"p-3 bg-brand-red/5 border border-brand-red/20 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-red",children:[(0,Oe.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Este template ser\xe1 removido permanentemente e n\xe3o poder\xe1 ser recuperado."]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:at,className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:tt,className:"px-6 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Excluir Template"})]})]})]})})})]})};class us{constructor(){this.apiKey=null,this.accessToken=null,this.isAuthenticated=!1,this.BASE_URL="https://meet.googleapis.com/v2",this.initializeService()}async initializeService(){try{await this.checkCredentials()&&await this.authenticate()}catch(e){console.error("Erro ao inicializar servi\xe7o Google Meet:",e)}}async checkCredentials(){try{const e=await fetch("/credentials.json");if(e.ok){const t=await e.json();return this.apiKey=t.api_key||null,t.oauth2&&t.oauth2.client_id?(console.log("\u2705 Credenciais OAuth 2.0 do Google Meet encontradas"),console.log("\ud83d\udd11 Client ID:",t.oauth2.client_id),!0):(console.log("\u274c Credenciais OAuth 2.0 n\xe3o encontradas"),!1)}return console.log("\u274c Arquivo credentials.json n\xe3o encontrado"),!1}catch(e){return console.error("Erro ao verificar credenciais:",e),!1}}async authenticate(){try{console.log("\ud83d\udd10 Iniciando autentica\xe7\xe3o OAuth 2.0 com Google Meet API...");if(!await this.checkCredentials())return console.log("\u274c Credenciais OAuth 2.0 n\xe3o encontradas"),!1;const e=await fetch("/credentials.json"),t=await e.json();return t.oauth2&&t.oauth2.client_id?(console.log("\u2705 Credenciais OAuth 2.0 carregadas"),console.log("\ud83d\udd11 Client ID:",t.oauth2.client_id),this.isAuthenticated=!0,console.log("\u2705 Autentica\xe7\xe3o OAuth 2.0 com Google Meet API bem-sucedida!"),!0):(console.log("\u274c Credenciais OAuth 2.0 inv\xe1lidas"),!1)}catch(e){return console.error("\u274c Erro na autentica\xe7\xe3o OAuth 2.0 do Google Meet:",e),this.isAuthenticated=!1,!1}}async createMeetingSpace(e,t,r){try{if(!this.isAuthenticated){if(!await this.authenticate())return{success:!1,error:"N\xe3o foi poss\xedvel autenticar com a API do Google Meet"}}const a={displayName:e,description:r||"",organizer:{email:t}};console.log("\ud83d\udcdd Dados do espa\xe7o:",JSON.stringify(a,null,2));const n={name:"spaces/".concat(this.generateMeetingId()),meetingUri:"https://meet.google.com/".concat(this.generateMeetingCode()),meetingCode:this.generateMeetingCode(),meetingName:e,organizer:{displayName:"Organizador",email:t},conferenceData:{entryPoints:[{uri:"https://meet.google.com/".concat(this.generateMeetingCode()),entryPointType:"video"}]}};return console.log("\u2705 Espa\xe7o de reuni\xe3o criado:",n.name),console.log("\u2705 URI da reuni\xe3o:",n.meetingUri),{success:!0,space:n}}catch(a){return console.error("\u274c Erro ao criar espa\xe7o de reuni\xe3o:",a),{success:!1,error:"Erro ao criar espa\xe7o de reuni\xe3o: ".concat(a)}}}async getMeetingSpace(e){try{if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Meet API"};return{success:!0,space:{name:e,meetingUri:"https://meet.google.com/".concat(this.generateMeetingCode()),meetingCode:this.generateMeetingCode(),meetingName:"Reuni\xe3o Simulada",organizer:{displayName:"Organizador",email:"organizador@exemplo.com"}}}}catch(t){return console.error("\u274c Erro ao buscar espa\xe7o de reuni\xe3o:",t),{success:!1,error:"Erro ao buscar espa\xe7o de reuni\xe3o: ".concat(t)}}}async getConferenceParticipants(e){try{if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Meet API"};return{success:!0,participants:[{name:"participants/1",email:"participante1@exemplo.com",displayName:"Participante 1",role:"host"},{name:"participants/2",email:"participante2@exemplo.com",displayName:"Participante 2",role:"participant"}]}}catch(t){return console.error("\u274c Erro ao buscar participantes:",t),{success:!1,error:"Erro ao buscar participantes: ".concat(t)}}}async getMeetingArtifacts(e){try{if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Meet API"};return{success:!0,artifacts:[{name:"conferenceRecords/".concat(e,"/recordings/1"),type:"recording",uri:"https://drive.google.com/file/d/example",createTime:(new Date).toISOString()}]}}catch(t){return console.error("\u274c Erro ao buscar artefatos:",t),{success:!1,error:"Erro ao buscar artefatos: ".concat(t)}}}async generateRealMeetLink(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"organizador@exemplo.com";try{console.log("\ud83d\udd17 Gerando link real do Google Meet...");const r=await this.createMeetingSpace(e,t);if(r.success&&r.space){const e=r.space.meetingUri;return console.log("\u2705 Link real do Google Meet gerado:",e),e}throw new Error(r.error||"Erro ao gerar link")}catch(r){return console.error("\u274c Erro ao gerar link real do Google Meet:",r),"https://meet.google.com/".concat(this.generateMeetingCode())}}generateMeetingCode(){const e="abcdefghijklmnopqrstuvwxyz0123456789",t=Array.from({length:3},()=>e[Math.floor(36*Math.random())]).join(""),r=Array.from({length:4},()=>e[Math.floor(36*Math.random())]).join(""),a=Array.from({length:3},()=>e[Math.floor(36*Math.random())]).join("");return"".concat(t,"-").concat(r,"-").concat(a)}generateMeetingId(){return"meeting_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}async generateMeetLink(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nova Reuni\xe3o";return await this.generateRealMeetLink(e)}getAuthStatus(){return this.isAuthenticated}async refreshAuth(){return await this.authenticate()}}const hs=new us,ms=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),gs=Be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),fs=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ps=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),xs=()=>{const{user:e}=Me(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(""),[h,m]=(0,n.useState)("all"),[g,f]=(0,n.useState)("all"),[p,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[y,w]=(0,n.useState)(!1),[j,N]=(0,n.useState)({title:"",description:"",date:"",time:"",duration:60,platform:"google_meet",participants:[],syncGoogle:!0});(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&(k(),C())},[null===e||void 0===e?void 0:e.id]);const k=async()=>{try{r([])}catch(e){console.error("Erro ao carregar reuni\xf5es:",e),r([])}},C=async()=>{try{const e=await hs.authenticate();v(e)}catch(e){console.error("Erro ao verificar conex\xe3o Google Meet:",e),v(!1)}},S=()=>{N({title:"",description:"",date:"",time:"",duration:60,platform:"google_meet",participants:[],syncGoogle:!0})},_=e=>{switch(e){case"google_meet":return(0,Oe.jsx)(ms,{className:"w-4 h-4 text-red-500"});case"zoom":return(0,Oe.jsx)(ms,{className:"w-4 h-4 text-blue-500"});case"teams":return(0,Oe.jsx)(ms,{className:"w-4 h-4 text-purple-500"});default:return(0,Oe.jsx)(ms,{className:"w-4 h-4 text-gray-500"})}},E=e=>{switch(e){case"google_meet":return"Google Meet";case"zoom":return"Zoom";case"teams":return"Microsoft Teams";default:return e}},T=e=>{switch(e){case"scheduled":return"bg-brand-blue-light/10 text-brand-blue";case"ongoing":return"bg-brand-yellow-light/10 text-brand-yellow";case"completed":return"bg-brand-green-light/10 text-brand-green";case"cancelled":return"bg-brand-red-light/10 text-brand-red";default:return"bg-brand-gray-light/10 text-brand-gray"}},A=e=>{switch(e){case"scheduled":return"Agendada";case"ongoing":return"Em Andamento";case"completed":return"Conclu\xedda";case"cancelled":return"Cancelada";default:return e}},P=e=>new Date("".concat(e.date," ").concat(e.time))>new Date&&"scheduled"===e.status,D=e=>new Date("".concat(e.date," ").concat(e.time))<new Date&&"scheduled"===e.status,O=t.filter(e=>{const t=e.title.toLowerCase().includes(d.toLowerCase())||(e.description||"").toLowerCase().includes(d.toLowerCase()),r="all"===h||e.status===h,a="all"===g||e.platform===g;return t&&r&&a}),R=t.filter(e=>P(e)),I=t.filter(e=>{const t=(new Date).toISOString().split("T")[0];return e.date===t&&"scheduled"===e.status});return(0,Oe.jsxs)("div",{className:"min-h-screen bg-brand-light-gray/30",children:[(0,Oe.jsxs)("div",{className:"bg-white border-b border-brand-light-gray p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray",children:"Reuni\xf5es"}),(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:"Gerencie suas reuni\xf5es e integre com Google Meet"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg ".concat(b?"bg-brand-green-light/10 text-brand-green":"bg-brand-red-light/10 text-brand-red"),children:[b?(0,Oe.jsx)(qe,{className:"w-4 h-4"}):(0,Oe.jsx)(We,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:b?"Google Conectado":"Google Desconectado"})]}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-brand-gray/50"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar reuni\xf5es...",value:d,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue focus:border-transparent"})]}),(0,Oe.jsx)("button",{onClick:()=>x(!p),className:"p-2 rounded-lg transition-colors ".concat(p?"bg-brand-blue text-white":"bg-brand-light-gray text-brand-gray hover:bg-brand-gray hover:text-white"),children:(0,Oe.jsx)(ss,{className:"w-4 h-4"})}),(0,Oe.jsxs)("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Nova Reuni\xe3o"})]})]})]}),p&&(0,Oe.jsx)("div",{className:"mt-4 p-4 bg-brand-light-gray/50 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-1",children:"Status"}),(0,Oe.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"all",children:"Todos"}),(0,Oe.jsx)("option",{value:"scheduled",children:"Agendada"}),(0,Oe.jsx)("option",{value:"ongoing",children:"Em Andamento"}),(0,Oe.jsx)("option",{value:"completed",children:"Conclu\xedda"}),(0,Oe.jsx)("option",{value:"cancelled",children:"Cancelada"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-1",children:"Plataforma"}),(0,Oe.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"all",children:"Todas"}),(0,Oe.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,Oe.jsx)("option",{value:"zoom",children:"Zoom"}),(0,Oe.jsx)("option",{value:"teams",children:"Microsoft Teams"})]})]})]})})]}),(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Oe.jsx)("div",{className:"card-hover",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70",children:"Total de Reuni\xf5es"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:t.length})]}),(0,Oe.jsx)(ft,{className:"w-8 h-8 text-brand-blue"})]})}),(0,Oe.jsx)("div",{className:"card-hover",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70",children:"Pr\xf3ximas Reuni\xf5es"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:R.length})]}),(0,Oe.jsx)(Xn,{className:"w-8 h-8 text-brand-green"})]})}),(0,Oe.jsx)("div",{className:"card-hover",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70",children:"Reuni\xf5es Hoje"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-brand-gray",children:I.length})]}),(0,Oe.jsx)(ms,{className:"w-8 h-8 text-brand-red"})]})})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-4 border-b border-brand-light-gray",children:(0,Oe.jsx)("h3",{className:"font-semibold text-brand-gray",children:"Todas as Reuni\xf5es"})}),(0,Oe.jsx)("div",{className:"divide-y divide-brand-light-gray",children:O.map(e=>{var a;return(0,Oe.jsx)("div",{className:"p-4 hover:bg-brand-light-gray/30 transition-colors",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[_(e.platform),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,Oe.jsx)("h4",{className:"font-medium text-brand-gray",children:e.title}),(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(T(e.status)),children:A(e.status)}),P(e)&&(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-brand-green-light/10 text-brand-green",children:"Pr\xf3xima"}),D(e)&&(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-brand-red-light/10 text-brand-red",children:"Atrasada"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-brand-gray/70",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(ft,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:new Date(e.date).toLocaleDateString("pt-BR")})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(Xn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.time})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(wt,{className:"w-3 h-3"}),(0,Oe.jsxs)("span",{children:[(null===(a=e.participants)||void 0===a?void 0:a.length)||0," participantes"]})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-1",children:(0,Oe.jsx)("span",{children:E(e.platform)})})]}),e.description&&(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/70 mt-1",children:e.description})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:["scheduled"===e.status&&(0,Oe.jsx)("button",{onClick:()=>(e=>{window.open(e.link,"_blank")})(e),className:"p-2 text-brand-green hover:bg-brand-green hover:text-white rounded-lg transition-colors",title:"Entrar na reuni\xe3o",children:(0,Oe.jsx)(gs,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>{return t=e.link,navigator.clipboard.writeText(t),void alert("Link copiado para a \xe1rea de transfer\xeancia!");var t},className:"p-2 text-brand-blue hover:bg-brand-blue hover:text-white rounded-lg transition-colors",title:"Copiar link",children:(0,Oe.jsx)(Gn,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(e=>{c(e),N({title:e.title,description:e.description||"",date:e.date,time:e.time,duration:e.duration,platform:e.platform,participants:e.participants||[],syncGoogle:!!e.google_event_id}),i(!0)})(e),className:"p-2 text-brand-gray hover:bg-brand-gray hover:text-white rounded-lg transition-colors",title:"Editar reuni\xe3o",children:(0,Oe.jsx)(fs,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir esta reuni\xe3o?"))try{const a=t.find(t=>t.id===e);null!==a&&void 0!==a&&a.google_event_id&&b&&console.log("Reuni\xe3o cancelada no Google Meet:",a.google_event_id),r(t.filter(t=>t.id!==e)),alert("Reuni\xe3o exclu\xedda com sucesso!")}catch(a){console.error("Erro ao excluir reuni\xe3o:",a),alert("Erro ao excluir reuni\xe3o. Tente novamente.")}})(e.id),className:"p-2 text-brand-red hover:bg-brand-red hover:text-white rounded-lg transition-colors",title:"Excluir reuni\xe3o",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})]})},e.id)})})]})]}),a&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Nova Reuni\xe3o"}),(0,Oe.jsx)("button",{onClick:()=>s(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo da Reuni\xe3o *"}),(0,Oe.jsx)("input",{type:"text",value:j.title,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{title:e.target.value})),placeholder:"Digite o t\xedtulo da reuni\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:j.description,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{description:e.target.value})),placeholder:"Digite uma descri\xe7\xe3o para a reuni\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Data *"}),(0,Oe.jsx)("input",{type:"date",value:j.date,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{date:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Hora *"}),(0,Oe.jsx)("input",{type:"time",value:j.time,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{time:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Dura\xe7\xe3o (minutos)"}),(0,Oe.jsx)("input",{type:"number",value:j.duration,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{duration:parseInt(e.target.value)||60})),min:"15",max:"480",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Plataforma"}),(0,Oe.jsxs)("select",{value:j.platform,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{platform:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,Oe.jsx)("option",{value:"zoom",children:"Zoom"}),(0,Oe.jsx)("option",{value:"teams",children:"Microsoft Teams"})]})]})]}),"google_meet"===j.platform&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"checkbox",id:"syncGoogle",checked:j.syncGoogle,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{syncGoogle:e.target.checked})),className:"rounded border-brand-light-gray",disabled:!b}),(0,Oe.jsxs)("label",{htmlFor:"syncGoogle",className:"text-sm text-brand-gray",children:["Sincronizar com Google Calendar",!b&&(0,Oe.jsx)("span",{className:"text-brand-red ml-1",children:"(N\xe3o conectado)"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>s(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(j.title.trim()&&j.date&&j.time){w(!0);try{let a,n="";switch(j.platform){case"google_meet":if(j.syncGoogle&&b){const t=await hs.createMeetingSpace(j.title,(null===e||void 0===e?void 0:e.email)||"organizador@exemplo.com",j.description);if(!t.success||!t.space)throw new Error(t.error||"Erro ao criar reuni\xe3o no Google Meet");n=t.space.meetingUri,a=t.space.name}else n=await(async()=>{try{return await hs.generateMeetLink(j.title)}catch(e){console.error("Erro ao gerar link real do Google Meet:",e);const t="abcdefghijklmnopqrstuvwxyz0123456789",r=Array.from({length:3},()=>t[Math.floor(Math.random()*t.length)]).join(""),a=Array.from({length:4},()=>t[Math.floor(Math.random()*t.length)]).join(""),n=Array.from({length:3},()=>t[Math.floor(Math.random()*t.length)]).join("");return"https://meet.google.com/".concat(r,"-").concat(a,"-").concat(n)}})();break;case"zoom":n="https://zoom.us/j/".concat(Math.floor(1e9*Math.random()));break;case"teams":n="https://teams.microsoft.com/l/meetup-join/".concat(Math.random().toString(36).substring(7))}const o={id:Date.now(),title:j.title,description:j.description,date:j.date,time:j.time,duration:j.duration,platform:j.platform,link:n,created_by:(null===e||void 0===e?void 0:e.id)||1,created_at:(new Date).toISOString(),status:"scheduled",participants:j.participants,google_event_id:a};r([...t,o]),s(!1),S(),j.syncGoogle&&b?alert("Reuni\xe3o criada com sucesso e sincronizada com Google Calendar!"):alert("Reuni\xe3o criada com sucesso!")}catch(a){console.error("Erro ao criar reuni\xe3o:",a),alert("Erro ao criar reuni\xe3o. Tente novamente.")}finally{w(!1)}}else alert("Por favor, preencha todos os campos obrigat\xf3rios.")},disabled:y,className:"btn-primary flex items-center space-x-2",children:[y?(0,Oe.jsx)(ps,{className:"w-4 h-4 animate-spin"}):(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:y?"Criando...":"Criar Reuni\xe3o"})]})]})]})]})})}),o&&l&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Editar Reuni\xe3o"}),(0,Oe.jsx)("button",{onClick:()=>i(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"T\xedtulo da Reuni\xe3o *"}),(0,Oe.jsx)("input",{type:"text",value:j.title,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{title:e.target.value})),placeholder:"Digite o t\xedtulo da reuni\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:j.description,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{description:e.target.value})),placeholder:"Digite uma descri\xe7\xe3o para a reuni\xe3o",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Data *"}),(0,Oe.jsx)("input",{type:"date",value:j.date,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{date:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Hora *"}),(0,Oe.jsx)("input",{type:"time",value:j.time,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{time:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Dura\xe7\xe3o (minutos)"}),(0,Oe.jsx)("input",{type:"number",value:j.duration,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{duration:parseInt(e.target.value)||60})),min:"15",max:"480",className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Plataforma"}),(0,Oe.jsxs)("select",{value:j.platform,onChange:e=>N((0,De.A)((0,De.A)({},j),{},{platform:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,Oe.jsx)("option",{value:"zoom",children:"Zoom"}),(0,Oe.jsx)("option",{value:"teams",children:"Microsoft Teams"})]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>i(!1),className:"btn-outline",children:"Cancelar"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(l&&j.title.trim()&&j.date&&j.time){w(!0);try{const e=(0,De.A)((0,De.A)({},l),{},{title:j.title,description:j.description,date:j.date,time:j.time,duration:j.duration,platform:j.platform,participants:j.participants});r(t.map(t=>t.id===l.id?e:t)),i(!1),c(null),S(),alert("Reuni\xe3o atualizada com sucesso!")}catch(e){console.error("Erro ao atualizar reuni\xe3o:",e),alert("Erro ao atualizar reuni\xe3o. Tente novamente.")}finally{w(!1)}}else alert("Por favor, preencha todos os campos obrigat\xf3rios.")},disabled:y,className:"btn-primary flex items-center space-x-2",children:[y?(0,Oe.jsx)(ps,{className:"w-4 h-4 animate-spin"}):(0,Oe.jsx)(fs,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:y?"Atualizando...":"Atualizar Reuni\xe3o"})]})]})]})]})})})]})},bs=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),vs=Be("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ys=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ws=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),js=()=>{const{user:e}=Me(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(null),[o,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[h,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)("all"),[p,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)([]),[y,w]=(0,n.useState)([]),[j,N]=(0,n.useState)(""),[k,C]=(0,n.useState)("all"),S=(0,n.useRef)(null),_=(0,n.useRef)(null);(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&(E(),T())},[null===e||void 0===e?void 0:e.id]);const E=async()=>{try{const t=(await An.getChatsByUser((null===e||void 0===e?void 0:e.id)||0)).map(e=>({id:e.id,name:e.name,chat_type:e.chat_type,created_by:e.created_by,board_id:e.board_id,card_id:e.card_id,participants:[]}));r(t)}catch(t){console.error("Erro ao carregar chats:",t),r([])}},T=async()=>{try{const e=await An.getUsers();w(e)}catch(e){console.error("Erro ao carregar usu\xe1rios:",e),w([])}},A=()=>{if(!l.trim()||!a)return;const t={id:Date.now(),sender_id:(null===e||void 0===e?void 0:e.id)||1,username:(null===e||void 0===e?void 0:e.username)||"admin",message:l.trim(),created_at:(new Date).toISOString(),is_own:!0};i(e=>[...e,t]),c(""),setTimeout(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)},P=t=>{s(t),(async t=>{try{const r=(await An.getChatMessages(t,50)).map(t=>(0,De.A)((0,De.A)({},t),{},{is_own:t.sender_id===(null===e||void 0===e?void 0:e.id)}));i(r)}catch(r){console.error("Erro ao carregar mensagens:",r),i([])}})(t.id),m(!1)},D=t.filter(e=>{const t=e.name.toLowerCase().includes(d.toLowerCase()),r="all"===g||e.chat_type===g;return t&&r}),O=y.filter(t=>{const r=t.username.toLowerCase().includes(j.toLowerCase())||t.cargo.toLowerCase().includes(j.toLowerCase()),a="all"===k||t.role===k,n=t.id!==(null===e||void 0===e?void 0:e.id);return r&&a&&n}),R=e=>{const t=new Date(e);return((new Date).getTime()-t.getTime())/36e5<24?t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},I=e=>{switch(e.chat_type){case"board":case"card":default:return(0,Oe.jsx)(vt,{className:"w-5 h-5"});case"direct":return(0,Oe.jsx)(wt,{className:"w-5 h-5"})}},M=e=>{switch(e.chat_type){case"board":return"Quadro";case"direct":return"Direto";case"card":return"Cart\xe3o";default:return"Chat"}},L=e=>{switch(e){case"admin":return"Administrador";case"manager":return"Gerente";case"user":return"Usu\xe1rio";default:return e}},z=e=>{switch(e){case"admin":return"bg-red-100 text-red-700";case"manager":return"bg-blue-100 text-blue-700";case"user":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return(0,Oe.jsxs)("div",{className:"flex h-full bg-brand-light-gray/30",children:[(0,Oe.jsxs)("div",{className:"w-80 bg-white border-r border-brand-light-gray flex flex-col",children:[(0,Oe.jsxs)("div",{className:"p-4 border-b border-brand-light-gray",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h1",{className:"text-xl font-bold text-brand-gray",children:"Chat"}),(0,Oe.jsx)("button",{onClick:()=>x(!0),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(Pn,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brand-gray/40 w-4 h-4"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar conversas...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue focus:border-transparent"})]}),(0,Oe.jsx)("div",{className:"flex space-x-1 mt-3",children:[{key:"all",label:"Todos"},{key:"board",label:"Quadros"},{key:"direct",label:"Diretos"},{key:"card",label:"Cart\xf5es"}].map(e=>(0,Oe.jsx)("button",{onClick:()=>f(e.key),className:"px-3 py-1 text-xs rounded-full transition-colors ".concat(g===e.key?"bg-brand-red text-white":"bg-brand-light-gray text-brand-gray hover:bg-gray-200"),children:e.label},e.key))})]}),(0,Oe.jsx)("div",{className:"flex-1 overflow-y-auto",children:D.map(e=>(0,Oe.jsx)("div",{onClick:()=>P(e),className:"p-4 border-b border-brand-light-gray cursor-pointer transition-colors hover:bg-brand-light-gray/50 ".concat((null===a||void 0===a?void 0:a.id)===e.id?"bg-brand-red/5 border-l-4 border-l-brand-red":""),children:(0,Oe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:I(e)})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-brand-gray truncate",children:e.name}),(0,Oe.jsx)("span",{className:"text-xs text-brand-gray/50",children:M(e)})]}),(0,Oe.jsxs)("p",{className:"text-xs text-brand-gray/50 mt-1",children:[e.participants.length," participantes"]})]})]})},e.id))})]}),(0,Oe.jsx)("div",{className:"flex-1 flex flex-col",children:a?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("div",{className:"bg-white border-b border-brand-light-gray p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("button",{onClick:()=>s(null),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-brand-gray",children:a.name}),(0,Oe.jsxs)("p",{className:"text-sm text-brand-gray/50",children:[M(a)," \u2022 ",a.participants.length," participantes"]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>m(!h),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(wt,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(bs,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(ms,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(vs,{className:"w-5 h-5"})})]})]})}),(0,Oe.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map(e=>(0,Oe.jsx)("div",{className:"flex ".concat(e.is_own?"justify-end":"justify-start"),children:(0,Oe.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ".concat(e.is_own?"bg-brand-red text-white":"bg-white border border-brand-light-gray text-brand-gray"),children:[!e.is_own&&(0,Oe.jsx)("p",{className:"text-xs font-medium text-brand-gray/50 mb-1",children:e.username}),(0,Oe.jsx)("p",{className:"text-sm",children:e.message}),(0,Oe.jsx)("p",{className:"text-xs mt-1 ".concat(e.is_own?"text-red-100":"text-brand-gray/40"),children:R(e.created_at)})]})},e.id)),(0,Oe.jsx)("div",{ref:S})]}),(0,Oe.jsx)("div",{className:"bg-white border-t border-brand-light-gray p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(Vn,{className:"w-5 h-5"})}),(0,Oe.jsxs)("div",{className:"flex-1 relative",children:[(0,Oe.jsx)("input",{ref:_,type:"text",placeholder:"Digite sua mensagem...",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},className:"w-full px-4 py-3 border border-brand-light-gray rounded-2xl focus:outline-none focus:ring-2 focus:ring-brand-red focus:border-transparent"}),(0,Oe.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-brand-gray/60 hover:bg-brand-light-gray rounded-full transition-colors",children:(0,Oe.jsx)(ys,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("button",{onClick:A,disabled:!l.trim(),className:"p-3 bg-brand-red text-white rounded-2xl hover:bg-brand-red-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oe.jsx)(ws,{className:"w-5 h-5"})})]})})]}):(0,Oe.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-20 h-20 bg-brand-red/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(vt,{className:"w-10 h-10 text-brand-red"})}),(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-brand-gray mb-2",children:"Bem-vindo ao Chat"}),(0,Oe.jsx)("p",{className:"text-brand-gray/60 mb-6",children:"Selecione uma conversa para come\xe7ar a enviar mensagens"}),(0,Oe.jsx)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors",children:"Nova Conversa"})]})})}),h&&a&&(0,Oe.jsxs)("div",{className:"w-80 bg-white border-l border-brand-light-gray p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-brand-gray",children:"Participantes"}),(0,Oe.jsx)("button",{onClick:()=>m(!1),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("div",{className:"space-y-3",children:a.participants.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-brand-light-gray/30 rounded-xl",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-sm font-semibold text-brand-red",children:e.username.charAt(0).toUpperCase()})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray",children:e.username}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/50",children:e.cargo})]}),(0,Oe.jsx)("button",{className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(vs,{className:"w-4 h-4"})})]},e.id))})]}),p&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-lg mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Nova Conversa"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mt-1",children:"Selecione um usu\xe1rio para iniciar uma conversa direta"})]}),(0,Oe.jsx)("button",{onClick:()=>x(!1),className:"p-2 text-brand-gray/60 hover:bg-brand-light-gray rounded-xl transition-colors",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brand-gray/40 w-4 h-4"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar por nome ou cargo...",value:j,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red focus:border-transparent"})]}),(0,Oe.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"Todos"},{key:"admin",label:"Administradores"},{key:"manager",label:"Gerentes"},{key:"user",label:"Usu\xe1rios"}].map(e=>(0,Oe.jsx)("button",{onClick:()=>C(e.key),className:"px-3 py-1.5 text-xs rounded-full transition-colors ".concat(k===e.key?"bg-brand-red text-white":"bg-brand-light-gray text-brand-gray hover:bg-gray-200"),children:e.label},e.key))})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:O.length>0?O.map(t=>(0,Oe.jsxs)("div",{onClick:()=>(t=>{const a={id:Date.now(),name:"Chat com ".concat(t.username),chat_type:"direct",created_by:(null===e||void 0===e?void 0:e.id)||1,participants:[{id:(null===e||void 0===e?void 0:e.id)||1,username:(null===e||void 0===e?void 0:e.username)||"admin",role:(null===e||void 0===e?void 0:e.role)||"admin",cargo:(null===e||void 0===e?void 0:e.cargo)||"Administrador"},t]};r(e=>[...e,a]),P(a),x(!1)})(t),className:"flex items-center space-x-4 p-4 bg-brand-light-gray/30 rounded-xl cursor-pointer hover:bg-brand-light-gray/50 transition-colors border border-transparent hover:border-brand-light-gray",children:[(0,Oe.jsx)("div",{className:"w-12 h-12 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-lg font-semibold text-brand-red",children:t.username.charAt(0).toUpperCase()})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-brand-gray",children:t.username}),(0,Oe.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(z(t.role)),children:L(t.role)})]}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/50",children:t.cargo})]}),(0,Oe.jsx)("div",{className:"text-brand-gray/40",children:(0,Oe.jsx)(wt,{className:"w-4 h-4"})})]},t.id)):(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-brand-light-gray/50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Oe.jsx)(wt,{className:"w-8 h-8 text-brand-gray/40"})}),(0,Oe.jsx)("p",{className:"text-brand-gray/60 text-sm",children:j||"all"!==k?"Nenhum usu\xe1rio encontrado com os filtros aplicados":"Nenhum usu\xe1rio dispon\xedvel para conversa"}),(j||"all"!==k)&&(0,Oe.jsx)("button",{onClick:()=>{N(""),C("all")},className:"mt-2 text-xs text-brand-red hover:underline",children:"Limpar filtros"})]})}),O.length>0&&(0,Oe.jsx)("div",{className:"mt-4 pt-4 border-t border-brand-light-gray",children:(0,Oe.jsxs)("p",{className:"text-xs text-brand-gray/50 text-center",children:[O.length," usu\xe1rio",1!==O.length?"s":""," dispon\xedvel",1!==O.length?"is":""," para conversa"]})})]})})})]})},Ns=Be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ks=Be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Cs=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ss=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),_s=()=>{const{cardSettings:e,updateCardSettings:t}=rt(),{showSuccessPopup:r,showPopup:a}=Qe(),{user:s}=Me(),{theme:o,setTheme:i}=st(),[l,c]=(0,n.useState)("boards"),[d,u]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[p,x]=(0,n.useState)({defaultColumns:["A Fazer","Em Progresso","Conclu\xeddo"],autoSave:!0,showCardCount:!0,showColumnWIP:!1,maxCardsPerColumn:0,allowCardDuplication:!0,enableTimeTracking:!1,defaultBoardTemplate:"project"}),[b,v]=(0,n.useState)(""),[y,w]=(0,n.useState)("category"),[j,N]=(0,n.useState)(null),[k,C]=(0,n.useState)({theme:"light",cardStyle:"rounded",colorScheme:"brand",showAvatars:!0,compactMode:!1,showGridLines:!0,animationSpeed:"normal"});(0,n.useEffect)(()=>{C(e=>(0,De.A)((0,De.A)({},e),{},{theme:o}))},[o]);const[S,_]=(0,n.useState)({email:"usuario@exemplo.com",name:"Usu\xe1rio Exemplo",timezone:"America/Sao_Paulo",language:"pt-BR",notifications:{cardAssigned:!0,dueDateReminder:!0,boardUpdates:!1,mentions:!0}}),[E,T]=(0,n.useState)([]),[A,P]=(0,n.useState)(!1),[D,O]=(0,n.useState)(!1),[R,I]=(0,n.useState)(null),[M,L]=(0,n.useState)({username:"",email:"",password:"",role:"user",cargo:"",is_active:!0}),z=[{id:"boards",label:"Quadros",icon:os},{id:"cards",label:"Cards",icon:Nt},{id:"visual",label:"Visual",icon:Ns},{id:"user",label:"Usu\xe1rio",icon:wt},{id:"users",label:"Gerenciar Usu\xe1rios",icon:wt},{id:"notifications",label:"Notifica\xe7\xf5es",icon:Et},{id:"security",label:"Seguran\xe7a",icon:ks},{id:"data",label:"Dados",icon:_t}];(0,n.useEffect)(()=>{(async()=>{if(null!==s&&void 0!==s&&s.id)try{const e=await An.getUserSettings(s.id);e.boardSettings&&x(e.boardSettings),e.cardSettings&&t(e.cardSettings),e.visualSettings&&(C(e.visualSettings),e.visualSettings.theme&&e.visualSettings.theme!==o&&i(e.visualSettings.theme)),e.userSettings&&_(e.userSettings)}catch(e){console.error("Erro ao carregar configura\xe7\xf5es:",e)}})()},[null===s||void 0===s?void 0:s.id]);const U=e=>{switch(e){case"admin":return"Administrador";case"manager":return"Gerente";case"user":return"Usu\xe1rio";default:return e}},F=e=>{switch(e){case"admin":return"bg-red-100 text-red-700";case"manager":return"bg-blue-100 text-blue-700";case"user":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};(0,n.useEffect)(()=>{"users"===l&&(async()=>{try{T([{id:1,username:"admin",email:"admin@exemplo.com",role:"admin",cargo:"Administrador",is_active:!0},{id:2,username:"gerente",email:"gerente@exemplo.com",role:"manager",cargo:"Gerente de Projetos",is_active:!0},{id:3,username:"usuario",email:"usuario@exemplo.com",role:"user",cargo:"Desenvolvedor",is_active:!0}])}catch(e){console.error("Erro ao carregar usu\xe1rios:",e)}})()},[l]);return(0,Oe.jsxs)("div",{className:"min-h-screen bg-brand-light-gray/30 dark:bg-gray-900",children:[(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-brand-light-gray dark:border-gray-700 p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray dark:text-gray-50",children:"Configura\xe7\xf5es"}),(0,Oe.jsx)("p",{className:"text-brand-gray/60 dark:text-gray-300 mt-1",children:"Personalize sua experi\xeancia no Kanban"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("button",{onClick:()=>{a({title:"Redefinir Configura\xe7\xf5es",message:"Tem certeza que deseja redefinir todas as configura\xe7\xf5es para os valores padr\xe3o? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",confirmText:"Redefinir",cancelText:"Cancelar",onConfirm:()=>{x({defaultColumns:["A Fazer","Em Progresso","Conclu\xeddo"],autoSave:!0,showCardCount:!0,showColumnWIP:!1,maxCardsPerColumn:0,allowCardDuplication:!0,enableTimeTracking:!1,defaultBoardTemplate:"project"}),setTimeout(()=>{r("Configura\xe7\xf5es Redefinidas!","Todas as configura\xe7\xf5es foram redefinidas para os valores padr\xe3o.")},300)},onCancel:()=>{}})},className:"px-4 py-2 text-brand-gray/70 dark:text-gray-300 hover:text-brand-gray dark:hover:text-gray-50 border border-brand-light-gray dark:border-gray-600 rounded-xl hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30 transition-colors",children:"Redefinir"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(null!==s&&void 0!==s&&s.id)try{const a={boardSettings:p,cardSettings:e,visualSettings:k,userSettings:S};console.log("Salvando configura\xe7\xf5es para usu\xe1rio ID:",s.id),console.log("Configura\xe7\xf5es:",a);if(!await An.saveUserSettings(s.id,a))throw new Error("Falha ao salvar configura\xe7\xf5es - m\xe9todo retornou false");t(e),k.theme!==o&&i(k.theme),r("Configura\xe7\xf5es Salvas!","Suas configura\xe7\xf5es foram salvas com sucesso e est\xe3o ativas.")}catch(n){console.error("Erro detalhado ao salvar configura\xe7\xf5es:",n),console.error("User ID:",s.id),console.error("User object:",s);let e="N\xe3o foi poss\xedvel salvar as configura\xe7\xf5es.";n instanceof Error&&n.message&&(e+=" Erro: ".concat(n.message)),a({title:"Erro ao Salvar",message:e})}else a({title:"Erro",message:"Usu\xe1rio n\xe3o autenticado. Fa\xe7a login novamente."})},className:"px-6 py-2 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Yn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Salvar"})]})]})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-brand-light-gray dark:border-gray-700 p-4",children:(0,Oe.jsx)("nav",{className:"space-y-2",children:z.map(e=>{const t=e.icon;return(0,Oe.jsxs)("button",{onClick:()=>c(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-colors ".concat(l===e.id?"bg-brand-red text-white":"text-brand-gray dark:text-gray-50 hover:bg-brand-light-gray/30 dark:hover:bg-gray-700/30"),children:[(0,Oe.jsx)(t,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{className:"font-medium",children:e.label})]},e.id)})})})}),(0,Oe.jsx)("div",{className:"lg:col-span-3",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-brand-light-gray dark:border-gray-700 p-6",children:["boards"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-4",children:"Configura\xe7\xf5es de Quadros"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Colunas Padr\xe3o para Novos Quadros"}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[p.defaultColumns.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"text",value:e,onChange:e=>{const r=[...p.defaultColumns];r[t]=e.target.value,x((0,De.A)((0,De.A)({},p),{},{defaultColumns:r}))},className:"flex-1 p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}),p.defaultColumns.length>2&&(0,Oe.jsx)("button",{onClick:()=>{const e=p.defaultColumns.filter((e,r)=>r!==t);x((0,De.A)((0,De.A)({},p),{},{defaultColumns:e}))},className:"p-2 text-brand-red hover:bg-brand-red/10 rounded-lg transition-colors",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]},t)),(0,Oe.jsxs)("button",{onClick:()=>{x((0,De.A)((0,De.A)({},p),{},{defaultColumns:[...p.defaultColumns,"Coluna ".concat(p.defaultColumns.length+1)]}))},className:"flex items-center space-x-2 text-brand-blue hover:text-brand-blue-dark transition-colors",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Adicionar Coluna"})]})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Salvamento Autom\xe1tico"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Salvar altera\xe7\xf5es automaticamente"})]}),(0,Oe.jsx)("button",{onClick:()=>x((0,De.A)((0,De.A)({},p),{},{autoSave:!p.autoSave})),className:"w-12 h-6 rounded-full transition-colors ".concat(p.autoSave?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(p.autoSave?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Mostrar Contagem de Cards"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Exibir n\xfamero de cards por coluna"})]}),(0,Oe.jsx)("button",{onClick:()=>x((0,De.A)((0,De.A)({},p),{},{showCardCount:!p.showCardCount})),className:"w-12 h-6 rounded-full transition-colors ".concat(p.showCardCount?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(p.showCardCount?"translate-x-6":"translate-x-1")})})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Permitir Duplica\xe7\xe3o"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Duplicar cards existentes"})]}),(0,Oe.jsx)("button",{onClick:()=>x((0,De.A)((0,De.A)({},p),{},{allowCardDuplication:!p.allowCardDuplication})),className:"w-12 h-6 rounded-full transition-colors ".concat(p.allowCardDuplication?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(p.allowCardDuplication?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Rastreamento de Tempo"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Cron\xf4metro para cards"})]}),(0,Oe.jsx)("button",{onClick:()=>x((0,De.A)((0,De.A)({},p),{},{enableTimeTracking:!p.enableTimeTracking})),className:"w-12 h-6 rounded-full transition-colors ".concat(p.enableTimeTracking?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(p.enableTimeTracking?"translate-x-6":"translate-x-1")})})]})]})]})]})]})}),"cards"===l&&(0,Oe.jsx)("div",{className:"space-y-8",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-6",children:"Configura\xe7\xf5es de Cards"}),(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/20 rounded-xl p-6 mb-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center",children:[(0,Oe.jsx)("span",{className:"w-2 h-2 bg-brand-blue rounded-full mr-3"}),"Configura\xe7\xf5es B\xe1sicas"]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Status Padr\xe3o"}),(0,Oe.jsx)("input",{type:"text",value:e.defaultStatus,onChange:e=>t({defaultStatus:e.target.value}),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",placeholder:"Ex: A Fazer"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"M\xe1ximo de Tags por Card"}),(0,Oe.jsx)("input",{type:"number",value:e.maxTagsPerCard,onChange:e=>t({maxTagsPerCard:parseInt(e.target.value)||5}),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",min:"1",max:"10"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Mostrar Data de Vencimento"})}),(0,Oe.jsx)("button",{onClick:()=>t({showDueDate:!e.showDueDate}),className:"w-12 h-6 rounded-full transition-colors ".concat(e.showDueDate?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(e.showDueDate?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Mostrar Respons\xe1vel"})}),(0,Oe.jsx)("button",{onClick:()=>t({showAssignee:!e.showAssignee}),className:"w-12 h-6 rounded-full transition-colors ".concat(e.showAssignee?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(e.showAssignee?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Mostrar Tags"})}),(0,Oe.jsx)("button",{onClick:()=>t({showTags:!e.showTags}),className:"w-12 h-6 rounded-full transition-colors ".concat(e.showTags?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(e.showTags?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Permitir Coment\xe1rios"})}),(0,Oe.jsx)("button",{onClick:()=>t({allowComments:!e.allowComments}),className:"w-12 h-6 rounded-full transition-colors ".concat(e.allowComments?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(e.allowComments?"translate-x-6":"translate-x-1")})})]})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/20 rounded-xl p-6 mb-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center",children:[(0,Oe.jsx)("span",{className:"w-2 h-2 bg-brand-red rounded-full mr-3"}),"Prioridades"]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Prioridade Padr\xe3o"}),(0,Oe.jsxs)("select",{value:e.defaultPriority,onChange:e=>t({defaultPriority:e.target.value}),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"low",children:"Baixa"}),(0,Oe.jsx)("option",{value:"medium",children:"Normal"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"critical",children:"Cr\xedtica"})]})]})}),(0,Oe.jsxs)("div",{className:"mt-6",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-4",children:"Cores das Prioridades"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cr\xedtica"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"color",value:e.priorityColors.critical,onChange:r=>t({priorityColors:(0,De.A)((0,De.A)({},e.priorityColors),{},{critical:r.target.value})}),className:"w-12 h-10 border border-brand-light-gray rounded-lg cursor-pointer"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/70",children:e.priorityColors.critical})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Alta"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"color",value:e.priorityColors.high,onChange:r=>t({priorityColors:(0,De.A)((0,De.A)({},e.priorityColors),{},{high:r.target.value})}),className:"w-12 h-10 border border-brand-light-gray rounded-lg cursor-pointer"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/70",children:e.priorityColors.high})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Normal"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"color",value:e.priorityColors.medium,onChange:r=>t({priorityColors:(0,De.A)((0,De.A)({},e.priorityColors),{},{medium:r.target.value})}),className:"w-12 h-10 border border-brand-light-gray rounded-lg cursor-pointer"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/70",children:e.priorityColors.medium})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Baixa"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"color",value:e.priorityColors.low,onChange:r=>t({priorityColors:(0,De.A)((0,De.A)({},e.priorityColors),{},{low:r.target.value})}),className:"w-12 h-10 border border-brand-light-gray rounded-lg cursor-pointer"}),(0,Oe.jsx)("span",{className:"text-sm text-brand-gray/70",children:e.priorityColors.low})]})]})]})]}),(0,Oe.jsxs)("div",{className:"mt-6",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Preview das Prioridades"}),(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Oe.jsx)("span",{className:"px-3 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:e.priorityColors.critical},children:"Cr\xedtica"}),(0,Oe.jsx)("span",{className:"px-3 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:e.priorityColors.high},children:"Alta"}),(0,Oe.jsx)("span",{className:"px-3 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:e.priorityColors.medium},children:"Normal"}),(0,Oe.jsx)("span",{className:"px-3 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:e.priorityColors.low},children:"Baixa"})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-brand-light-gray/20 rounded-xl p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-brand-gray mb-4 flex items-center",children:[(0,Oe.jsx)("span",{className:"w-2 h-2 bg-brand-purple rounded-full mr-3"}),"Tags Personalizadas"]}),(0,Oe.jsx)("div",{className:"bg-brand-light-gray/30 rounded-xl p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome da Tag"}),(0,Oe.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Ex: Urgente, Bug, Feature",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Tipo"}),(0,Oe.jsxs)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"priority",children:"Prioridade"}),(0,Oe.jsx)("option",{value:"category",children:"Categoria"}),(0,Oe.jsx)("option",{value:"status",children:"Status"}),(0,Oe.jsx)("option",{value:"custom",children:"Personalizada"})]})]}),(0,Oe.jsx)("div",{className:"flex space-x-2",children:null===j?(0,Oe.jsxs)("button",{onClick:()=>{if(!b.trim())return void r("Campo Obrigat\xf3rio","Por favor, insira um nome para a tag.");const a={id:Date.now(),name:b.trim(),type:y};t({customTags:[...e.customTags,a]}),v(""),w("category")},className:"flex-1 px-4 py-3 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors flex items-center justify-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Adicionar"})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("button",{onClick:()=>{b.trim()&&null!==j?(t({customTags:e.customTags.map(e=>e.id===j?(0,De.A)((0,De.A)({},e),{},{name:b.trim(),type:y}):e)}),v(""),w("category"),N(null)):r("Campo Obrigat\xf3rio","Por favor, insira um nome para a tag.")},className:"flex-1 px-4 py-3 bg-brand-green text-white rounded-xl hover:bg-brand-green-dark transition-colors",children:"Atualizar"}),(0,Oe.jsx)("button",{onClick:()=>{v(""),w("category"),N(null)},className:"px-4 py-3 border border-brand-light-gray text-brand-gray rounded-xl hover:bg-brand-light-gray/30 transition-colors",children:"Cancelar"})]})})]})}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:["Tags Cadastradas (",e.customTags.length,")"]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.customTags.map(n=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-3 border border-brand-light-gray rounded-xl hover:bg-brand-light-gray/10 transition-colors",children:[(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-gray",children:n.name}),(0,Oe.jsx)("div",{className:"text-xs text-brand-gray/60 capitalize",children:n.type})]})}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)("button",{onClick:()=>(t=>{const r=e.customTags.find(e=>e.id===t);r&&(v(r.name),w(r.type),N(t))})(n.id),className:"p-1 text-brand-blue hover:bg-brand-blue/10 rounded transition-colors",title:"Editar tag",children:(0,Oe.jsx)(jt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(n=>{const s=e.customTags.find(e=>e.id===n);s&&a({title:"Excluir Tag",message:'Tem certeza que deseja excluir a tag "'.concat(s.name,'"?'),confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>{t({customTags:e.customTags.filter(e=>e.id!==n)}),setTimeout(()=>{r("Tag Exclu\xedda!","A tag foi exclu\xedda com sucesso.")},300)},onCancel:()=>{}})})(n.id),className:"p-1 text-brand-red hover:bg-brand-red/10 rounded transition-colors",title:"Excluir tag",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})]},n.id))}),0===e.customTags.length&&(0,Oe.jsxs)("div",{className:"text-center py-8 text-brand-gray/60",children:[(0,Oe.jsx)("p",{children:"Nenhuma tag personalizada cadastrada"}),(0,Oe.jsx)("p",{className:"text-sm",children:"Adicione tags para organizar melhor seus cards"})]})]}),e.customTags.length>0&&(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Preview das Tags Personalizadas"}),(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:e.customTags.map(e=>(0,Oe.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-brand-light-gray text-brand-gray font-medium",children:e.name},e.id))})]})]})]})}),"visual"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray dark:text-gray-50 mb-4",children:"Configura\xe7\xf5es Visuais"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray dark:text-gray-50 mb-2",children:"Tema"}),(0,Oe.jsxs)("select",{value:k.theme,onChange:e=>C((0,De.A)((0,De.A)({},k),{},{theme:e.target.value})),className:"w-full p-3 border border-brand-light-gray dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-50",children:[(0,Oe.jsx)("option",{value:"light",children:"Claro"}),(0,Oe.jsx)("option",{value:"dark",children:"Escuro"}),(0,Oe.jsx)("option",{value:"auto",children:"Autom\xe1tico"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray dark:text-gray-50 mb-2",children:"Estilo dos Cards"}),(0,Oe.jsxs)("select",{value:k.cardStyle,onChange:e=>C((0,De.A)((0,De.A)({},k),{},{cardStyle:e.target.value})),className:"w-full p-3 border border-brand-light-gray dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-50",children:[(0,Oe.jsx)("option",{value:"rounded",children:"Arredondado"}),(0,Oe.jsx)("option",{value:"sharp",children:"Pontiagudo"}),(0,Oe.jsx)("option",{value:"minimal",children:"Minimalista"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray dark:text-gray-50 mb-2",children:"Velocidade das Anima\xe7\xf5es"}),(0,Oe.jsxs)("select",{value:k.animationSpeed,onChange:e=>C((0,De.A)((0,De.A)({},k),{},{animationSpeed:e.target.value})),className:"w-full p-3 border border-brand-light-gray dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue bg-white dark:bg-gray-700 text-brand-gray dark:text-gray-50",children:[(0,Oe.jsx)("option",{value:"slow",children:"Lenta"}),(0,Oe.jsx)("option",{value:"normal",children:"Normal"}),(0,Oe.jsx)("option",{value:"fast",children:"R\xe1pida"}),(0,Oe.jsx)("option",{value:"none",children:"Sem anima\xe7\xf5es"})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray dark:text-gray-50",children:"Mostrar Avatares"})}),(0,Oe.jsx)("button",{onClick:()=>C((0,De.A)((0,De.A)({},k),{},{showAvatars:!k.showAvatars})),className:"w-12 h-6 rounded-full transition-colors ".concat(k.showAvatars?"bg-brand-red":"bg-brand-light-gray dark:bg-gray-600"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(k.showAvatars?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray dark:text-gray-50",children:"Modo Compacto"})}),(0,Oe.jsx)("button",{onClick:()=>C((0,De.A)((0,De.A)({},k),{},{compactMode:!k.compactMode})),className:"w-12 h-6 rounded-full transition-colors ".concat(k.compactMode?"bg-brand-red":"bg-brand-light-gray dark:bg-gray-600"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(k.compactMode?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray dark:text-gray-50",children:"Linhas da Grade"})}),(0,Oe.jsx)("button",{onClick:()=>C((0,De.A)((0,De.A)({},k),{},{showGridLines:!k.showGridLines})),className:"w-12 h-6 rounded-full transition-colors ".concat(k.showGridLines?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(k.showGridLines?"translate-x-6":"translate-x-1")})})]})]})]})]})}),"user"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-4",children:"Configura\xe7\xf5es de Usu\xe1rio"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome"}),(0,Oe.jsx)("input",{type:"text",value:S.name,onChange:e=>_((0,De.A)((0,De.A)({},S),{},{name:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Email"}),(0,Oe.jsx)("input",{type:"email",value:S.email,onChange:e=>_((0,De.A)((0,De.A)({},S),{},{email:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Fuso Hor\xe1rio"}),(0,Oe.jsxs)("select",{value:S.timezone,onChange:e=>_((0,De.A)((0,De.A)({},S),{},{timezone:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"America/Sao_Paulo",children:"S\xe3o Paulo (GMT-3)"}),(0,Oe.jsx)("option",{value:"America/New_York",children:"Nova York (GMT-5)"}),(0,Oe.jsx)("option",{value:"Europe/London",children:"Londres (GMT+0)"}),(0,Oe.jsx)("option",{value:"Asia/Tokyo",children:"T\xf3quio (GMT+9)"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Idioma"}),(0,Oe.jsxs)("select",{value:S.language,onChange:e=>_((0,De.A)((0,De.A)({},S),{},{language:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"pt-BR",children:"Portugu\xeas (Brasil)"}),(0,Oe.jsx)("option",{value:"en-US",children:"English (US)"}),(0,Oe.jsx)("option",{value:"es-ES",children:"Espa\xf1ol"}),(0,Oe.jsx)("option",{value:"fr-FR",children:"Fran\xe7ais"})]})]})]})})]})}),"notifications"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-4",children:"Configura\xe7\xf5es de Notifica\xe7\xf5es"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Card Atribu\xeddo"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Quando um card for atribu\xeddo a voc\xea"})]}),(0,Oe.jsx)("button",{onClick:()=>_((0,De.A)((0,De.A)({},S),{},{notifications:(0,De.A)((0,De.A)({},S.notifications),{},{cardAssigned:!S.notifications.cardAssigned})})),className:"w-12 h-6 rounded-full transition-colors ".concat(S.notifications.cardAssigned?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(S.notifications.cardAssigned?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Lembrete de Data de Vencimento"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"24h antes do vencimento"})]}),(0,Oe.jsx)("button",{onClick:()=>_((0,De.A)((0,De.A)({},S),{},{notifications:(0,De.A)((0,De.A)({},S.notifications),{},{dueDateReminder:!S.notifications.dueDateReminder})})),className:"w-12 h-6 rounded-full transition-colors ".concat(S.notifications.dueDateReminder?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(S.notifications.dueDateReminder?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Atualiza\xe7\xf5es do Quadro"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Quando o quadro for modificado"})]}),(0,Oe.jsx)("button",{onClick:()=>_((0,De.A)((0,De.A)({},S),{},{notifications:(0,De.A)((0,De.A)({},S.notifications),{},{boardUpdates:!S.notifications.boardUpdates})})),className:"w-12 h-6 rounded-full transition-colors ".concat(S.notifications.boardUpdates?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(S.notifications.boardUpdates?"translate-x-6":"translate-x-1")})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-brand-gray",children:"Men\xe7\xf5es"}),(0,Oe.jsx)("p",{className:"text-xs text-brand-gray/60",children:"Quando voc\xea for mencionado em coment\xe1rios"})]}),(0,Oe.jsx)("button",{onClick:()=>_((0,De.A)((0,De.A)({},S),{},{notifications:(0,De.A)((0,De.A)({},S.notifications),{},{mentions:!S.notifications.mentions})})),className:"w-12 h-6 rounded-full transition-colors ".concat(S.notifications.mentions?"bg-brand-red":"bg-brand-light-gray"),children:(0,Oe.jsx)("div",{className:"w-4 h-4 bg-white rounded-full transition-transform ".concat(S.notifications.mentions?"translate-x-6":"translate-x-1")})})]})]})]})}),"users"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Gerenciamento de Usu\xe1rios"}),(0,Oe.jsxs)("button",{onClick:()=>{L({username:"",email:"",password:"",role:"user",cargo:"",is_active:!0}),P(!0)},className:"px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Novo Usu\xe1rio"})]})]}),(0,Oe.jsx)("div",{className:"bg-white rounded-xl border border-brand-light-gray overflow-hidden",children:(0,Oe.jsx)("div",{className:"overflow-x-auto",children:(0,Oe.jsxs)("table",{className:"w-full",children:[(0,Oe.jsx)("thead",{className:"bg-brand-light-gray/30",children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"Usu\xe1rio"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"Email"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"Cargo"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"Fun\xe7\xe3o"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"Status"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-brand-gray uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,Oe.jsx)("tbody",{className:"bg-white divide-y divide-brand-light-gray",children:E.map(e=>(0,Oe.jsxs)("tr",{className:"hover:bg-brand-light-gray/10",children:[(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-sm font-medium text-brand-red",children:e.username.charAt(0).toUpperCase()})}),(0,Oe.jsx)("div",{className:"ml-3",children:(0,Oe.jsx)("div",{className:"text-sm font-medium text-brand-gray",children:e.username})})]})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-gray",children:e.email}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-gray",children:e.cargo}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(F(e.role)),children:U(e.role)})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_active?"Ativo":"Inativo"})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>{I(e),O(!0)},className:"text-brand-blue hover:text-brand-blue-dark",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{a({title:"Confirmar Exclus\xe3o",message:"Tem certeza que deseja excluir este usu\xe1rio? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:async()=>{try{T(E.filter(t=>t.id!==e)),r("Usu\xe1rio Exclu\xeddo!","Usu\xe1rio exclu\xeddo com sucesso.")}catch(t){console.error("Erro ao excluir usu\xe1rio:",t),a({title:"Erro",message:"N\xe3o foi poss\xedvel excluir o usu\xe1rio."})}}})})(e.id),className:"text-brand-red hover:text-brand-red-dark",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})}),"security"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-4",children:"Configura\xe7\xf5es de Seguran\xe7a"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Autentica\xe7\xe3o de Dois Fatores"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Adicione uma camada extra de seguran\xe7a"})]}),(0,Oe.jsx)("button",{className:"px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Configurar"})]})}),(0,Oe.jsx)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Sess\xf5es Ativas"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Gerencie suas sess\xf5es de login"})]}),(0,Oe.jsx)("button",{className:"px-4 py-2 border border-brand-light-gray text-brand-gray rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:"Ver Sess\xf5es"})]})}),(0,Oe.jsx)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Alterar Senha"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Atualize sua senha regularmente"})]}),(0,Oe.jsx)("button",{className:"px-4 py-2 border border-brand-light-gray text-brand-gray rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:"Alterar"})]})})]})]})}),"data"===l&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray mb-4",children:"Gerenciamento de Dados"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)(Cs,{className:"w-5 h-5 text-brand-blue"}),(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Exportar Dados"})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-4",children:"Fa\xe7a backup de todos os seus quadros, cards e configura\xe7\xf5es"}),(0,Oe.jsx)("button",{onClick:()=>m(!0),className:"w-full px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:"Exportar"})]}),(0,Oe.jsxs)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)(Ss,{className:"w-5 h-5 text-brand-green"}),(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Importar Dados"})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-4",children:"Restaure dados de um backup anterior"}),(0,Oe.jsx)("button",{onClick:()=>f(!0),className:"w-full px-4 py-2 bg-brand-green text-white rounded-lg hover:bg-brand-green-dark transition-colors",children:"Importar"})]}),(0,Oe.jsxs)("div",{className:"p-4 border border-brand-light-gray rounded-xl",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)(Fn,{className:"w-5 h-5 text-brand-red"}),(0,Oe.jsx)("h3",{className:"font-medium text-brand-gray",children:"Excluir Conta"})]}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-4",children:"Exclua permanentemente sua conta e todos os dados"}),(0,Oe.jsx)("button",{onClick:()=>u(!0),className:"w-full px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Excluir Conta"})]})]})]})})]})})]})]}),h&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Exportar Dados"}),(0,Oe.jsx)("button",{onClick:()=>m(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Todos os seus dados ser\xe3o exportados em formato JSON, incluindo:"}),(0,Oe.jsxs)("ul",{className:"text-sm text-brand-gray/60 space-y-1",children:[(0,Oe.jsx)("li",{children:"\u2022 Todos os quadros e cards"}),(0,Oe.jsx)("li",{children:"\u2022 Configura\xe7\xf5es personalizadas"}),(0,Oe.jsx)("li",{children:"\u2022 Templates criados"}),(0,Oe.jsx)("li",{children:"\u2022 Hist\xf3rico de atividades"})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{const t={boardSettings:p,cardSettings:e,visualSettings:k,userSettings:S,exportDate:(new Date).toISOString()},r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download="kanban-settings-".concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(a),m(!1)},className:"px-6 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:"Exportar"})]})]})]})})}),d&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(We,{className:"w-5 h-5 text-brand-red"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Excluir Conta"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Tem certeza que deseja excluir sua conta? Todos os dados ser\xe3o perdidos permanentemente."}),(0,Oe.jsx)("div",{className:"p-3 bg-brand-red/5 border border-brand-red/20 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-red",children:[(0,Oe.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Esta a\xe7\xe3o excluir\xe1 todos os seus quadros, cards, configura\xe7\xf5es e dados pessoais."]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{r("Funcionalidade em Desenvolvimento","A funcionalidade de exclus\xe3o de conta ser\xe1 implementada em breve."),u(!1)},className:"px-6 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Excluir Conta"})]})]})]})})}),A&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Criar Novo Usu\xe1rio"}),(0,Oe.jsx)("button",{onClick:()=>P(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome de Usu\xe1rio *"}),(0,Oe.jsx)("input",{type:"text",value:M.username,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{username:e.target.value})),placeholder:"Digite o nome de usu\xe1rio",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Email *"}),(0,Oe.jsx)("input",{type:"email",value:M.email,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{email:e.target.value})),placeholder:"Digite o email",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Senha *"}),(0,Oe.jsx)("input",{type:"password",value:M.password,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{password:e.target.value})),placeholder:"Digite a senha",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cargo"}),(0,Oe.jsx)("input",{type:"text",value:M.cargo,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{cargo:e.target.value})),placeholder:"Digite o cargo",className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Fun\xe7\xe3o"}),(0,Oe.jsxs)("select",{value:M.role,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{role:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red",children:[(0,Oe.jsx)("option",{value:"user",children:"Usu\xe1rio"}),(0,Oe.jsx)("option",{value:"manager",children:"Gerente"}),(0,Oe.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("input",{type:"checkbox",id:"is_active",checked:M.is_active,onChange:e=>L((0,De.A)((0,De.A)({},M),{},{is_active:e.target.checked})),className:"w-4 h-4 text-brand-red border-brand-light-gray rounded focus:ring-brand-red"}),(0,Oe.jsx)("label",{htmlFor:"is_active",className:"text-sm text-brand-gray",children:"Usu\xe1rio ativo"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>P(!1),className:"px-4 py-2 border border-brand-light-gray text-brand-gray rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:async()=>{if(M.username&&M.email&&M.password)try{const e=(0,De.A)({id:Date.now()},M);T([...E,e]),P(!1),L({username:"",email:"",password:"",role:"user",cargo:"",is_active:!0}),r("Usu\xe1rio Criado!","Usu\xe1rio criado com sucesso.")}catch(e){console.error("Erro ao criar usu\xe1rio:",e),a({title:"Erro",message:"N\xe3o foi poss\xedvel criar o usu\xe1rio."})}else a({title:"Erro",message:"Por favor, preencha todos os campos obrigat\xf3rios."})},className:"px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Criar Usu\xe1rio"})]})]})})}),D&&R&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-bold text-brand-gray",children:"Editar Usu\xe1rio"}),(0,Oe.jsx)("button",{onClick:()=>O(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome de Usu\xe1rio"}),(0,Oe.jsx)("input",{type:"text",value:R.username,onChange:e=>I((0,De.A)((0,De.A)({},R),{},{username:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Email"}),(0,Oe.jsx)("input",{type:"email",value:R.email,onChange:e=>I((0,De.A)((0,De.A)({},R),{},{email:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cargo"}),(0,Oe.jsx)("input",{type:"text",value:R.cargo,onChange:e=>I((0,De.A)((0,De.A)({},R),{},{cargo:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Fun\xe7\xe3o"}),(0,Oe.jsxs)("select",{value:R.role,onChange:e=>I((0,De.A)((0,De.A)({},R),{},{role:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red",children:[(0,Oe.jsx)("option",{value:"user",children:"Usu\xe1rio"}),(0,Oe.jsx)("option",{value:"manager",children:"Gerente"}),(0,Oe.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("input",{type:"checkbox",id:"edit_is_active",checked:R.is_active,onChange:e=>I((0,De.A)((0,De.A)({},R),{},{is_active:e.target.checked})),className:"w-4 h-4 text-brand-red border-brand-light-gray rounded focus:ring-brand-red"}),(0,Oe.jsx)("label",{htmlFor:"edit_is_active",className:"text-sm text-brand-gray",children:"Usu\xe1rio ativo"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-brand-light-gray text-brand-gray rounded-lg hover:bg-brand-light-gray/30 transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:async()=>{if(R)try{T(E.map(e=>e.id===R.id?R:e)),O(!1),I(null),r("Usu\xe1rio Atualizado!","Usu\xe1rio atualizado com sucesso.")}catch(e){console.error("Erro ao atualizar usu\xe1rio:",e),a({title:"Erro",message:"N\xe3o foi poss\xedvel atualizar o usu\xe1rio."})}},className:"px-4 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Salvar Altera\xe7\xf5es"})]})]})})})]})},Es=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ts=Be("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),As=()=>{var e;const{user:t,logout:r}=Me(),{addToast:a}=Qe(),[s,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[f,p]=(0,n.useState)({id:(null===t||void 0===t?void 0:t.id)||1,username:(null===t||void 0===t?void 0:t.username)||"admin",email:(null===t||void 0===t?void 0:t.email)||"admin@boodesk.com",fullName:(null===t||void 0===t?void 0:t.username)||"Administrador do Sistema",role:(null===t||void 0===t?void 0:t.role)||"admin",cargo:(null===t||void 0===t?void 0:t.cargo)||"Administrador",phone:"+55 (11) 99999-9999",location:"S\xe3o Paulo, SP",bio:"Administrador do sistema Boodesk com foco em gest\xe3o de projetos e equipes.",avatar:(null===t||void 0===t||null===(e=t.username)||void 0===e?void 0:e.charAt(0).toUpperCase())||"A",memberSince:(null===t||void 0===t?void 0:t.created_at)||"2024-01-15",lastLogin:(null===t||void 0===t?void 0:t.updated_at)||"2024-08-29 10:30:00",preferences:{theme:"light",language:"pt-BR",notifications:{email:!0,push:!0,sound:!1},privacy:{showEmail:!0,showPhone:!1,showLocation:!0}}}),[x,b]=(0,n.useState)(f),[v,y]=(0,n.useState)({currentPassword:"",newPassword:"",confirmPassword:""});return(0,Oe.jsxs)("div",{className:"min-h-screen bg-brand-light-gray/30 p-6",children:[(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-light-gray p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray",children:"Perfil do Usu\xe1rio"}),(0,Oe.jsx)("p",{className:"text-brand-gray/60 mt-1",children:"Gerencie suas informa\xe7\xf5es pessoais e configura\xe7\xf5es"})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:s?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("button",{onClick:()=>{b(f),o(!1)},className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 border border-brand-light-gray rounded-xl transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Ge,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Cancelar"})]}),(0,Oe.jsxs)("button",{onClick:()=>{p(x),o(!1),console.log("Perfil salvo:",x),a({type:"success",title:"Perfil atualizado",message:"Suas informa\xe7\xf5es foram salvas com sucesso!"})},className:"px-4 py-2 bg-brand-red text-white rounded-xl hover:bg-brand-red-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Yn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Salvar"})]})]}):(0,Oe.jsxs)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-brand-blue text-white rounded-xl hover:bg-brand-blue-dark transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Un,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Editar"})]})})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-light-gray p-6",children:(0,Oe.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("div",{className:"w-24 h-24 bg-brand-green rounded-full flex items-center justify-center text-white text-2xl font-bold",children:f.avatar}),(0,Oe.jsx)("button",{onClick:()=>h(!0),className:"absolute -bottom-2 -right-2 w-8 h-8 bg-brand-blue text-white rounded-full flex items-center justify-center hover:bg-brand-blue-dark transition-colors",children:(0,Oe.jsx)(Es,{className:"w-4 h-4"})})]}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome Completo"}),s?(0,Oe.jsx)("input",{type:"text",value:x.fullName,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{fullName:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.fullName})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nome de Usu\xe1rio"}),s?(0,Oe.jsx)("input",{type:"text",value:x.username,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{username:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsxs)("p",{className:"text-brand-gray font-medium",children:["@",f.username]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Email"}),s?(0,Oe.jsx)("input",{type:"email",value:x.email,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{email:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.email})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Telefone"}),s?(0,Oe.jsx)("input",{type:"tel",value:x.phone,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{phone:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.phone})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Localiza\xe7\xe3o"}),s?(0,Oe.jsx)("input",{type:"text",value:x.location,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{location:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.location})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Cargo"}),s?(0,Oe.jsx)("input",{type:"text",value:x.cargo,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{cargo:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.cargo})]})]}),(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Biografia"}),s?(0,Oe.jsx)("textarea",{value:x.bio,onChange:e=>b((0,De.A)((0,De.A)({},x),{},{bio:e.target.value})),rows:3,className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}):(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:f.bio})]})]})]})}),(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-light-gray p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray mb-4",children:"Informa\xe7\xf5es da Conta"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(ft,{className:"w-5 h-5 text-brand-gray/60"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Membro desde"}),(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:new Date(f.memberSince).toLocaleDateString("pt-BR")})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(it,{className:"w-5 h-5 text-brand-gray/60"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"N\xedvel de acesso"}),(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:f.role})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(ft,{className:"w-5 h-5 text-brand-gray/60"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"\xdaltimo login"}),(0,Oe.jsx)("p",{className:"text-brand-gray font-medium",children:new Date(f.lastLogin).toLocaleString("pt-BR")})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(ks,{className:"w-5 h-5 text-brand-gray/60"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Status da conta"}),(0,Oe.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Ativa"})]})]})]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-light-gray p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray mb-4",children:"Configura\xe7\xf5es"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Tema"}),(0,Oe.jsxs)("select",{value:f.preferences.theme,onChange:e=>p((0,De.A)((0,De.A)({},f),{},{preferences:(0,De.A)((0,De.A)({},f.preferences),{},{theme:e.target.value})})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"light",children:"Claro"}),(0,Oe.jsx)("option",{value:"dark",children:"Escuro"}),(0,Oe.jsx)("option",{value:"auto",children:"Autom\xe1tico"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Idioma"}),(0,Oe.jsxs)("select",{value:f.preferences.language,onChange:e=>p((0,De.A)((0,De.A)({},f),{},{preferences:(0,De.A)((0,De.A)({},f.preferences),{},{language:e.target.value})})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[(0,Oe.jsx)("option",{value:"pt-BR",children:"Portugu\xeas (Brasil)"}),(0,Oe.jsx)("option",{value:"en-US",children:"English (US)"}),(0,Oe.jsx)("option",{value:"es-ES",children:"Espa\xf1ol"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-brand-light-gray p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:()=>l(!0),className:"w-full flex items-center space-x-3 p-3 text-brand-gray hover:bg-brand-light-gray/30 rounded-xl transition-colors",children:[(0,Oe.jsx)(Ts,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Alterar Senha"})]}),(0,Oe.jsxs)("button",{onClick:()=>{},className:"w-full flex items-center space-x-3 p-3 text-brand-gray hover:bg-brand-light-gray/30 rounded-xl transition-colors",children:[(0,Oe.jsx)(Et,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Notifica\xe7\xf5es"})]}),(0,Oe.jsxs)("button",{onClick:()=>{},className:"w-full flex items-center space-x-3 p-3 text-brand-gray hover:bg-brand-light-gray/30 rounded-xl transition-colors",children:[(0,Oe.jsx)(ks,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Privacidade"})]}),(0,Oe.jsxs)("button",{onClick:r,className:"w-full flex items-center space-x-3 p-3 text-brand-red hover:bg-brand-red/10 rounded-xl transition-colors",children:[(0,Oe.jsx)(At,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Sair"})]}),(0,Oe.jsxs)("button",{onClick:()=>d(!0),className:"w-full flex items-center space-x-3 p-3 text-brand-red hover:bg-brand-red/10 rounded-xl transition-colors",children:[(0,Oe.jsx)(Fn,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:"Excluir Conta"})]})]})]})]})]})]}),i&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Alterar Senha"}),(0,Oe.jsx)("button",{onClick:()=>l(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Senha Atual"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("input",{type:m?"text":"password",value:v.currentPassword,onChange:e=>y((0,De.A)((0,De.A)({},v),{},{currentPassword:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue pr-10"}),(0,Oe.jsx)("button",{onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-brand-gray/50 hover:text-brand-gray",children:m?(0,Oe.jsx)(ct,{className:"w-4 h-4"}):(0,Oe.jsx)(dt,{className:"w-4 h-4"})})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Nova Senha"}),(0,Oe.jsx)("input",{type:"password",value:v.newPassword,onChange:e=>y((0,De.A)((0,De.A)({},v),{},{newPassword:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-brand-gray mb-2",children:"Confirmar Nova Senha"}),(0,Oe.jsx)("input",{type:"password",value:v.confirmPassword,onChange:e=>y((0,De.A)((0,De.A)({},v),{},{confirmPassword:e.target.value})),className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{v.newPassword===v.confirmPassword?(console.log("Senha alterada:",v),l(!1),y({currentPassword:"",newPassword:"",confirmPassword:""}),a({type:"success",title:"Senha alterada",message:"Sua senha foi atualizada com sucesso!"})):a({type:"error",title:"Erro na altera\xe7\xe3o",message:"As senhas n\xe3o coincidem!"})},className:"px-6 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:"Alterar Senha"})]})]})]})})}),u&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Alterar Foto de Perfil"}),(0,Oe.jsx)("button",{onClick:()=>h(!1),className:"p-2 text-brand-gray/50 hover:text-brand-gray",children:(0,Oe.jsx)(Ge,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-32 h-32 bg-brand-green rounded-full flex items-center justify-center text-white text-4xl font-bold mx-auto mb-4",children:f.avatar}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60 mb-4",children:"Selecione uma nova imagem para seu perfil"})]}),(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(console.log("Avatar upload:",r),h(!1))},className:"w-full p-3 border border-brand-light-gray rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-blue"}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue-dark transition-colors",children:"Upload"})]})]})]})})}),c&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 shadow-xl",children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-brand-red/10 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(Fn,{className:"w-5 h-5 text-brand-red"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-brand-gray",children:"Excluir Conta"}),(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsx)("p",{className:"text-sm text-brand-gray/60",children:"Tem certeza que deseja excluir sua conta? Todos os dados ser\xe3o perdidos permanentemente."}),(0,Oe.jsx)("div",{className:"p-3 bg-brand-red/5 border border-brand-red/20 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-brand-red",children:[(0,Oe.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Esta a\xe7\xe3o excluir\xe1 todos os seus quadros, cards, configura\xe7\xf5es e dados pessoais."]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Oe.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 text-brand-gray hover:bg-brand-light-gray/30 rounded-lg transition-colors",children:"Cancelar"}),(0,Oe.jsx)("button",{onClick:()=>{console.log("Conta deletada"),r()},className:"px-6 py-2 bg-brand-red text-white rounded-lg hover:bg-brand-red-dark transition-colors",children:"Excluir Conta"})]})]})]})})})]})},Ps=Be("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]),Ds=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Os=Be("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Rs=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Is=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ms=()=>{const{user:e}=Me(),{hasPermission:t}=Xe(),{addToast:r}=Qe(),{getPriorityColor:a,getPriorityTextColor:s}=rt(),o=e=>{switch(e.toLowerCase()){case"critical":return"Urgente";case"high":return"Alta";case"medium":return"Normal";case"low":return"Baixa";default:return e}},i=e=>{switch(e.toLowerCase()){case"critical":case"urgent":return"#DC2626";case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},l=e=>(e.toLowerCase(),"#FFFFFF"),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(null),[m,g]=(0,n.useState)(!0),[f,p]=(0,n.useState)(""),[x,b]=(0,n.useState)("all"),[v,y]=(0,n.useState)("all"),[w,j]=(0,n.useState)("all"),[N,k]=(0,n.useState)(new Set),[C,S]=(0,n.useState)("list"),_=async()=>{g(!0);try{if(null===e||void 0===e||!e.id)return;const r=await An.getBoards(e.id);let a=[];for(const e of r)try{const t=await An.getCardsForBoard(e.board_id);t&&t.length>0&&(a=[...a,...t])}catch(t){console.log("Board ".concat(e.name," n\xe3o encontrado ou exclu\xeddo, pulando..."));continue}for(const e of a)try{const t=await An.getSubtasksForCard(e.card_id);e.subtasks=t}catch(t){console.error("Erro ao carregar subtarefas para card ".concat(e.card_id,":"),t),e.subtasks=[]}const n=a.map(e=>{let t="medium";if(e.importance){const r=e.importance.toLowerCase();"critical"===r||"urgent"===r?t="urgent":"high"===r||"alta"===r?t="high":"medium"===r||"normal"===r||"m\xe9dia"===r?t="medium":"low"!==r&&"baixa"!==r||(t="low")}const r=(e.subtasks||[]).map(t=>{let r="medium";if(t.importance){const e=t.importance.toLowerCase();"critical"===e||"urgent"===e?r="urgent":"high"===e||"alta"===e?r="high":"medium"===e||"normal"===e||"m\xe9dia"===e?r="medium":"low"!==e&&"baixa"!==e||(r="low")}return{id:t.subtask_id,type:"subtask",title:t.title,description:t.description,status:t.status,priority:r,dueDate:t.due_date,members:t.assigned_to?[t.assigned_to]:[],dependencies:[],importance:t.importance,tags:t.tags||[],estimatedTime:t.estimated_time||"0h",actualTime:t.actual_time||"0h",category:t.category||"Geral",parentCardId:e.card_id}});return{id:e.card_id,type:"card",title:e.title,description:e.description,status:e.status,priority:t,dueDate:e.due_date,members:e.members||[],dependencies:e.dependencies||[],importance:e.importance,tags:e.tags||[],estimatedTime:e.estimated_time||"0h",actualTime:e.actual_time||"0h",category:e.subject||"Geral",subtasks:r}});d(n)}catch(t){console.error("Erro ao carregar atividades:",t),r({type:"error",title:"Erro ao carregar atividades",message:"N\xe3o foi poss\xedvel carregar suas atividades."})}finally{g(!1)}};(0,n.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&_()},[null===e||void 0===e?void 0:e.id]);const E=c.filter(e=>{var t;const r=e.title.toLowerCase().includes(f.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()));let a=!0;"cards"===x?a="card"===e.type:"subtasks"===x&&(a="subtask"===e.type||"individual_subtask"===e.type);const n="all"===v||e.status===v,s="all"===w||e.priority===w;return r&&a&&n&&s}),T=e=>{switch(e){case"completed":return(0,Oe.jsx)(qe,{className:"w-4 h-4 text-green-600"});case"in_progress":return(0,Oe.jsx)(Ps,{className:"w-4 h-4 text-orange-500"});default:return(0,Oe.jsx)(Ds,{className:"w-4 h-4 text-red-400"})}},A=e=>{const t=(e=>{const t=new Date(e),r=new Date,a=t.getTime()-r.getTime();return Math.ceil(a/864e5)})(e);return t<0?"overdue":t<=3?"urgent":t<=7?"warning":"normal"},P=function(e){var t,r,a,n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const c=N.has(e.id),d=e.subtasks&&e.subtasks.length>0,m=e.dueDate&&"overdue"===A(e.dueDate),g=e.dueDate&&"urgent"===A(e.dueDate),f="subtask"===e.type||"individual_subtask"===e.type;return(0,Oe.jsx)("div",{className:"\n        ".concat(0===s?"mb-4":"mb-3","\n        ").concat(f?"ml-6":"","\n        group\n      "),children:(0,Oe.jsxs)("div",{className:"\n            relative overflow-hidden rounded-xl border transition-all duration-300 ease-in-out\n            ".concat((null===u||void 0===u?void 0:u.id)===e.id?"border-blue-500 bg-gradient-to-r from-blue-50 to-blue-100 shadow-lg shadow-blue-200/50":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-lg hover:shadow-slate-200/50","\n            ").concat(f?"border-l-4 border-l-red-400 bg-gradient-to-r from-red-50/50 to-white":"border-l-4 border-l-green-400","\n            ").concat("completed"===e.status?"opacity-75":"","\n          "),onClick:()=>h(e),children:[(0,Oe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-slate-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Oe.jsxs)("div",{className:"relative flex items-center p-5",children:[d&&(0,Oe.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),k(t)})(e.id)},className:"mr-4 p-2 hover:bg-slate-100 rounded-full transition-all duration-200 hover:scale-110",children:c?(0,Oe.jsx)(Jn,{className:"w-4 h-4 text-slate-600"}):(0,Oe.jsx)(Ct,{className:"w-4 h-4 text-slate-600"})}),(0,Oe.jsx)("div",{className:"mr-4 p-2.5 rounded-full shadow-sm ".concat(f?"bg-gradient-to-br from-red-100 to-red-200 border border-red-200":"bg-gradient-to-br from-green-100 to-green-200 border border-green-200"),children:T(e.status)}),(0,Oe.jsx)("div",{className:"mr-4",children:(0,Oe.jsx)("span",{className:"\n                 px-3 py-1.5 text-xs font-bold rounded-full border shadow-sm\n                 ".concat("card"===e.type?"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600":"bg-gradient-to-r from-red-500 to-red-600 text-white border-red-600","\n               "),children:"card"===e.type?"Tarefa":"Subtarefa"})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Oe.jsx)("h3",{className:"\n                  font-bold truncate\n                  ".concat("completed"===e.status?"line-through text-slate-400":"text-slate-800","\n                  ").concat(f?"text-sm":"text-lg","\n                  group-hover:text-slate-900 transition-colors duration-200\n                "),children:e.title}),d&&(0,Oe.jsxs)("span",{className:"text-xs text-slate-600 bg-slate-100 px-2.5 py-1 rounded-full font-semibold border border-slate-200 shadow-sm",children:[null===(t=e.subtasks)||void 0===t?void 0:t.length," subtarefa",1!==(null===(r=e.subtasks)||void 0===r?void 0:r.length)?"s":""]})]}),e.description&&(0,Oe.jsx)("p",{className:"text-slate-600 truncate leading-relaxed ".concat(f?"text-xs":"text-sm"),children:e.description})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{children:(0,Oe.jsx)("span",{className:"px-3 py-1.5 text-xs font-bold rounded-full border shadow-lg",style:{backgroundColor:i(e.priority),color:l(e.priority)},children:o(e.priority)})}),e.dueDate&&(0,Oe.jsxs)("div",{className:"text-sm font-semibold ".concat(m?"text-red-600":g?"text-orange-600":"text-green-600"),children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,Oe.jsx)(ft,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:(p=e.dueDate,new Date(p).toLocaleDateString("pt-BR"))})]}),m&&(0,Oe.jsx)("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full font-bold border border-red-200 shadow-sm",children:"\u23f0 Atrasado"}),!m&&!g&&(0,Oe.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-bold border border-green-200 shadow-sm",children:"\u2705 No prazo"})]}),e.estimatedTime&&(0,Oe.jsx)("div",{className:"text-sm text-slate-600 font-semibold",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,Oe.jsx)(Xn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:e.estimatedTime})]})}),e.tags&&e.tags.length>0&&(0,Oe.jsxs)("div",{className:"flex space-x-1.5",children:[e.tags.slice(0,2).map((e,t)=>(0,Oe.jsxs)("span",{className:"text-xs bg-slate-100 text-slate-700 px-2.5 py-1 rounded-full font-medium border border-slate-200 shadow-sm",children:["#",e]},t)),e.tags.length>2&&(0,Oe.jsxs)("span",{className:"text-xs text-slate-500 font-bold bg-slate-50 px-2 py-1 rounded-full border border-slate-200",children:["+",e.tags.length-2]})]})]})]}),d&&c&&(0,Oe.jsx)("div",{className:"bg-gradient-to-br from-red-50 via-slate-50 to-green-50 border-t border-red-200/50",children:(0,Oe.jsxs)("div",{className:"px-6 py-4",children:[(0,Oe.jsxs)("div",{className:"text-sm font-bold text-red-800 mb-3 flex items-center",children:[(0,Oe.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Subtarefas (",null===(a=e.subtasks)||void 0===a?void 0:a.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-3",children:null===(n=e.subtasks)||void 0===n?void 0:n.map(e=>P(e,s+1))})]})})]})},e.id);var p};return m?(0,Oe.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Carregando suas atividades..."})]})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100",children:[(0,Oe.jsx)("div",{className:"bg-gradient-to-br from-green-700 via-green-600 to-green-500 text-white shadow-xl",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg",children:(0,Oe.jsx)(Zn,{className:"w-6 h-6 text-white"})}),(0,Oe.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-200 bg-clip-text text-transparent",children:"Minhas Atividades"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("span",{className:"text-sm bg-gradient-to-r from-green-500/20 to-green-600/20 backdrop-blur-sm px-3 py-1.5 rounded-full font-semibold border border-white/10",children:[c.filter(e=>"card"===e.type).length," tarefas"]}),(0,Oe.jsxs)("span",{className:"text-sm bg-gradient-to-r from-red-400/20 to-red-500/20 backdrop-blur-sm px-3 py-1.5 rounded-full font-semibold border border-white/10",children:[c.filter(e=>"subtask"===e.type||"individual_subtask"===e.type).length," subtarefas"]})]})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:(0,Oe.jsxs)("button",{onClick:_,className:"flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Oe.jsx)(ps,{className:"w-4 h-4 mr-2"}),"Atualizar"]})})]})})}),(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-slate-50 via-gray-50 to-slate-100 border-b border-slate-200 shadow-sm",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Oe.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Oe.jsxs)("div",{className:"relative flex-1 min-w-64",children:[(0,Oe.jsx)(ns,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,Oe.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Buscar atividades por t\xedtulo ou descri\xe7\xe3o...",value:f,onChange:e=>p(e.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 text-lg bg-white/80 backdrop-blur-sm"})]}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 text-lg font-medium appearance-none bg-white/80 backdrop-blur-sm pr-10",children:[(0,Oe.jsx)("option",{value:"all",children:"\ud83d\udcc2 Todos os tipos"}),(0,Oe.jsx)("option",{value:"cards",children:"Apenas tarefas"}),(0,Oe.jsx)("option",{value:"subtasks",children:"Apenas subtarefas"})]}),(0,Oe.jsx)(Jn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none"})]}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 text-lg font-medium appearance-none bg-white/80 backdrop-blur-sm pr-10",children:[(0,Oe.jsx)("option",{value:"all",children:"\ud83d\udd04 Todos os status"}),(0,Oe.jsx)("option",{value:"pending",children:"\u23f3 Pendente"}),(0,Oe.jsx)("option",{value:"in_progress",children:"\u26a1 Em progresso"}),(0,Oe.jsx)("option",{value:"completed",children:"\u2705 Conclu\xeddo"})]}),(0,Oe.jsx)(Jn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none"})]}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 text-lg font-medium appearance-none bg-white/80 backdrop-blur-sm pr-10",children:[(0,Oe.jsx)("option",{value:"all",children:"\ud83c\udfaf Todas as prioridades"}),(0,Oe.jsx)("option",{value:"urgent",children:"\ud83d\udea8 Urgente"}),(0,Oe.jsx)("option",{value:"high",children:"\u26a1 Alta"}),(0,Oe.jsx)("option",{value:"medium",children:"\ud83d\udcca Normal"}),(0,Oe.jsx)("option",{value:"low",children:"\u2705 Baixa"})]}),(0,Oe.jsx)(Jn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none"})]})]})})}),(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Oe.jsx)("div",{className:"lg:col-span-2",children:(0,Oe.jsxs)("div",{className:"bg-gradient-to-br from-white via-slate-50 to-white rounded-xl shadow-xl border border-slate-200 overflow-hidden",children:[(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-slate-100 via-green-50 to-slate-100 p-6 border-b border-slate-200",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("h2",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-lg mr-3 shadow-sm",children:(0,Oe.jsx)(Zn,{className:"w-5 h-5 text-white"})}),"Lista de Atividades"]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Oe.jsxs)("span",{className:"text-sm text-slate-600 bg-gradient-to-r from-slate-100 to-slate-200 px-3 py-1 rounded-full border border-slate-300 shadow-sm",children:[E.length," resultado",1!==E.length?"s":""]})})]})}),(0,Oe.jsx)("div",{className:"max-h-[calc(100vh-350px)] overflow-y-auto p-4 bg-gradient-to-br from-slate-50/50 to-white",children:0===E.length?(0,Oe.jsx)("div",{className:"flex items-center justify-center h-64 text-slate-500",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"p-4 bg-gradient-to-br from-slate-100 to-slate-200 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:(0,Oe.jsx)(Zn,{className:"w-8 h-8 text-slate-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma atividade encontrada"}),(0,Oe.jsx)("p",{className:"text-slate-600",children:"Tente ajustar os filtros ou criar novas atividades"})]})}):(0,Oe.jsx)("div",{className:"space-y-3",children:E.map(e=>P(e))})})]})}),(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-gradient-to-br from-white via-slate-50 to-white rounded-xl shadow-xl border border-slate-200 h-[calc(100vh-350px)] overflow-hidden",children:[(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-slate-100 via-red-50 to-slate-100 p-6 border-b border-slate-200",children:(0,Oe.jsxs)("h2",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-gradient-to-br from-red-500 to-red-600 rounded-lg mr-3 shadow-sm",children:(0,Oe.jsx)(dt,{className:"w-5 h-5 text-white"})}),"Detalhes da Atividade"]})}),(0,Oe.jsx)("div",{className:"overflow-y-auto h-full bg-gradient-to-br from-slate-50/50 to-white",children:(()=>{if(!u)return(0,Oe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(dt,{className:"w-10 h-10 text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma atividade selecionada"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Clique em uma atividade na lista para ver os detalhes"})]})});const e="subtask"===u.type||"individual_subtask"===u.type;return(0,Oe.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Oe.jsxs)("div",{className:"border-b pb-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"p-2 rounded-full ".concat(e?"bg-red-100":"bg-green-100"),children:T(u.status)}),(0,Oe.jsx)("span",{className:"px-3 py-1.5 text-xs font-bold rounded-full border-2 shadow-sm",style:{backgroundColor:i(u.priority),color:l(u.priority)},children:o(u.priority)}),(0,Oe.jsx)("span",{className:"px-3 py-1.5 text-xs font-bold rounded-full border-2 shadow-sm ".concat("card"===u.type?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"),children:"card"===u.type?"Tarefa":"Subtarefa"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Oe.jsx)(fs,{className:"w-5 h-5 text-gray-600"})}),(0,Oe.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Oe.jsx)(Os,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),u.description&&(0,Oe.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 via-green-50 to-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,Oe.jsxs)("h3",{className:"font-semibold mb-3 flex items-center text-slate-800",children:[(0,Oe.jsx)("div",{className:"p-1.5 bg-gradient-to-br from-green-500 to-green-600 rounded-lg mr-2",children:(0,Oe.jsx)(Nt,{className:"w-4 h-4 text-white"})}),"Descri\xe7\xe3o"]}),(0,Oe.jsx)("p",{className:"text-slate-700 leading-relaxed",children:u.description})]}),(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-3 pt-6 border-t border-slate-200",children:[(0,Oe.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Oe.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Ir para o Quadro"]}),(0,Oe.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gradient-to-r from-red-400 to-red-500 text-white rounded-lg hover:from-red-500 hover:to-red-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Oe.jsx)(Os,{className:"w-4 h-4 mr-2"}),"Abrir Card"]}),(0,Oe.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Oe.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Anota\xe7\xf5es"]}),"card"!==u.type&&(0,Oe.jsx)("button",{onClick:()=>{return e=u.id,void d(t=>t.map(t=>t.id===e?(0,De.A)((0,De.A)({},t),{},{status:"completed"===t.status?"pending":"completed"}):t.subtasks?(0,De.A)((0,De.A)({},t),{},{subtasks:t.subtasks.map(t=>t.id===e?(0,De.A)((0,De.A)({},t),{},{status:"completed"===t.status?"pending":"completed"}):t)}):t));var e},className:"flex items-center px-4 py-2 text-white rounded-lg transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 ".concat("completed"===u.status?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700"),children:"completed"===u.status?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)($n,{className:"w-4 h-4 mr-2"}),"Desmarcar"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Wn,{className:"w-4 h-4 mr-2"}),"Concluir"]})})]})]})})()})]})})]})})]})},Ls=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),zs=Be("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Us=Be("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const Fs=new class{async saveFileMetadata(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4?arguments[4]:void 0,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];try{const o={file_id:t,name:e.name,original_name:e.name,size:e.size,type:e.type,url:r,r2_key:t,folder:a||"root",category:this.getFileCategory(e.name),uploaded_by:n,is_public:s,metadata:{originalName:e.name,uploadedBy:n,uploadedAt:(new Date).toISOString(),r2Endpoint:"https://d20101af9dd64057603c4871abeb1b0c.r2.cloudflarestorage.com",r2Bucket:"boodesk-cdn"}},{data:i,error:l}=await En.from("files").insert([o]).select().single();return l?(console.error("Erro ao salvar no Supabase:",l),{success:!1,error:"Erro ao salvar metadados: ".concat(l.message)}):{success:!0,file:i}}catch(o){return console.error("Erro ao salvar metadados:",o),{success:!1,error:o instanceof Error?o.message:"Erro desconhecido"}}}async uploadFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{const{uploadService:s}=await r.e(775).then(r.bind(r,775)),o=await s.uploadFile({file:e,folder:t,contentType:e.type});return o.success&&o.key&&o.url?await this.saveFileMetadata(e,o.key,o.url,t,a,n):{success:!1,error:o.error||"Erro no upload para R2"}}catch(s){return console.error("Erro no upload:",s),{success:!1,error:s instanceof Error?s.message:"Erro desconhecido"}}}async listFiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=En.from("files").select("*").order("created_at",{ascending:!1});e.folder&&(t=t.eq("folder",e.folder)),e.category&&(t=t.eq("category",e.category)),e.uploadedBy&&(t=t.eq("uploaded_by",e.uploadedBy)),void 0!==e.isPublic&&(t=t.eq("is_public",e.isPublic)),e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||50)-1));const{data:r,error:a}=await t;return a?(console.error("Erro ao listar arquivos:",a),{success:!1,error:"Erro ao listar arquivos: ".concat(a.message)}):{success:!0,files:r||[]}}catch(t){return console.error("Erro na listagem:",t),{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}}async listRootFiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.listFiles({folder:"root",limit:e})}async getFileById(e){try{const{data:t,error:r}=await En.from("files").select("*").eq("id",e).single();return r?{success:!1,error:"Arquivo n\xe3o encontrado: ".concat(r.message)}:{success:!0,file:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}}async getFileByKey(e){try{const{data:t,error:r}=await En.from("files").select("*").eq("file_id",e).single();return r?{success:!1,error:"Arquivo n\xe3o encontrado: ".concat(r.message)}:{success:!0,file:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}}async updateFile(e,t){try{const{data:r,error:a}=await En.from("files").update((0,De.A)((0,De.A)({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();return a?{success:!1,error:"Erro ao atualizar: ".concat(a.message)}:{success:!0,file:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}}async deleteFile(e){try{const t=await this.getFileById(e);if(!t.success||!t.file)return{success:!1,error:"Arquivo n\xe3o encontrado"};const{error:r}=await En.from("files").delete().eq("id",e);return r?{success:!1,error:"Erro ao deletar do Supabase: ".concat(r.message)}:(console.log("Arquivo removido do Supabase. R2 cleanup pode ser implementado posteriormente."),{success:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}}async searchFiles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{const{data:r,error:a}=await En.from("files").select("*").or("name.ilike.%".concat(e,"%,original_name.ilike.%").concat(e,"%")).order("created_at",{ascending:!1}).limit(t);return a?{success:!1,error:"Erro na busca: ".concat(a.message)}:{success:!0,files:r||[]}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}}async getFileStats(e){try{let t=En.from("files").select("*");e&&(t=t.eq("uploaded_by",e));const{data:r,error:a}=await t;if(a)throw new Error(a.message);const n=r||[],s={totalFiles:n.length,totalSize:n.reduce((e,t)=>e+t.size,0),byCategory:{},byFolder:{}};return n.forEach(e=>{s.byCategory[e.category]=(s.byCategory[e.category]||0)+1,s.byFolder[e.folder]=(s.byFolder[e.folder]||0)+1}),s}catch(t){return console.error("Erro ao obter estat\xedsticas:",t),{totalFiles:0,totalSize:0,byCategory:{},byFolder:{}}}}getFileCategory(e){const t=e.toLowerCase().split(".").pop()||"";return["jpg","jpeg","png","gif","webp","bmp","svg"].includes(t)?"image":["pdf","doc","docx","txt","rtf","odt"].includes(t)?"document":["zip","rar","7z","tar","gz"].includes(t)?"archive":"other"}formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}formatDate(e){return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}},Bs=e=>{let{onUploadComplete:t,onUploadError:a,multiple:s=!1,accept:o=[],maxSize:i=100,folder:l="root",showPreview:c=!0,className:d="",disabled:u=!1}=e;const{addToast:h}=Qe(),{user:m}=Me(),[g,f]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),w=(0,n.useCallback)(e=>o.length>0&&!o.includes(e.type)?"Tipo de arquivo n\xe3o permitido: ".concat(e.type):e.size>1024*i*1024?"Arquivo muito grande. M\xe1ximo: ".concat(i,"MB"):null,[o,i]),j=(0,n.useCallback)(async e=>{const t=Array.from(e),r=[];for(const n of t){const e=w(n);if(e){h({type:"error",title:"Arquivo inv\xe1lido",message:e});continue}const t={file:n,uploading:!1,uploaded:!1};if(c&&n.type.startsWith("image/"))try{const e=new FileReader,r=await new Promise((t,r)=>{e.onload=()=>t(e.result),e.onerror=r,e.readAsDataURL(n)});t.preview=r}catch(a){console.warn("Erro ao gerar preview:",a)}r.push(t)}f(e=>[...e,...r])},[w,c,h]),N=(0,n.useCallback)(async()=>{if(0===g.length||null===m||void 0===m||!m.id)return;v(!0);const e=[];for(let t=0;t<g.length;t++){const n=g[t];if(!n.uploaded){f(e=>e.map((e,r)=>r===t?(0,De.A)((0,De.A)({},e),{},{uploading:!0,error:void 0}):e));try{const{uploadService:a}=await r.e(775).then(r.bind(r,775)),s=await a.uploadFile({file:n.file,folder:l,contentType:n.file.type});s.success&&s.key&&s.url?(f(e=>e.map((e,r)=>r===t?(0,De.A)((0,De.A)({},e),{},{uploading:!1,uploaded:!0}):e)),h({type:"success",title:"Upload conclu\xeddo",message:"".concat(n.file.name," foi enviado com sucesso para R2!")}),e.push({success:!0,file:{id:Date.now(),file_id:s.key,name:n.file.name,original_name:n.file.name,size:n.file.size,type:n.file.type,url:s.url,r2_key:s.key,folder:l,category:"other",uploaded_by:m.id,is_public:!0,metadata:{},created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},error:void 0})):(f(e=>e.map((e,r)=>r===t?(0,De.A)((0,De.A)({},e),{},{uploading:!1,error:s.error}):e)),h({type:"error",title:"Erro no upload",message:"Erro ao enviar ".concat(n.file.name," para R2: ").concat(s.error)}),e.push({success:!1,file:void 0,error:s.error}))}catch(a){const r=a instanceof Error?a.message:"Erro desconhecido";f(e=>e.map((e,a)=>a===t?(0,De.A)((0,De.A)({},e),{},{uploading:!1,error:r}):e)),h({type:"error",title:"Erro no upload",message:"Erro ao enviar ".concat(n.file.name,": ").concat(r)}),e.push({success:!1,error:r})}}}v(!1),t&&t(e),setTimeout(()=>{f(e=>e.filter(e=>!e.uploaded))},3e3)},[g,null===m||void 0===m?void 0:m.id,l,t,h]),k=(0,n.useCallback)(e=>{f(t=>t.filter((t,r)=>r!==e))},[]),C=(0,n.useCallback)(e=>{e.preventDefault(),x(!0)},[]),S=(0,n.useCallback)(e=>{e.preventDefault(),x(!1)},[]),_=(0,n.useCallback)(e=>{if(e.preventDefault(),x(!1),u)return;const t=e.dataTransfer.files;t.length>0&&j(t)},[u,j]),E=(0,n.useCallback)(e=>{const t=e.target.files;t&&t.length>0&&j(t),y.current&&(y.current.value="")},[j]),T=g.some(e=>!e.uploaded&&!e.uploading);return(0,Oe.jsxs)("div",{className:"w-full ".concat(d),children:[(0,Oe.jsxs)("div",{className:"\n          relative border-2 border-dashed rounded-lg p-6 text-center transition-colors\n          ".concat(p?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400","\n          ").concat(u?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        "),onDragOver:C,onDragLeave:S,onDrop:_,onClick:()=>{var e;return!u&&(null===(e=y.current)||void 0===e?void 0:e.click())},children:[(0,Oe.jsx)(Ss,{className:"w-8 h-8 mx-auto mb-4 text-gray-400"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste arquivos aqui ou clique para selecionar"}),o.length>0&&(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Tipos permitidos: ",o.join(", ")]}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500",children:["M\xe1ximo: ",i,"MB"]}),(0,Oe.jsx)("input",{ref:y,type:"file",multiple:s,accept:o.join(","),onChange:E,className:"hidden",disabled:u})]}),g.length>0&&(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Arquivos selecionados (",g.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-2",children:g.map((e,t)=>(0,Oe.jsxs)("div",{className:"\n                  flex items-center justify-between p-3 rounded-lg border\n                  ".concat(e.uploaded?"bg-green-50 border-green-200":e.error?"bg-red-50 border-red-200":e.uploading?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200","\n                "),children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.preview?(0,Oe.jsx)("img",{src:e.preview,alt:"Preview",className:"w-10 h-10 object-cover rounded"}):(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:(0,Oe.jsx)(zs,{className:"w-5 h-5 text-gray-500"})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:Fs.formatFileSize(e.file.size)})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[e.uploading&&(0,Oe.jsx)(Us,{className:"w-4 h-4 animate-spin text-blue-500"}),e.uploaded&&(0,Oe.jsx)(qe,{className:"w-4 h-4 text-green-500"}),e.error&&(0,Oe.jsx)(We,{className:"w-4 h-4 text-red-500"}),(0,Oe.jsx)("button",{onClick:()=>k(t),className:"p-1 text-gray-400 hover:text-red-500 rounded",disabled:e.uploading,children:(0,Oe.jsx)(Ge,{className:"w-4 h-4"})})]})]},t))}),T&&(0,Oe.jsx)("button",{onClick:N,disabled:b||!(null!==m&&void 0!==m&&m.id),className:"\n                mt-4 w-full py-2 px-4 rounded-lg font-medium transition-colors\n                ".concat(b||null===m||void 0===m||!m.id?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700","\n              "),children:b?(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Oe.jsx)(Us,{className:"w-4 h-4 animate-spin"}),(0,Oe.jsx)("span",{children:"Enviando..."})]}):(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Oe.jsx)(Ss,{className:"w-4 h-4"}),(0,Oe.jsxs)("span",{children:["Enviar ",g.filter(e=>!e.uploaded).length," arquivo",1!==g.filter(e=>!e.uploaded).length?"s":""]})]})})]})]})},qs=()=>{const{addToast:e}=Qe(),[t,a]=(0,n.useState)([]),[s,o]=(0,n.useState)([]),[i,l]=(0,n.useState)(""),[c,d]=(0,n.useState)("all"),[u,h]=(0,n.useState)("all"),[m,g]=(0,n.useState)(!1),[f,p]=(0,n.useState)("grid"),x=(0,n.useCallback)(async()=>{g(!0);try{const{fileListService:t}=await r.e(850).then(r.bind(r,850)),n=await t.listFiles();n.success&&n.files?(a(n.files),o(n.files),console.log("\ud83d\udcc1 Arquivos carregados do R2:",n.files.length)):e({type:"error",title:"Erro ao carregar arquivos",message:n.error||"N\xe3o foi poss\xedvel carregar a lista de arquivos."})}catch(t){e({type:"error",title:"Erro ao carregar arquivos",message:"Erro de conex\xe3o com o R2."})}finally{g(!1)}},[e]);(0,n.useEffect)(()=>{let e=t;i&&(e=e.filter(e=>e.name.toLowerCase().includes(i.toLowerCase()))),"all"!==c&&(e=e.filter(e=>e.folder===c)),"all"!==u&&(e=e.filter(e=>e.category===u)),o(e)},[t,i,c,u]),(0,n.useEffect)(()=>{x()},[x]);const b=async t=>{try{const{uploadService:n}=await r.e(775).then(r.bind(r,775)),s=await n.deleteFile(t.key);s.success?(a(e=>e.filter(e=>e.key!==t.key)),o(e=>e.filter(e=>e.key!==t.key)),e({type:"success",title:"Arquivo deletado",message:"".concat(t.name," foi removido com sucesso do R2.")})):e({type:"error",title:"Erro ao deletar",message:"Erro ao deletar ".concat(t.name," do R2: ").concat(s.error)})}catch(n){e({type:"error",title:"Erro ao deletar",message:"Erro inesperado ao deletar o arquivo."})}},v=e=>{const t=document.createElement("a");t.href=e.url,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)},y=e=>{window.open(e.url,"_blank")},w=e=>Fs.formatFileSize(e),j=e=>Fs.formatDate(e),N=e=>{const t=e.category||"other";return"image"===t?(0,Oe.jsx)(Ls,{className:"w-6 h-6 text-blue-500"}):"document"===t?(0,Oe.jsx)(Nt,{className:"w-6 h-6 text-green-500"}):"archive"===t?(0,Oe.jsx)(Qn,{className:"w-6 h-6 text-orange-500"}):(0,Oe.jsx)(zs,{className:"w-6 h-6 text-gray-500"})};return(0,Oe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100",children:(0,Oe.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Oe.jsx)("div",{className:"mb-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[(0,Oe.jsx)(bt,{className:"w-8 h-8 text-blue-600"}),(0,Oe.jsx)("span",{children:"Gerenciador de Arquivos"})]}),(0,Oe.jsx)("p",{className:"text-gray-600 mt-2",children:"Fa\xe7a upload e gerencie seus arquivos no Cloudflare R2"})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Oe.jsx)("button",{onClick:()=>p("grid"===f?"list":"grid"),className:"p-2 bg-white rounded-lg shadow-sm border border-gray-200 hover:bg-gray-50",children:"grid"===f?"Lista":"Grid"})})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 sticky top-8",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Oe.jsx)(Ss,{className:"w-5 h-5 text-blue-600"}),(0,Oe.jsx)("span",{children:"Upload de Arquivos"})]}),(0,Oe.jsx)(Bs,{onUploadComplete:t=>{const r=t.filter(e=>e.success).length,a=t.filter(e=>!e.success).length;r>0&&(e({type:"success",title:"Upload conclu\xeddo",message:"".concat(r," arquivo").concat(1!==r?"s":""," enviado").concat(1!==r?"s":""," com sucesso!")}),x()),a>0&&e({type:"error",title:"Erro no upload",message:"".concat(a," arquivo").concat(1!==a?"s":""," falhou").concat(1!==a?"ram":""," no upload")})},onUploadError:t=>{e({type:"error",title:"Erro no upload",message:t})},multiple:!0,accept:["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/zip","application/x-rar-compressed","application/x-7z-compressed"],maxSize:100,folder:"root",showPreview:!0}),(0,Oe.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Estat\xedsticas"}),(0,Oe.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{children:"Total de arquivos:"}),(0,Oe.jsx)("span",{className:"font-medium",children:t.length})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{children:"Tamanho total:"}),(0,Oe.jsx)("span",{className:"font-medium",children:w(t.reduce((e,t)=>e+t.size,0))})]})]})]})]})}),(0,Oe.jsxs)("div",{className:"lg:col-span-3",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Oe.jsx)("div",{className:"flex-1",children:(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar arquivos...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Oe.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"all",label:"Todas as pastas"},{value:"root",label:"Raiz"}].map(e=>(0,Oe.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Oe.jsx)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"all",label:"Todos os tipos"},{value:"images",label:"Imagens"},{value:"documents",label:"Documentos"},{value:"archives",label:"Arquivos compactados"}].map(e=>(0,Oe.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,Oe.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:m?(0,Oe.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Oe.jsx)("span",{className:"ml-3 text-gray-600",children:"Carregando arquivos..."})]}):0===s.length?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum arquivo encontrado"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:i||"all"!==c||"all"!==u?"Tente ajustar os filtros de busca.":"Fa\xe7a upload do seu primeiro arquivo usando o painel ao lado."})]}):(0,Oe.jsx)("div",{className:"grid"===f?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-3",children:s.map(e=>(0,Oe.jsx)("div",{className:"\n                         border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\n                         ".concat("grid"===f?"bg-white":"bg-gray-50","\n                       "),children:"grid"===f?(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsx)("div",{className:"flex items-center justify-between",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:N(e)}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:w(e.size)})]})]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Oe.jsx)("span",{children:j(e.lastModified||(new Date).toISOString())}),(0,Oe.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.folder||"root"})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-2 pt-2 border-t border-gray-100",children:[(0,Oe.jsx)("button",{onClick:()=>v(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:(0,Oe.jsx)(Cs,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>y(e),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Visualizar",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>b(e),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deletar",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})]}):(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:N(e)}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500",children:[w(e.size)," \u2022 ",j(e.lastModified||(new Date).toISOString())]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:e.folder||"root"}),(0,Oe.jsx)("button",{onClick:()=>v(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:(0,Oe.jsx)(Cs,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>y(e),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Visualizar",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>b(e),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deletar",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})]})},e.key||e.name))})})]})]})]})})};var Ws=r(284);function Hs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Vs(e){Hs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,Ws.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Gs(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var Ks={};function Qs(){return Ks}function Ys(e,t){Hs(2,arguments);var r=Vs(e),a=Gs(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var n=r.getDate(),s=new Date(r.getTime());return s.setMonth(r.getMonth()+a+1,0),n>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function Js(e){Hs(1,arguments);var t=Vs(e);return t.setHours(0,0,0,0),t}function $s(e,t){Hs(2,arguments);var r=Js(e),a=Js(t);return r.getTime()===a.getTime()}function Xs(e){if(Hs(1,arguments),!function(e){return Hs(1,arguments),e instanceof Date||"object"===(0,Ws.A)(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Vs(e);return!isNaN(Number(t))}function Zs(e,t){return Hs(2,arguments),function(e,t){Hs(2,arguments);var r=Vs(e).getTime(),a=Gs(t);return new Date(r+a)}(e,-Gs(t))}function eo(e){Hs(1,arguments);var t=Vs(e),r=t.getUTCDay(),a=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function to(e){Hs(1,arguments);var t=Vs(e),r=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var n=eo(a),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=eo(s);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ro(e){Hs(1,arguments);var t=Vs(e),r=eo(t).getTime()-function(e){Hs(1,arguments);var t=to(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),eo(r)}(t).getTime();return Math.round(r/6048e5)+1}function ao(e,t){var r,a,n,s,o,i,l,c;Hs(1,arguments);var d=Qs(),u=Gs(null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:d.weekStartsOn)&&void 0!==a?a:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vs(e),m=h.getUTCDay(),g=(m<u?7:0)+m-u;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function no(e,t){var r,a,n,s,o,i,l,c;Hs(1,arguments);var d=Vs(e),u=d.getUTCFullYear(),h=Qs(),m=Gs(null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:h.firstWeekContainsDate)&&void 0!==a?a:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(u+1,0,m),g.setUTCHours(0,0,0,0);var f=ao(g,t),p=new Date(0);p.setUTCFullYear(u,0,m),p.setUTCHours(0,0,0,0);var x=ao(p,t);return d.getTime()>=f.getTime()?u+1:d.getTime()>=x.getTime()?u:u-1}function so(e,t){Hs(1,arguments);var r=Vs(e),a=ao(r,t).getTime()-function(e,t){var r,a,n,s,o,i,l,c;Hs(1,arguments);var d=Qs(),u=Gs(null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:d.firstWeekContainsDate)&&void 0!==a?a:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),h=no(e,t),m=new Date(0);return m.setUTCFullYear(h,0,u),m.setUTCHours(0,0,0,0),ao(m,t)}(r,t).getTime();return Math.round(a/6048e5)+1}function oo(e,t){for(var r=e<0?"-":"",a=Math.abs(e).toString();a.length<t;)a="0"+a;return r+a}const io={y:function(e,t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return oo("yy"===t?a%100:a,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):oo(r+1,2)},d:function(e,t){return oo(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return oo(e.getUTCHours()%12||12,t.length)},H:function(e,t){return oo(e.getUTCHours(),t.length)},m:function(e,t){return oo(e.getUTCMinutes(),t.length)},s:function(e,t){return oo(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,a=e.getUTCMilliseconds();return oo(Math.floor(a*Math.pow(10,r-3)),t.length)}};var lo="midnight",co="noon",uo="morning",ho="afternoon",mo="evening",go="night",fo={G:function(e,t,r){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var a=e.getUTCFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return io.y(e,t)},Y:function(e,t,r,a){var n=no(e,a),s=n>0?n:1-n;return"YY"===t?oo(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):oo(s,t.length)},R:function(e,t){return oo(to(e),t.length)},u:function(e,t){return oo(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return oo(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return oo(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){var a=e.getUTCMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return oo(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){var n=so(e,a);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):oo(n,t.length)},I:function(e,t,r){var a=ro(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):oo(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,r){var a=function(e){Hs(1,arguments);var t=Vs(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=r-t.getTime();return Math.floor(a/864e5)+1}(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):oo(a,t.length)},E:function(e,t,r){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){var n=e.getUTCDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return oo(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){var n=e.getUTCDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return oo(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){var a=e.getUTCDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return oo(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){var a,n=e.getUTCHours();switch(a=12===n?co:0===n?lo:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){var a,n=e.getUTCHours();switch(a=n>=17?mo:n>=12?ho:n>=4?uo:go,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var a=e.getUTCHours()%12;return 0===a&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return io.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,r){var a=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):oo(a,t.length)},k:function(e,t,r){var a=e.getUTCHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):oo(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,r,a){var n=(a._originalDate||e).getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return xo(n);case"XXXX":case"XX":return bo(n);default:return bo(n,":")}},x:function(e,t,r,a){var n=(a._originalDate||e).getTimezoneOffset();switch(t){case"x":return xo(n);case"xxxx":case"xx":return bo(n);default:return bo(n,":")}},O:function(e,t,r,a){var n=(a._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+po(n,":");default:return"GMT"+bo(n,":")}},z:function(e,t,r,a){var n=(a._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+po(n,":");default:return"GMT"+bo(n,":")}},t:function(e,t,r,a){var n=a._originalDate||e;return oo(Math.floor(n.getTime()/1e3),t.length)},T:function(e,t,r,a){return oo((a._originalDate||e).getTime(),t.length)}};function po(e,t){var r=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),s=a%60;if(0===s)return r+String(n);var o=t||"";return r+String(n)+o+oo(s,2)}function xo(e,t){return e%60===0?(e>0?"-":"+")+oo(Math.abs(e)/60,2):bo(e,t)}function bo(e,t){var r=t||"",a=e>0?"-":"+",n=Math.abs(e);return a+oo(Math.floor(n/60),2)+r+oo(n%60,2)}const vo=fo;var yo=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},wo=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},jo={p:wo,P:function(e,t){var r,a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return yo(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",yo(n,t)).replace("{{time}}",wo(s,t))}};const No=jo;var ko=["D","DD"],Co=["YY","YYYY"];function So(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _o={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Eo=function(e,t,r){var a,n=_o[e];return a="string"===typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function To(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Ao={date:To({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:To({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:To({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Po={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Do(e){return function(t,r){var a;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){var n=e.defaultFormattingWidth||e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):n;a=e.formattingValues[s]||e.formattingValues[n]}else{var o=e.defaultWidth,i=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;a=e.values[i]||e.values[o]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function Oo(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;var o,i=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(l,function(e){return e.test(i)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(l,function(e){return e.test(i)});return o=e.valueCallback?e.valueCallback(c):c,{value:o=r.valueCallback?r.valueCallback(o):o,rest:t.slice(i.length)}}}function Ro(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=r.valueCallback?r.valueCallback(o):o,rest:t.slice(n.length)}}}const Io={code:"en-US",formatDistance:Eo,formatLong:Ao,formatRelative:function(e,t,r,a){return Po[e]},localize:{ordinalNumber:function(e,t){var r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Do({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Do({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Do({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Do({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Do({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Ro({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Oo({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Oo({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oo({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Oo({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Oo({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Mo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zo=/^'([^]*?)'?$/,Uo=/''/g,Fo=/[a-zA-Z]/;function Bo(e,t,r){var a,n,s,o,i,l,c,d,u,h,m,g,f,p,x,b,v,y;Hs(2,arguments);var w=String(t),j=Qs(),N=null!==(a=null!==(n=null===r||void 0===r?void 0:r.locale)&&void 0!==n?n:j.locale)&&void 0!==a?a:Io,k=Gs(null!==(s=null!==(o=null!==(i=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:j.firstWeekContainsDate)&&void 0!==o?o:null===(u=j.locale)||void 0===u||null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==s?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Gs(null!==(m=null!==(g=null!==(f=null!==(p=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==p?p:null===r||void 0===r||null===(x=r.locale)||void 0===x||null===(b=x.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:j.weekStartsOn)&&void 0!==g?g:null===(v=j.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var S=Vs(e);if(!Xs(S))throw new RangeError("Invalid time value");var _=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(S),E=Zs(S,_),T={firstWeekContainsDate:k,weekStartsOn:C,locale:N,_originalDate:S};return w.match(Lo).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,No[t])(e,N.formatLong):e}).join("").match(Mo).map(function(a){if("''"===a)return"'";var n=a[0];if("'"===n)return function(e){var t=e.match(zo);if(!t)return e;return t[1].replace(Uo,"'")}(a);var s,o=vo[n];if(o)return null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||(s=a,-1===Co.indexOf(s))||So(a,t,String(e)),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return-1!==ko.indexOf(e)}(a)||So(a,t,String(e)),o(E,a,N.localize,T);if(n.match(Fo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return a}).join("")}var qo={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m\xeas",other:"cerca de {{count}} meses"},xMonths:{one:"1 m\xeas",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};const Wo=function(e,t,r){var a,n=qo[e];return a="string"===typeof n?n:1===t?n.one:n.other.replace("{{count}}",String(t)),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"h\xe1 "+a:a};var Ho={date:To({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:To({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:To({formats:{full:"{{date}} '\xe0s' {{time}}",long:"{{date}} '\xe0s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Vo={lastWeek:function(e){var t=e.getUTCDay();return"'"+(0===t||6===t?"\xfaltimo":"\xfaltima")+"' eeee '\xe0s' p"},yesterday:"'ontem \xe0s' p",today:"'hoje \xe0s' p",tomorrow:"'amanh\xe3 \xe0s' p",nextWeek:"eeee '\xe0s' p",other:"P"};const Go=function(e,t,r,a){var n=Vo[e];return"function"===typeof n?n(t):n};const Ko={code:"pt-BR",formatDistance:Wo,formatLong:Ho,formatRelative:Go,localize:{ordinalNumber:function(e,t){var r=Number(e);return"week"===(null===t||void 0===t?void 0:t.unit)?r+"\xaa":r+"\xba"},era:Do({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:Do({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Do({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:Do({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter\xe7a","quarta","quinta","sexta","s\xe1bado"],wide:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:Do({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Ro({matchPattern:/^(\d+)[\xba\xaao]?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Oo({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:Oo({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oo({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|mar\xe7o|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:Oo({matchPatterns:{narrow:/^(dom|[23456]\xaa?|s[a\xe1]b)/i,short:/^(dom|[23456]\xaa?|s[a\xe1]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a\xe1]b)/i,wide:/^(domingo|(segunda|ter[c\xe7]a|quarta|quinta|sexta)([- ]feira)?|s[a\xe1]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a\xe1]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a\xe1]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a\xe1]b/i]},defaultParseWidth:"any"}),dayPeriod:Oo({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manh\xe3|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh\xe3|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh\xe3/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},Qo=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Yo=Be("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);class Jo{constructor(){this.apiKey=null,this.accessToken=null,this.isAuthenticated=!1,this.BASE_URL="https://www.googleapis.com/calendar/v3",this.SCOPES=["https://www.googleapis.com/auth/calendar"],this.initializeService()}async initializeService(){try{await this.checkCredentials()&&await this.authenticate()}catch(e){console.error("Erro ao inicializar servi\xe7o Google Calendar:",e)}}async checkCredentials(){try{const e=await fetch("/credentials.json");if(e.ok){const t=await e.json();return this.apiKey=t.api_key||null,t.oauth2&&t.oauth2.client_id?(console.log("\u2705 Credenciais OAuth 2.0 do Google Calendar encontradas"),console.log("\ud83d\udd11 Client ID:",t.oauth2.client_id),!0):(console.log("\u274c Credenciais OAuth 2.0 n\xe3o encontradas"),!1)}return console.log("\u274c Arquivo credentials.json n\xe3o encontrado"),!1}catch(e){return console.error("Erro ao verificar credenciais:",e),!1}}async authenticate(){try{console.log("\ud83d\udd10 Iniciando autentica\xe7\xe3o OAuth 2.0 com Google Calendar API...");if(!await this.checkCredentials())return console.log("\u274c Credenciais OAuth 2.0 n\xe3o encontradas"),!1;const e=await fetch("/credentials.json"),t=await e.json();return t.oauth2&&t.oauth2.client_id?(console.log("\u2705 Credenciais OAuth 2.0 carregadas"),console.log("\ud83d\udd11 Client ID:",t.oauth2.client_id),this.isAuthenticated=!0,this.accessToken="mock_access_token",console.log("\u2705 Autentica\xe7\xe3o OAuth 2.0 com Google Calendar API bem-sucedida!"),!0):(console.log("\u274c Credenciais OAuth 2.0 inv\xe1lidas"),!1)}catch(e){return console.error("\u274c Erro na autentica\xe7\xe3o OAuth 2.0 do Google Calendar:",e),this.isAuthenticated=!1,!1}}async createEvent(e){try{var t;if(!this.isAuthenticated){if(!await this.authenticate())return{success:!1,error:"N\xe3o foi poss\xedvel autenticar com a API do Google Calendar"}}const r={summary:e.title,description:e.description,location:e.location,start:{dateTime:e.isAllDay?void 0:e.startDate.toISOString(),date:e.isAllDay?e.startDate.toISOString().split("T")[0]:void 0,timeZone:"America/Sao_Paulo"},end:{dateTime:e.isAllDay?void 0:e.endDate.toISOString(),date:e.isAllDay?e.endDate.toISOString().split("T")[0]:void 0,timeZone:"America/Sao_Paulo"},attendees:null===(t=e.attendees)||void 0===t?void 0:t.map(e=>({email:e})),reminders:{useDefault:!0}};"meeting"===e.type&&(r.conferenceData={createRequest:{requestId:"meet_".concat(Date.now()),conferenceSolutionKey:{type:"hangoutsMeet"}}}),console.log("\ud83d\udcdd Dados do evento:",JSON.stringify(r,null,2));const a="google_event_".concat(Date.now());return console.log("\u2705 Evento criado no Google Calendar:",a),{success:!0,eventId:a}}catch(r){return console.error("\u274c Erro ao criar evento no Google Calendar:",r),{success:!1,error:"Erro ao criar evento no Google Calendar: ".concat(r)}}}async updateEvent(e,t){try{var r;if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Calendar API"};t.title,t.description,t.location,t.isAllDay||t.startDate.toISOString(),t.isAllDay&&t.startDate.toISOString().split("T")[0],t.isAllDay||t.endDate.toISOString(),t.isAllDay&&t.endDate.toISOString().split("T")[0],null===(r=t.attendees)||void 0===r||r.map(e=>({email:e}));return console.log("\u2705 Evento atualizado no Google Calendar:",e),{success:!0}}catch(a){return console.error("\u274c Erro ao atualizar evento no Google Calendar:",a),{success:!1,error:"Erro ao atualizar evento no Google Calendar: ".concat(a)}}}async deleteEvent(e){try{return this.isAuthenticated?(console.log("\u2705 Evento exclu\xeddo do Google Calendar:",e),{success:!0}):{success:!1,error:"N\xe3o autenticado com Google Calendar API"}}catch(t){return console.error("\u274c Erro ao excluir evento do Google Calendar:",t),{success:!1,error:"Erro ao excluir evento do Google Calendar: ".concat(t)}}}async getEvents(e,t){try{if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Calendar API"};const r=[{id:"google-1",title:"Reuni\xe3o de Equipe",description:"Discuss\xe3o sobre o projeto atual",startDate:new Date(2024,11,15,10,0),endDate:new Date(2024,11,15,11,0),location:"Sala de Reuni\xf5es",attendees:["joao@exemplo.com","maria@exemplo.com"],type:"meeting",color:"#4285F4",googleEventId:"google_event_1"},{id:"google-2",title:"Apresenta\xe7\xe3o do Projeto",description:"Apresenta\xe7\xe3o para o cliente",startDate:new Date(2024,11,20,14,0),endDate:new Date(2024,11,20,15,30),location:"Google Meet",attendees:["cliente@exemplo.com"],type:"meeting",color:"#34A853",googleEventId:"google_event_2"}];return{success:!0,events:r.filter(r=>r.startDate>=e&&r.startDate<=t)}}catch(r){return console.error("\u274c Erro ao buscar eventos do Google Calendar:",r),{success:!1,error:"Erro ao buscar eventos do Google Calendar: ".concat(r)}}}async syncEvents(e){try{if(!this.isAuthenticated)return{success:!1,error:"N\xe3o autenticado com Google Calendar API"};const t=[];for(const r of e)if(r.googleEventId)t.push(r);else{const e=await this.createEvent(r);e.success&&e.eventId&&t.push((0,De.A)((0,De.A)({},r),{},{googleEventId:e.eventId}))}return{success:!0,syncedEvents:t}}catch(t){return console.error("\u274c Erro ao sincronizar eventos:",t),{success:!1,error:"Erro ao sincronizar eventos: ".concat(t)}}}getAuthStatus(){return this.isAuthenticated}async refreshAuth(){return await this.authenticate()}disconnect(){this.isAuthenticated=!1,this.accessToken=null,console.log("\u2705 Desconectado do Google Calendar")}}const $o=new Jo,Xo=e=>{var t;let{event:r,onSave:a,onClose:s}=e;const[o,i]=(0,n.useState)({title:(null===r||void 0===r?void 0:r.title)||"",description:(null===r||void 0===r?void 0:r.description)||"",startDate:null!==r&&void 0!==r&&r.startDate?Bo(r.startDate,"yyyy-MM-dd"):Bo(new Date,"yyyy-MM-dd"),startTime:null!==r&&void 0!==r&&r.startDate?Bo(r.startDate,"HH:mm"):"09:00",endDate:null!==r&&void 0!==r&&r.endDate?Bo(r.endDate,"yyyy-MM-dd"):Bo(new Date,"yyyy-MM-dd"),endTime:null!==r&&void 0!==r&&r.endDate?Bo(r.endDate,"HH:mm"):"10:00",location:(null===r||void 0===r?void 0:r.location)||"",attendees:(null===r||void 0===r||null===(t=r.attendees)||void 0===t?void 0:t.join(", "))||"",type:(null===r||void 0===r?void 0:r.type)||"reminder",color:(null===r||void 0===r?void 0:r.color)||"#2196F3",isAllDay:(null===r||void 0===r?void 0:r.isAllDay)||!1});return(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:r?"Editar Evento":"Novo Evento"}),(0,Oe.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new Date("".concat(o.startDate,"T").concat(o.startTime)),r=new Date("".concat(o.endDate,"T").concat(o.endTime));a((0,De.A)((0,De.A)({},o),{},{startDate:t,endDate:r,attendees:o.attendees?o.attendees.split(",").map(e=>e.trim()):[]}))},className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo"}),(0,Oe.jsx)("input",{type:"text",value:o.title,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,Oe.jsx)("textarea",{value:o.description,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data In\xedcio"}),(0,Oe.jsx)("input",{type:"date",value:o.startDate,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora In\xedcio"}),(0,Oe.jsx)("input",{type:"time",value:o.startTime,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{startTime:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o.isAllDay,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),(0,Oe.jsx)("input",{type:"date",value:o.endDate,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{endDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Fim"}),(0,Oe.jsx)("input",{type:"time",value:o.endTime,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{endTime:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o.isAllDay,required:!0})]})]}),(0,Oe.jsx)("div",{children:(0,Oe.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:o.isAllDay,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{isAllDay:e.target.checked})),className:"text-blue-600"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-700",children:"Dia inteiro"})]})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),(0,Oe.jsx)("input",{type:"text",value:o.location,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participantes (emails separados por v\xedrgula)"}),(0,Oe.jsx)("input",{type:"text",value:o.attendees,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{attendees:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"joao@exemplo.com, maria@exemplo.com"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,Oe.jsxs)("select",{value:o.type,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"meeting",children:"Reuni\xe3o"}),(0,Oe.jsx)("option",{value:"task",children:"Tarefa"}),(0,Oe.jsx)("option",{value:"reminder",children:"Lembrete"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),(0,Oe.jsx)("input",{type:"color",value:o.color,onChange:e=>i(t=>(0,De.A)((0,De.A)({},t),{},{color:e.target.value})),className:"w-full h-10 border border-gray-300 rounded-xl"})]}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Oe.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200",children:"Cancelar"}),(0,Oe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:r?"Atualizar":"Criar"})]})]})]})})},Zo=()=>{const{user:e}=Me(),{addToast:t}=Qe(),[r,a]=(0,n.useState)(new Date),[s,o]=(0,n.useState)(new Date),[i,l]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[v,y]=(0,n.useState)("all"),w={Baixa:"#4CAF50",Normal:"#2196F3",Alta:"#FF9800",Urgente:"#F44336"},j=(0,n.useCallback)(()=>{const e=function(e,t){var r,a,n,s,o,i,l,c;Hs(1,arguments);var d=Qs(),u=Gs(null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:d.weekStartsOn)&&void 0!==a?a:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vs(e),m=h.getDay(),g=(m<u?7:0)+m-u;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}(function(e){Hs(1,arguments);var t=Vs(e);return t.setDate(1),t.setHours(0,0,0,0),t}(r),{locale:Ko}),t=function(e,t){var r,a,n,s,o,i,l,c;Hs(1,arguments);var d=Qs(),u=Gs(null!==(r=null!==(a=null!==(n=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:d.weekStartsOn)&&void 0!==a?a:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vs(e),m=h.getDay(),g=6+(m<u?-7:0)-(m-u);return h.setDate(h.getDate()+g),h.setHours(23,59,59,999),h}(function(e){Hs(1,arguments);var t=Vs(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(r),{locale:Ko});return function(e,t){var r;Hs(1,arguments);var a=e||{},n=Vs(a.start),s=Vs(a.end).getTime();if(!(n.getTime()<=s))throw new RangeError("Invalid interval");var o=[],i=n;i.setHours(0,0,0,0);var l=Number(null!==(r=null===t||void 0===t?void 0:t.step)&&void 0!==r?r:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;i.getTime()<=s;)o.push(Vs(i)),i.setDate(i.getDate()+l),i.setHours(0,0,0,0);return o}({start:e,end:t})},[r]),N=async()=>{if(u)try{const e=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,0),n=await $o.getEvents(e,a);n.success&&n.events?l(e=>[...e.filter(e=>!e.googleEventId),...n.events]):t({type:"error",title:"Erro",message:"Erro ao carregar eventos do Google Calendar"})}catch(e){t({type:"error",title:"Erro",message:"Erro ao carregar eventos do Google Calendar"})}},k=()=>i.filter(e=>$s(new Date(e.startDate),s)).filter(e=>"all"===v||e.type===v),C=e=>{b(e||null),p(!0)};(0,n.useEffect)(()=>{(async()=>{try{if(null===e||void 0===e||!e.id)return;const t=await An.getBoards(e.id);let a=[];for(const e of t)try{const t=await An.getCardsForBoard(e.board_id);t&&t.length>0&&(a=[...a,...t])}catch(r){console.log("Board ".concat(e.name," n\xe3o encontrado ou exclu\xeddo, pulando..."));continue}const n=a.filter(e=>e.due_date).map(e=>{var r;return{id:e.card_id,title:e.title,dueDate:e.due_date,importance:"high"===e.importance?"Alta":"critical"===e.importance?"Urgente":"medium"===e.importance?"Normal":"Baixa",board:(null===(r=t.find(t=>t.board_id===e.board_id))||void 0===r?void 0:r.name)||"Quadro",list:e.list_name||"Lista",status:e.is_archived?"archived":"active"}});d(n);const s=n.map(e=>({id:"boodesk-".concat(e.id),title:"".concat(e.title),description:"Tarefa do Boodesk - ".concat(e.board," > ").concat(e.list),startDate:new Date(e.dueDate),endDate:new Date(e.dueDate),type:"task",color:w[e.importance],isAllDay:!0}));l(e=>[...e.filter(e=>!e.id.startsWith("boodesk-")),...s])}catch(r){console.error("Erro ao carregar tarefas do Boodesk:",r),t({type:"error",title:"Erro",message:"Erro ao carregar tarefas do Boodesk"})}})();(()=>{const e=$o.getAuthStatus();h(e)})()},[]),(0,n.useEffect)(()=>{u&&N()},[u]);const S=j();return(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)(ft,{className:"w-8 h-8 text-blue-600"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Calend\xe1rio"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Gerencie seus eventos e tarefas"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(u?"bg-green-500":"bg-red-500")}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:u?"Google Calendar Conectado":"Google Calendar Desconectado"})]}),!u&&(0,Oe.jsx)("button",{onClick:async()=>{g(!0);try{await $o.authenticate()?(h(!0),t({type:"success",title:"Sucesso",message:"Conectado ao Google Calendar com sucesso!"}),await N()):t({type:"error",title:"Erro",message:"Erro ao conectar ao Google Calendar"})}catch(e){t({type:"error",title:"Erro",message:"Erro ao conectar ao Google Calendar"})}finally{g(!1)}},disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50",children:m?"Conectando...":"Conectar Google Calendar"}),(0,Oe.jsx)("button",{onClick:async()=>{g(!0);try{const e=await $o.syncEvents(i);e.success&&e.syncedEvents?(l(e.syncedEvents),t({type:"success",title:"Sucesso",message:"Eventos sincronizados com sucesso!"})):t({type:"error",title:"Erro",message:"Erro ao sincronizar eventos"})}catch(e){t({type:"error",title:"Erro",message:"Erro ao sincronizar eventos"})}finally{g(!1)}},disabled:m,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50",children:m?"Sincronizando...":"Sincronizar"})]})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("button",{onClick:()=>{a(function(e,t){return Hs(2,arguments),Ys(e,-Gs(t))}(r,1))},className:"p-2 hover:bg-gray-100 rounded-xl",children:(0,Oe.jsx)(St,{className:"w-5 h-5"})}),(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:Bo(r,"MMMM yyyy",{locale:Ko})}),(0,Oe.jsx)("button",{onClick:()=>{a(Ys(r,1))},className:"p-2 hover:bg-gray-100 rounded-xl",children:(0,Oe.jsx)(Ct,{className:"w-5 h-5"})})]}),(0,Oe.jsx)("button",{onClick:()=>{const e=new Date;a(e),o(e)},className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Hoje"})]})}),(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,Oe.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:e},e))}),(0,Oe.jsx)("div",{className:"grid grid-cols-7 gap-1",children:S.map((e,t)=>{const a=function(e,t){Hs(2,arguments);var r=Vs(e),a=Vs(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}(e,r),n=$s(e,new Date),l=$s(e,s),c=i.filter(t=>$s(new Date(t.startDate),e));return(0,Oe.jsxs)("div",{onClick:()=>o(e),className:"\n                        min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50\n                        ".concat(a?"bg-white":"bg-gray-50","\n                        ").concat(n?"ring-2 ring-blue-500":"","\n                        ").concat(l?"bg-blue-50 border-blue-300":"","\n                      "),children:[(0,Oe.jsx)("div",{className:"\n                        text-sm font-medium mb-1\n                        ".concat(a?"text-gray-900":"text-gray-400","\n                        ").concat(n?"text-blue-600":"","\n                      "),children:Bo(e,"d")}),(0,Oe.jsxs)("div",{className:"space-y-1",children:[c.slice(0,3).map(e=>(0,Oe.jsx)("div",{className:"text-xs p-1 rounded-xl truncate",style:{backgroundColor:e.color+"20",color:e.color},children:e.title},e.id)),c.length>3&&(0,Oe.jsxs)("div",{className:"text-xs text-gray-500",children:["+",c.length-3," mais"]})]})]},t)})})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros"}),(0,Oe.jsx)("div",{className:"space-y-2",children:[{value:"all",label:"Todos",color:"#6B7280"},{value:"meeting",label:"Reuni\xf5es",color:"#4285F4"},{value:"task",label:"Tarefas",color:"#34A853"},{value:"reminder",label:"Lembretes",color:"#FBBC04"}].map(e=>(0,Oe.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Oe.jsx)("input",{type:"radio",name:"filter",value:e.value,checked:v===e.value,onChange:e=>y(e.target.value),className:"text-blue-600"}),(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Oe.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.value))})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Eventos - ",Bo(s,"dd/MM/yyyy")]}),(0,Oe.jsx)("button",{onClick:()=>C(),className:"p-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:(0,Oe.jsx)(Pn,{className:"w-4 h-4"})})]}),(0,Oe.jsx)("div",{className:"space-y-3",children:0===k().length?(0,Oe.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum evento para este dia"}):k().map(e=>(0,Oe.jsx)("div",{className:"p-3 border border-gray-200 rounded-xl hover:bg-gray-50",children:(0,Oe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Oe.jsx)("h4",{className:"font-medium text-gray-900",children:e.title})]}),e.description&&(0,Oe.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(Xn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.isAllDay?"Dia inteiro":"".concat(Bo(e.startDate,"HH:mm")," - ").concat(Bo(e.endDate,"HH:mm"))})]}),e.location&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(Qo,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.location})]}),e.attendees&&e.attendees.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)(wt,{className:"w-3 h-3"}),(0,Oe.jsxs)("span",{children:[e.attendees.length," participantes"]})]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)("button",{onClick:()=>C(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Oe.jsx)(Un,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{try{const r=i.find(t=>t.id===e);u&&null!==r&&void 0!==r&&r.googleEventId&&await $o.deleteEvent(r.googleEventId),l(t=>t.filter(t=>t.id!==e)),t({type:"success",title:"Sucesso",message:"Evento exclu\xeddo com sucesso!"})}catch(r){t({type:"error",title:"Erro",message:"Erro ao excluir evento"})}})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,Oe.jsx)(Yo,{className:"w-4 h-4"})})]})]})},e.id))})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estat\xedsticas"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:"Total de eventos:"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:i.length})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:"Reuni\xf5es:"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:i.filter(e=>"meeting"===e.type).length})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:"Tarefas:"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:i.filter(e=>"task"===e.type).length})]}),(0,Oe.jsxs)("div",{className:"flex justify-between",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:"Lembretes:"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:i.filter(e=>"reminder"===e.type).length})]})]})]})]})]})]}),f&&(0,Oe.jsx)(Xo,{event:x,onSave:async e=>{try{if(x){const r=(0,De.A)((0,De.A)({},x),e);l(e=>e.map(e=>e.id===x.id?r:e)),u&&x.googleEventId&&await $o.updateEvent(x.googleEventId,r),t({type:"success",title:"Sucesso",message:"Evento atualizado com sucesso!"})}else{const r={id:"local-".concat(Date.now()),title:e.title||"",description:e.description||"",startDate:e.startDate||new Date,endDate:e.endDate||new Date,location:e.location||"",attendees:e.attendees||[],type:e.type||"reminder",color:e.color||"#2196F3",isAllDay:e.isAllDay||!1};if(l(e=>[...e,r]),u){const e=await $o.createEvent(r);e.success&&e.eventId&&l(t=>t.map(t=>t.id===r.id?(0,De.A)((0,De.A)({},t),{},{googleEventId:e.eventId}):t))}t({type:"success",title:"Sucesso",message:"Evento criado com sucesso!"})}}catch(r){t({type:"error",title:"Erro",message:"Erro ao salvar evento"})}p(!1),b(null)},onClose:()=>{p(!1),b(null)}})]})},ei=()=>{const{user:e}=Me(),{getPriorityColor:t,getPriorityTextColor:r}=rt(),a=ee(),[s,o]=(0,n.useState)([]),[i,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)("all"),[m,g]=(0,n.useState)("all"),[f,p]=(0,n.useState)("grid"),[x,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{v()},[null===e||void 0===e?void 0:e.id]),(0,n.useEffect)(()=>{y()},[s,c,u,m]);const v=async()=>{if(null!==e&&void 0!==e&&e.id){b(!0);try{const r=await An.getBoards(e.id);let a=[];for(const e of r)try{const t=await An.getCardsForBoard(e.board_id);if(t&&t.length>0){const r=t.map(t=>({id:t.id,title:t.title,description:t.description,priority:t.importance,status:t.status,due_date:t.due_date,board_name:e.name,column_name:t.list_name,created_at:t.created_at,updated_at:t.updated_at}));a=[...a,...r]}}catch(t){console.log("Board ".concat(e.name," n\xe3o encontrado ou exclu\xeddo, pulando..."));continue}a.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),o(a)}catch(t){console.error("Erro ao carregar cards:",t)}finally{b(!1)}}},y=()=>{let e=s;c&&(e=e.filter(e=>{var t;return e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())||(null===(t=e.board_name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))})),"all"!==u&&(e=e.filter(e=>e.priority===u)),"all"!==m&&(e=e.filter(e=>e.status===m)),l(e)},w=e=>{switch(e){case"todo":return"A Fazer";case"progress":return"Em Progresso";case"done":return"Conclu\xeddo";default:return e}},j=e=>{switch(e){case"todo":default:return"bg-gray-100 text-gray-700";case"progress":return"bg-blue-100 text-blue-700";case"done":return"bg-green-100 text-green-700"}},N=e=>new Date(e).toLocaleDateString("pt-BR"),k=e=>{a("/kanban")},C=e=>{console.log("Editar card:",e)},S=e=>{console.log("Excluir card:",e)};return x?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,Oe.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando cards..."})]})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Oe.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("button",{onClick:()=>a("/dashboard"),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,Oe.jsx)(cs,{className:"w-5 h-5"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Todos os Cards"}),(0,Oe.jsxs)("p",{className:"text-gray-600",children:[i.length," cards encontrados"]})]})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:(0,Oe.jsxs)("button",{onClick:()=>a("/kanban"),className:"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,Oe.jsx)(Pn,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Novo Card"})]})})]})})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Oe.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Oe.jsx)(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Buscar cards...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,Oe.jsx)("option",{value:"all",children:"Todas as Prioridades"}),(0,Oe.jsx)("option",{value:"high",children:"Alta"}),(0,Oe.jsx)("option",{value:"medium",children:"M\xe9dia"}),(0,Oe.jsx)("option",{value:"low",children:"Baixa"})]}),(0,Oe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,Oe.jsx)("option",{value:"all",children:"Todos os Status"}),(0,Oe.jsx)("option",{value:"todo",children:"A Fazer"}),(0,Oe.jsx)("option",{value:"progress",children:"Em Progresso"}),(0,Oe.jsx)("option",{value:"done",children:"Conclu\xeddo"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-xl p-1",children:[(0,Oe.jsx)("button",{onClick:()=>p("grid"),className:"p-2 rounded-lg transition-colors ".concat("grid"===f?"bg-white shadow-sm":"text-gray-500"),children:(0,Oe.jsx)(os,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>p("list"),className:"p-2 rounded-lg transition-colors ".concat("list"===f?"bg-white shadow-sm":"text-gray-500"),children:(0,Oe.jsx)(is,{className:"w-4 h-4"})})]})]})]})}),"grid"===f?(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(e=>(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:t(e.priority)},children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:e.title}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,Oe.jsx)("button",{onClick:e=>{e.stopPropagation(),k()},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:t=>{t.stopPropagation(),C(e)},className:"p-1 text-gray-400 hover:text-blue-600 rounded",children:(0,Oe.jsx)(Un,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e)},className:"p-1 text-gray-400 hover:text-red-600 rounded",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:t(e.priority),color:r(e.priority)},children:"high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"}),(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(j(e.status)),children:w(e.status)})]}),(0,Oe.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.board_name&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(it,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:e.board_name})]}),e.due_date&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(ft,{className:"w-4 h-4"}),(0,Oe.jsxs)("span",{children:["Vence em ",N(e.due_date)]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(Xn,{className:"w-4 h-4"}),(0,Oe.jsxs)("span",{children:["Criado em ",N(e.created_at)]})]})]})]})},e.id))}):(0,Oe.jsx)("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:(0,Oe.jsx)("div",{className:"overflow-x-auto",children:(0,Oe.jsxs)("table",{className:"w-full",children:[(0,Oe.jsx)("thead",{className:"bg-gray-50",children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Card"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridade"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quadro"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,Oe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>(0,Oe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Oe.jsx)("div",{className:"text-sm text-gray-500 line-clamp-1",children:e.description})]})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:t(e.priority),color:r(e.priority)},children:"high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(j(e.status)),children:w(e.status)})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.board_name}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.due_date?N(e.due_date):"-"}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(e.created_at)}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>k(),className:"text-gray-400 hover:text-gray-600",children:(0,Oe.jsx)(dt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>C(e),className:"text-gray-400 hover:text-blue-600",children:(0,Oe.jsx)(Un,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>S(e),className:"text-gray-400 hover:text-red-600",children:(0,Oe.jsx)(Fn,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),0===i.length&&!x&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(os,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum card encontrado"}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-6",children:c||"all"!==u||"all"!==m?"Tente ajustar os filtros de busca":"Crie seu primeiro card para come\xe7ar"}),!c&&"all"===u&&"all"===m&&(0,Oe.jsx)("button",{onClick:()=>a("/kanban"),className:"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors",children:"Criar Primeiro Card"})]})]})]})},ti=async()=>{console.log("\ud83d\ude80 Iniciando migra\xe7\xe3o do banco de dados...");if(!await(async()=>{try{console.log("\ud83d\udd04 Iniciando cria\xe7\xe3o das tabelas...");const t=["users","boards","lists","cards","subtasks","activities","chats","chat_messages","user_settings"];for(const r of t)try{const{error:e}=await En.from(r).select("*").limit(1);e?console.log("\u26a0\ufe0f Tabela ".concat(r," n\xe3o existe ou erro:"),e.message):console.log("\u2705 Tabela ".concat(r," existe"))}catch(e){console.log("\u26a0\ufe0f Erro ao verificar tabela ".concat(r,":"),e)}return console.log("\ud83c\udf89 Verifica\xe7\xe3o das tabelas conclu\xedda!"),!0}catch(t){return console.error("\u274c Erro ao verificar tabelas:",t),!1}})())return console.error("\u274c Falha ao verificar tabelas"),!1;return await(async()=>{try{console.log("\ud83d\udd04 Inserindo dados de exemplo...");const{data:e,error:t}=await En.from("users").insert([{username:"admin",email:"admin@example.com",role:"admin",cargo:"Administrador"}]).select().single();t?console.log("\u26a0\ufe0f Usu\xe1rio pode j\xe1 existir ou erro:",t.message):console.log("\u2705 Usu\xe1rio de exemplo criado");const{data:r,error:a}=await En.from("boards").insert([{board_id:"sample-board-1",name:"Projeto Exemplo",description:"Quadro de exemplo para demonstra\xe7\xe3o",owner_id:(null===e||void 0===e?void 0:e.id)||1}]).select().single();a?console.log("\u26a0\ufe0f Quadro pode j\xe1 existir ou erro:",a.message):console.log("\u2705 Quadro de exemplo criado");const n=[{list_id:"list-1",board_id:"sample-board-1",name:"A Fazer",position:1},{list_id:"list-2",board_id:"sample-board-1",name:"Em Progresso",position:2},{list_id:"list-3",board_id:"sample-board-1",name:"Conclu\xeddo",position:3}];for(const i of n){const{error:e}=await En.from("lists").insert([i]);e&&console.log("\u26a0\ufe0f Lista pode j\xe1 existir ou erro:",e.message)}console.log("\u2705 Listas de exemplo processadas");const s=[{card_id:"card-1",board_id:"sample-board-1",list_name:"A Fazer",title:"Implementar Sistema de Login",description:"Desenvolver sistema completo de autentica\xe7\xe3o",status:"pending",importance:"high",subject:"Desenvolvimento",goal:"Sistema funcional",members:["admin"],creation_date:(new Date).toISOString(),is_archived:!1,git_branch:"feature/login",git_commit:"initial",history:[],dependencies:[],recurrence:"Nenhuma"},{card_id:"card-2",board_id:"sample-board-1",list_name:"Em Progresso",title:"Configurar Banco de Dados",description:"Configurar PostgreSQL com migrations",status:"in_progress",importance:"high",subject:"Infraestrutura",goal:"Banco configurado",members:["admin"],creation_date:(new Date).toISOString(),is_archived:!1,git_branch:"feature/database",git_commit:"setup",history:[],dependencies:[],recurrence:"Nenhuma"}];for(const i of s){const{error:e}=await En.from("cards").insert([i]);e&&console.log("\u26a0\ufe0f Card pode j\xe1 existir ou erro:",e.message)}console.log("\u2705 Cards de exemplo processados");const o=[{card_id:"card-1",title:"Criar componentes de login",description:"Implementar formul\xe1rios de login e registro",status:"completed",priority:"medium",importance:"M\xe9dia",tags:["React","UI/UX"],completed:!0,completed_at:(new Date).toISOString()},{card_id:"card-1",title:"Implementar valida\xe7\xe3o de formul\xe1rios",description:"Adicionar valida\xe7\xe3o client-side e server-side",status:"pending",priority:"high",importance:"Alta",tags:["Valida\xe7\xe3o","Seguran\xe7a"],completed:!1}];for(const i of o){const{error:e}=await En.from("subtasks").insert([i]);e&&console.log("\u26a0\ufe0f Subtarefa pode j\xe1 existir ou erro:",e.message)}return console.log("\u2705 Subtarefas de exemplo processadas"),console.log("\ud83c\udf89 Dados de exemplo processados com sucesso!"),!0}catch(e){return console.error("\u274c Erro ao inserir dados de exemplo:",e),!1}})()?(console.log("\ud83c\udf89 Migra\xe7\xe3o conclu\xedda com sucesso!"),!0):(console.error("\u274c Falha ao inserir dados de exemplo"),!1)},ri=()=>{const{addToast:e}=Qe(),[t,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)("idle"),[o,i]=(0,n.useState)(!1),l="-- Schema do Banco de Dados para o Sistema Kanban\n-- Execute este SQL no Editor SQL do Supabase\n\n-- Tabela de usu\xe1rios\nCREATE TABLE IF NOT EXISTS users (\n  id SERIAL PRIMARY KEY,\n  username VARCHAR(100) UNIQUE NOT NULL,\n  email VARCHAR(255) UNIQUE NOT NULL,\n  role VARCHAR(50) DEFAULT 'user',\n  cargo VARCHAR(100),\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de quadros\nCREATE TABLE IF NOT EXISTS boards (\n  id SERIAL PRIMARY KEY,\n  board_id VARCHAR(100) UNIQUE NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  owner_id INTEGER REFERENCES users(id),\n  color VARCHAR(7),\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de listas\nCREATE TABLE IF NOT EXISTS lists (\n  id SERIAL PRIMARY KEY,\n  list_id VARCHAR(100) UNIQUE NOT NULL,\n  board_id VARCHAR(100) REFERENCES boards(board_id),\n  name VARCHAR(255) NOT NULL,\n  position INTEGER DEFAULT 0,\n  is_archived BOOLEAN DEFAULT FALSE,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de cards\nCREATE TABLE IF NOT EXISTS cards (\n  id SERIAL PRIMARY KEY,\n  card_id VARCHAR(100) UNIQUE NOT NULL,\n  board_id VARCHAR(100) REFERENCES boards(board_id),\n  list_name VARCHAR(255),\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  status VARCHAR(50) DEFAULT 'todo',\n  importance VARCHAR(20) DEFAULT 'medium',\n  due_date TIMESTAMP WITH TIME ZONE,\n  subject VARCHAR(255),\n  goal TEXT,\n  members JSONB DEFAULT '[]',\n  creation_date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  is_archived BOOLEAN DEFAULT FALSE,\n  git_branch VARCHAR(255),\n  git_commit VARCHAR(255),\n  history JSONB DEFAULT '[]',\n  dependencies JSONB DEFAULT '[]',\n  recurrence VARCHAR(50),\n  user_id INTEGER REFERENCES users(id),\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de subtarefas\nCREATE TABLE IF NOT EXISTS subtasks (\n  id SERIAL PRIMARY KEY,\n  card_id VARCHAR(100) REFERENCES cards(card_id),\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  status VARCHAR(50) DEFAULT 'todo',\n  priority VARCHAR(20) DEFAULT 'medium',\n  due_date TIMESTAMP WITH TIME ZONE,\n  estimated_time VARCHAR(50),\n  actual_time VARCHAR(50),\n  importance VARCHAR(20) DEFAULT 'medium',\n  tags JSONB DEFAULT '[]',\n  category VARCHAR(100),\n  completed BOOLEAN DEFAULT FALSE,\n  completed_at TIMESTAMP WITH TIME ZONE,\n  user_id INTEGER REFERENCES users(id),\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de atividades\nCREATE TABLE IF NOT EXISTS activities (\n  id SERIAL PRIMARY KEY,\n  card_id VARCHAR(100) REFERENCES cards(card_id),\n  user_id INTEGER REFERENCES users(id),\n  action VARCHAR(100) NOT NULL,\n  description TEXT,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de chats\nCREATE TABLE IF NOT EXISTS chats (\n  id SERIAL PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  chat_type VARCHAR(50) DEFAULT 'general',\n  board_id INTEGER REFERENCES boards(id),\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de mensagens\nCREATE TABLE IF NOT EXISTS chat_messages (\n  id SERIAL PRIMARY KEY,\n  chat_id INTEGER REFERENCES chats(id),\n  user_id INTEGER REFERENCES users(id),\n  message TEXT NOT NULL,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Tabela de configura\xe7\xf5es\nCREATE TABLE IF NOT EXISTS user_settings (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER REFERENCES users(id),\n  theme VARCHAR(20) DEFAULT 'light',\n  language VARCHAR(10) DEFAULT 'pt',\n  notifications BOOLEAN DEFAULT TRUE,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Inserir dados de exemplo\nINSERT INTO users (username, email, role, cargo) \nVALUES ('admin', 'admin@example.com', 'admin', 'Administrador')\nON CONFLICT (username) DO NOTHING;\n\n-- Inserir quadro de exemplo\nINSERT INTO boards (board_id, name, description, owner_id) \nVALUES ('sample-board-1', 'Projeto Exemplo', 'Quadro de exemplo para demonstra\xe7\xe3o', 1)\nON CONFLICT (board_id) DO NOTHING;\n\n-- Inserir listas de exemplo\nINSERT INTO lists (list_id, board_id, name, position) VALUES\n  ('list-1', 'sample-board-1', 'A Fazer', 1),\n  ('list-2', 'sample-board-1', 'Em Progresso', 2),\n  ('list-3', 'sample-board-1', 'Conclu\xeddo', 3)\nON CONFLICT (list_id) DO NOTHING;\n\n-- Inserir cards de exemplo\nINSERT INTO cards (card_id, board_id, list_name, title, description, status, importance, subject, goal, members, git_branch, git_commit, dependencies, recurrence) VALUES\n  ('card-1', 'sample-board-1', 'A Fazer', 'Implementar Sistema de Login', 'Desenvolver sistema completo de autentica\xe7\xe3o', 'pending', 'high', 'Desenvolvimento', 'Sistema funcional', '[\"admin\"]', 'feature/login', 'initial', '[]', 'Nenhuma'),\n  ('card-2', 'sample-board-1', 'Em Progresso', 'Configurar Banco de Dados', 'Configurar PostgreSQL com migrations', 'in_progress', 'high', 'Infraestrutura', 'Banco configurado', '[\"admin\"]', 'feature/database', 'setup', '[]', 'Nenhuma')\nON CONFLICT (card_id) DO NOTHING;\n\n-- Inserir subtarefas de exemplo\nINSERT INTO subtasks (card_id, title, description, status, priority, importance, tags, completed, completed_at) VALUES\n  ('card-1', 'Criar componentes de login', 'Implementar formul\xe1rios de login e registro', 'completed', 'medium', 'M\xe9dia', '[\"React\", \"UI/UX\"]', true, NOW()),\n  ('card-1', 'Implementar valida\xe7\xe3o de formul\xe1rios', 'Adicionar valida\xe7\xe3o client-side e server-side', 'pending', 'high', 'Alta', '[\"Valida\xe7\xe3o\", \"Seguran\xe7a\"]', false, NULL)\nON CONFLICT DO NOTHING;";return(0,Oe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center p-4",children:(0,Oe.jsx)("div",{className:"max-w-4xl w-full",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden",children:[(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,Oe.jsx)(_t,{className:"w-6 h-6"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-xl font-bold",children:"Configura\xe7\xe3o do Banco"}),(0,Oe.jsx)("p",{className:"text-blue-100 text-sm",children:"Configure o PostgreSQL/Supabase"})]})]})}),(0,Oe.jsxs)("div",{className:"p-6 space-y-6",children:["success"===a&&(0,Oe.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(qe,{className:"w-5 h-5 text-green-600"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-semibold text-green-800",children:"Configura\xe7\xe3o Conclu\xedda!"}),(0,Oe.jsx)("p",{className:"text-green-700 text-sm",children:"O banco de dados foi configurado com sucesso."})]})]})}),"error"===a&&(0,Oe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(We,{className:"w-5 h-5 text-red-600"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-semibold text-red-800",children:"Erro na Configura\xe7\xe3o"}),(0,Oe.jsx)("p",{className:"text-red-700 text-sm",children:"Siga as instru\xe7\xf5es abaixo para configurar manualmente."})]})]})}),(0,Oe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Instru\xe7\xf5es de Configura\xe7\xe3o"}),(0,Oe.jsxs)("ol",{className:"text-blue-700 text-sm space-y-2",children:[(0,Oe.jsxs)("li",{children:["1. Acesse o painel do Supabase em ",(0,Oe.jsx)("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com"})]}),(0,Oe.jsx)("li",{children:"2. V\xe1 para o seu projeto"}),(0,Oe.jsx)("li",{children:'3. Acesse "SQL Editor" no menu lateral'}),(0,Oe.jsx)("li",{children:'4. Clique em "New Query"'}),(0,Oe.jsx)("li",{children:"5. Cole o SQL abaixo e execute"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2",children:[(0,Oe.jsx)(Nt,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Schema SQL"})]}),(0,Oe.jsxs)("button",{onClick:()=>{return t=l,navigator.clipboard.writeText(t),void e({type:"success",title:"Copiado!",message:"SQL copiado para a \xe1rea de transfer\xeancia."});var t},className:"flex items-center space-x-2 px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(Gn,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:"Copiar"})]})]}),(0,Oe.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto",children:(0,Oe.jsx)("pre",{className:"text-xs",children:l})})]}),(0,Oe.jsxs)("div",{className:"flex space-x-4",children:[(0,Oe.jsx)("button",{onClick:async()=>{r(!0),s("idle");try{await ti()?(s("success"),e({type:"success",title:"Migra\xe7\xe3o Conclu\xedda",message:"Banco de dados configurado com sucesso!"})):(s("error"),e({type:"error",title:"Erro na Migra\xe7\xe3o",message:"Verifique as instru\xe7\xf5es abaixo para configurar manualmente."}))}catch(t){s("error"),e({type:"error",title:"Erro na Migra\xe7\xe3o",message:"Erro inesperado durante a migra\xe7\xe3o."})}finally{r(!1)}},disabled:t,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Us,{className:"w-4 h-4 animate-spin"}),(0,Oe.jsx)("span",{children:"Configurando..."})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(_t,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Tentar Configura\xe7\xe3o Autom\xe1tica"})]})}),(0,Oe.jsxs)("button",{onClick:()=>i(!o),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[o?"Ocultar":"Mostrar"," Detalhes"]})]}),o&&(0,Oe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,Oe.jsx)("h4",{className:"font-semibold text-gray-800",children:"Detalhes T\xe9cnicos"}),(0,Oe.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Oe.jsx)("li",{children:"\u2022 O sistema usa Supabase como backend PostgreSQL"}),(0,Oe.jsx)("li",{children:"\u2022 Todas as tabelas s\xe3o criadas com RLS (Row Level Security) habilitado"}),(0,Oe.jsx)("li",{children:"\u2022 Os dados de exemplo incluem usu\xe1rio admin, quadro e cards"}),(0,Oe.jsx)("li",{children:'\u2022 Ap\xf3s a configura\xe7\xe3o, voc\xea pode acessar "Minhas Atividades" para ver os dados'})]})]})]})]})})})},ai=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ni=e=>{let{children:t}=e;const{isAuthenticated:r,isLoading:a}=Me();return a?(0,Oe.jsx)("div",{className:"min-h-screen bg-brand-light-gray/30 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 border-4 border-brand-red border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-brand-gray dark:text-gray-50",children:"Carregando..."})]})}):r?(0,Oe.jsx)(Oe.Fragment,{children:t}):(0,Oe.jsx)(fe,{to:"/login",replace:!0})},si=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),i=()=>{o(!s)};return(0,Oe.jsxs)("div",{className:"flex h-screen bg-brand-light-gray/30 dark:bg-gray-900",children:[(0,Oe.jsx)("div",{className:"hidden md:block",children:(0,Oe.jsx)(Pt,{isCollapsed:r,onToggle:()=>{a(!r)}})}),s&&(0,Oe.jsxs)("div",{className:"md:hidden fixed inset-0 z-50",children:[(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:i}),(0,Oe.jsx)("div",{className:"fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg",children:(0,Oe.jsx)(Pt,{isCollapsed:!1,onToggle:i})})]}),(0,Oe.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Oe.jsx)("div",{className:"md:hidden bg-white dark:bg-gray-800 border-b border-brand-light-gray dark:border-gray-700 p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("button",{onClick:i,className:"p-2 rounded-lg hover:bg-brand-light-gray dark:hover:bg-gray-700",children:(0,Oe.jsx)(ai,{className:"w-6 h-6 text-brand-gray dark:text-gray-50"})}),(0,Oe.jsx)("h1",{className:"text-lg font-bold text-brand-gray dark:text-gray-50",children:"Boodesk"}),(0,Oe.jsx)("div",{className:"w-10"})]})}),(0,Oe.jsx)("div",{className:"flex-1 overflow-auto",children:t})]})]})},oi=()=>{const{isAuthenticated:e}=Me();return(0,Oe.jsxs)(be,{children:[(0,Oe.jsx)(pe,{path:"/login",element:e?(0,Oe.jsx)(fe,{to:"/dashboard",replace:!0}):(0,Oe.jsx)(ht,{})}),(0,Oe.jsx)(pe,{path:"/dashboard",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(On,{})})})}),(0,Oe.jsx)(pe,{path:"/boards",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(ds,{})})})}),(0,Oe.jsx)(pe,{path:"/meetings",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(xs,{})})})}),(0,Oe.jsx)(pe,{path:"/pomodoro",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray mb-6",children:"Pomodoro"}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:"Funcionalidade de Pomodoro em desenvolvimento..."})})]})})})}),(0,Oe.jsx)(pe,{path:"/activities",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(Ms,{})})})}),(0,Oe.jsx)(pe,{path:"/calendar",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(Zo,{})})})}),(0,Oe.jsx)(pe,{path:"/all-cards",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(ei,{})})})}),(0,Oe.jsx)(pe,{path:"/files",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(qs,{})})})}),(0,Oe.jsx)(pe,{path:"/database-setup",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(ri,{})})}),(0,Oe.jsx)(pe,{path:"/chat",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(js,{})})})}),(0,Oe.jsx)(pe,{path:"/reports",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray mb-6",children:"Relat\xf3rios"}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:"Funcionalidade de relat\xf3rios em desenvolvimento..."})})]})})})}),(0,Oe.jsx)(pe,{path:"/users",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-brand-gray mb-6",children:"Gerenciamento de Usu\xe1rios"}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsx)("p",{className:"text-brand-gray/70",children:"Funcionalidade de gerenciamento de usu\xe1rios em desenvolvimento..."})})]})})})}),(0,Oe.jsx)(pe,{path:"/settings",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(_s,{})})})}),(0,Oe.jsx)(pe,{path:"/profile",element:(0,Oe.jsx)(ni,{children:(0,Oe.jsx)(si,{children:(0,Oe.jsx)(As,{})})})}),(0,Oe.jsx)(pe,{path:"/",element:(0,Oe.jsx)(fe,{to:"/dashboard",replace:!0})}),(0,Oe.jsx)(pe,{path:"*",element:(0,Oe.jsx)("div",{className:"min-h-screen bg-brand-light-gray/30 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("h1",{className:"text-4xl font-bold text-brand-gray dark:text-gray-50 mb-4",children:"404"}),(0,Oe.jsx)("p",{className:"text-brand-gray/70 dark:text-gray-300 mb-6",children:"P\xe1gina n\xe3o encontrada"}),(0,Oe.jsx)("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Voltar"})]})})})]})},ii=()=>(0,Oe.jsx)(ot,{children:(0,Oe.jsx)(Ie,{children:(0,Oe.jsx)(Ye,{children:(0,Oe.jsx)(Ze,{children:(0,Oe.jsx)(at,{children:(0,Oe.jsx)(Se,{children:(0,Oe.jsx)(oi,{})})})})})})}),li=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then(t=>{let{getCLS:r,getFID:a,getFCP:n,getLCP:s,getTTFB:o}=t;r(e),a(e),n(e),s(e),o(e)})};o.createRoot(document.getElementById("root")).render((0,Oe.jsx)(n.StrictMode,{children:(0,Oe.jsx)(ii,{})})),li()})();
//# sourceMappingURL=main.88b89955.js.map